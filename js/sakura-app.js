/*! For license information please see sakura-app.js.LICENSE.txt */
(()=>{var e={633:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});const a={respondId:null,moveForm:function(e,t,n){var a,o=jQuery("#cancel-comment-reply-link"),r=o.text(),i=this,s=i.I(e),c=i.I(n),l=i.I("cancel-comment-reply-link"),d=i.I("comment_parent");if(o.text(r),i.respondId=n,i.I("wp-temp-form-div")||((a=document.createElement("div")).id="wp-temp-form-div",a.style.display="none",c.parentNode.insertBefore(a,c)),s)s.parentNode.insertBefore(c,s.nextSibling);else{var u=i.I("wp-temp-form-div");i.I("comment_parent").value="0",u.parentNode.insertBefore(c,u),u.remove()}jQuery("body").animate({scrollTop:jQuery("#respond").offset().top-180},400),d.value=t,l.style.display="",l.onclick=function(){var e=addComment,t=e.I("wp-temp-form-div"),n=e.I(e.respondId);return e.I("comment_parent").value="0",t&&n&&(t.parentNode.insertBefore(n,t),t.remove()),this.style.display="none",this.onclick=null,!1};try{i.I("comment").focus()}catch(e){}return!1},I:function(e){return document.getElementById(e)},clearButterbar:function(){var e=document.getElementsByClassName("butterBar");if(e.length>0)for(var t=0;t<e.length;t++)e[t].remove()},createButterbar:function(e,t){var n=this;n.clearButterbar(),document.body.insertAdjacentHTML("beforeend",'<div class="butterBar butterBar--center"><p class="butterBar-message">'+e+"</p></div>"),t>0?setTimeout((function(){n.clearButterbar()}),t):setTimeout((function(){n.clearButterbar()}),6e3)}}},37:(e,t)=>{"use strict";var n=["# 商业转载请联系作者获得授权，非商业转载请注明出处。","# For commercial use, please contact the author for authorization. For non-commercial use, please indicate the source.","# 协议(License)：署名-非商业性使用-相同方式共享 4.0 国际 (CC BY-NC-SA 4.0)","# 作者(Author)："+mashiro_option.author_name,"# 链接(URL)："+window.location.href,"# 来源(Source)："+mashiro_option.site_name];function a(e){var t=window.getSelection();if(t){var a=t.toString();a.length>30&&(!function(e,t){e.preventDefault();var a=n.join("<br>")+"<br><br>"+t.replace(/\r\n/g,"<br>"),o=n.join("\n")+"\n\n"+t.toString().replace(/\r\n/g,"\n");if(e.clipboardData)e.clipboardData.setData("text/html",a),e.clipboardData.setData("text/plain",o);else if(window.clipboardData)window.clipboardData.setData("text",o)}(e,a),addComment.createButterbar("复制成功！<br>Copied to clipboard successfully!",1e3))}}t.Z=function(){mashiro_option.clipboardCopyright&&(document.body.removeEventListener("copy",a),document.body.addEventListener("copy",a))}}},t={};function n(a){if(t[a])return t[a].exports;var o=t[a]={exports:{}};return e[a](o,o.exports,n),o.exports}n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{function e(e,n){var a;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return t(e,n)}(e))||n&&e&&"number"==typeof e.length){a&&(e=a);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return s=e.done,e},e:function(e){c=!0,i=e},f:function(){try{s||null==a.return||a.return()}finally{if(c)throw i}}}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var a,o=n(37).Z;function r(e,t,n){var a="";if(n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3),a="; expires="+o.toUTCString()}document.cookie=e+mashiro_option.cookie_version_control+"="+(t||"")+a+"; path=/"}function s(e){for(var t=e+mashiro_option.cookie_version_control+"=",n=document.cookie.split(";"),a=0;a<n.length;a++){for(var o=n[a];" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return null}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3?arguments[3]:void 0,o=e;o.status=o.status||getComputedStyle(o,null).display;var r="none"!=o.status;1==r&&"show"==n||0==r&&"hide"==n||(o.status=r?"none":"block",o.style.transition="height "+t/1e3+"s",o.style.overflow="hidden",clearTimeout(o.tagTimer),o.tagTimer=o.tagTimer||null,o.style.display="block",o.tagHeight=o.tagHeight||o.clientHeight+"px",o.style.display="",o.style.height=r?o.tagHeight:"0px",setTimeout((function(){o.style.height=r?"0px":o.tagHeight}),0),o.tagTimer=setTimeout((function(){o.style.display=r?"none":"block",o.style.transition="",o.style.overflow="",o.style.height="",o.status=o.tagHeight=null}),t),a&&a())}function l(){if(document.querySelector("article")&&document.querySelector("article").classList.contains("post-list-thumb"))for(var e=new IntersectionObserver((function(t){t.forEach((function(t){window.IntersectionObserver?t.target.classList.contains("post-list-show")?(t.target.style.willChange="auto",e.unobserve(t.target)):t.isIntersecting&&(t.target.classList.add("post-list-show"),t.target.style.willChange="auto",e.unobserve(t.target)):(t.target.style.willChange="auto",!1===t.target.classList.contains("post-list-show")&&t.target.classList.add("post-list-show"))}))}),{root:null,threshold:[.66]}),t=document.getElementsByClassName("post-list-thumb"),n=0;n<t.length;n++)e.observe(t[n])}function d(){var e=document.getElementsByTagName("pre"),t=document.querySelectorAll("pre code");if(e.length){for(var n=0;n<t.length;n++)hljs.highlightBlock(t[n]);for(var a=0;a<e.length;a++)r(a);hljs.initLineNumbersOnLoad();var o=document.querySelector(".entry-content");o&&o.addEventListener("click",(function(e){e.target.classList.contains("highlight-wrap")&&(e.target.classList.toggle("code-block-fullscreen"),document.getElementsByTagName("html")[0].classList.toggle("code-block-fullscreen-html-scroll"))}))}function r(n){var a={autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",contenteditable:"false",design:"by Mashiro"},o=e[n].children[0].className,r=o.substr(0,o.indexOf(" ")).replace("language-",""),i=t[n];for(var s in"hljs"==r.toLowerCase()&&(r=i.className.replace("hljs","")?i.className.replace("hljs",""):"text"),e[n].classList.add("highlight-wrap"),a)e[n].setAttribute(s,a[s]);i.setAttribute("data-rel",r.toUpperCase())}}a=navigator.userAgent.match(/(Firefox|Chrome|Version|Opera|Version)\/(\d+)/i),Poi.pjax=a&&a[2]>{Firefox:84,Edg:88,Chrome:88,Opera:74,Version:9}[a[1]]&&Poi.pjax,mashiro_global.variables=new function(){this.has_hls=!1,this.skinSecter=!0},mashiro_global.ini=new function(){this.normalize=function(){lazyload(),l(),T(),W(),B(),b(),document.body.clientWidth>860&&window.addEventListener("scroll",(function(){var e,t=document.documentElement.scrollTop||document.body.scrollTop,n=document.documentElement.scrollHeight||document.body.scrollHeight,a=window.innerHeight,o=parseInt(t/(n-a)*100),r=document.getElementById("bar");switch(r.style.width=o+"%",!0){case o<=19:e="#cccccc";break;case o<=39:e="#50bcb6";break;case o<=59:e="#85c440";break;case o<=79:e="#f2b63c";break;case o<=99:e="#FF0000";break;case 100==o:e="#5aaadb";break;default:e="orange"}r.style.background=e;var i=document.querySelector(".toc-container"),s=document.querySelector(".site-content"),c=document.querySelector(".skin-menu");i&&s&&(i.style.height=s.getBoundingClientRect(outerHeight).height+"px"),c&&c.classList.remove("show")})),P(),C()},this.pjax=function(){x(),l(),T(),W(),B(),b(),P(),C()}},mashiro_global.font_control=new function(){var e=document.getElementsByClassName("control-btn-serif")[0],t=document.getElementsByClassName("control-btn-sans-serif")[0];this.change_font=function(){document.body.classList.contains("serif")?(document.body.classList.remove("serif"),e&&e.classList.remove("selected"),t&&t.classList.remove("selected"),r("font_family","sans-serif",30)):(document.body.classList.add("serif"),e&&e.classList.add("selected"),t&&t.classList.remove("selected"),r("font_family","serif",30),document.body.clientWidth<=860&&addComment.createButterbar("将从网络加载字体，流量请注意"))},this.ini=function(){document.body.clientWidth>860&&(s("font_family")&&"serif"!=s("font_family")||document.body.classList.add("serif")),"sans-serif"==s("font_family")&&(document.body.classList.remove("sans-serif"),e&&e.classList.remove("selected"),t&&t.classList.add("selected"))}},mashiro_global.font_control.ini();try{d()}catch(e){}if("new"==Poi.reply_link_version){var u=document.querySelector(".comments-main");u&&u.addEventListener("click",(function(e){if(e.target.classList.contains("comment-reply-link")){e.preventDefault(),e.stopPropagation();var t=e.target.getAttribute("data-commentid");addComment.moveForm("comment-"+t,t,"respond",this.getAttribute("data-postid"))}}))}var m,g=function(e){if("function"==typeof e)return"complete"===document.readyState?e():void document.addEventListener("DOMContentLoaded",e,!1)};function v(){var e=document.querySelector(".form-submit #submit");if(null!=e){e.insertAdjacentHTML("afterend",'<div class="insert-image-tips popup"><i class="fa fa-picture-o" aria-hidden="true"></i><span class="insert-img-popuptext" id="uploadTipPopup">上传图片</span></div><input id="upload-img-file" type="file" accept="image/*" multiple="multiple" class="insert-image-button">'),function(){var e=document.getElementsByClassName("insert-image-tips")[0],t=document.getElementById("upload-img-file");t&&t.addEventListener("change",(function(){var t=this;if(this.files.length>10)return addComment.createButterbar("每次上传上限为10张.<br>10 files max per request."),0;for(var n=0;n<this.files.length;n++)if(this.files[n].size>=5242880)return void alert("图片上传大小限制为5 MB.\n5 MB max per file.\n\n「"+this.files[n].name+"」\n\n这张图太大啦~请重新上传噢！\nThis image is too large~Please reupload!");for(var a=function(n){var a=t.files[n],o=new FormData,r=new XMLHttpRequest;o.append("cmt_img_file",a),r.addEventListener("loadstart",(function(){e.innerHTML='<i class="fa fa-spinner rotating" aria-hidden="true"></i>',addComment.createButterbar("上传中...<br>Uploading...")})),r.open("POST",Poi.api+"sakura/v1/image/upload?_wpnonce="+Poi.nonce,!0),r.send(o),r.onreadystatechange=function(){if(4!=r.readyState||200!=r.status&&304!=r.status)4==r.readyState&&(e.innerHTML='<i class="fa fa-times" aria-hidden="true" style="color:red"></i>',alert("上传失败，请重试.\nUpload failed, please try again."),setTimeout((function(){e.innerHTML='<i class="fa fa-picture-o" aria-hidden="true"></i>'}),1e3));else{e.innerHTML='<i class="fa fa-check" aria-hidden="true"></i>',setTimeout((function(){e.innerHTML='<i class="fa fa-picture-o" aria-hidden="true"></i>'}),1e3);var t=JSON.parse(r.responseText);if(200==t.status){var n=t.proxy;document.getElementById("upload-img-show").insertAdjacentHTML("afterend",'<img class="lazyload upload-image-preview" src="https://cdn.jsdelivr.net/gh/Fuukei/Public_Repository@latest/vision/theme/colorful/load/inload.svg" data-src="'+n+'" onclick="window.open(\''+n+'\')" onerror="imgError(this)" />'),lazyload(),addComment.createButterbar("图片上传成功~<br>Uploaded successfully~"),A(n,type="Img")}else addComment.createButterbar("上传失败！<br>Uploaded failed!<br> 文件名/Filename: "+a.name+"<br>code: "+t.status+"<br>"+t.message,3e3)}}},o=0;o<this.files.length;o++)a(o)}))}();var t=document.getElementById("upload-img-file"),n=document.getElementsByClassName("insert-image-tips")[0],a=document.getElementById("uploadTipPopup");t&&(t.addEventListener("mouseenter",(function(){n.classList.toggle("insert-image-tips-hover"),a.classList.toggle("show")})),t.addEventListener("mouseleave",(function(){n.classList.toggle("insert-image-tips-hover"),a.classList.toggle("show")})))}}function f(){document.getElementsByClassName("comment_inline_img").length&&document.getElementsByClassName("comments-main")[0].addEventListener("click",(function(e){if(e.target.classList.contains("comment_inline_img")){var t=e.target.src;window.open(t)}}))}function y(){document.getElementsByClassName("emoji-item").length&&document.querySelector(".menhera-container").addEventListener("click",(function(e){e.target.classList.contains("emoji-item")&&A(e.target.innerText,"custom","`","` ")}))}function b(){if(!1===mashiro_global.variables.skinSecter){var e=document.querySelector(".pattern-center"),t=document.querySelector(".headertop-bar");e&&(e.classList.remove("pattern-center"),e.classList.add("headertop-bar-sakura")),t&&(t.classList.remove("headertop-bar"),t.classList.add("headertop-bar-sakura"))}else{var n=document.querySelector(".pattern-center-sakura"),a=document.querySelector(".headertop-bar-sakura");n&&(n.classList.remove("pattern-center-sakura"),n.classList.add("'pattern-center")),a&&(a.classList.remove("headertop-bar-sakura"),a.classList.add("headertop-bar"))}}function L(){var e=s("bgImgSetting");e?document.getElementById(e).click():document.getElementById("white-bg").click()}function _(){var e=document.getElementById("primary");e&&e.addEventListener("contextmenu",(function(e){"img"==e.target.nodeName.toLowerCase()&&(e.preventDefault(),e.stopPropagation())}))}f(),y(),!s("darkcache")&&((new Date).getHours()>21||(new Date).getHours()<7)&&(m="dark",document.cookie=m+mashiro_option.cookie_version_control+"=; Max-Age=-99999999;",r("darkcache","cached",.4)),setTimeout((function(){!function(){var e=s("dark"),t=new Date,n=document.body.clientWidth;if(e)"1"==e&&(t.getHours()>=22||t.getHours()<=6)&&mashiro_option.darkmode?(setTimeout((function(){document.getElementById("dark-bg").click()}),100),console.log("夜间模式开启")):("0"==e||t.getHours()<22||t.getHours()>6)&&(n>860?(setTimeout((function(){L()}),100),console.log("夜间模式关闭")):(document.getElementsByTagName("html")[0].style.background="unset",document.body.classList.remove("dark"),document.getElementById("moblieDarkLight").innerHTML='<i class="fa fa-moon-o" aria-hidden="true"></i>',r("dark","0",.33)));else if((t.getHours()>21||t.getHours()<7)&&mashiro_option.darkmode)setTimeout((function(){document.getElementById("dark-bg").click()}),100),console.log("夜间模式开启");else if(n>860)setTimeout((function(){L()}),100),console.log("夜间模式关闭");else{document.getElementsByTagName("html")[0].style.background="unset",document.body.classList.remove("dark");var a=document.getElementById("moblieDarkLight");a&&(a.innerHTML='<i class="fa fa-moon-o" aria-hidden="true"></i>'),r("dark","0",.33)}}()}),100),_(),g((function(){var e;(e=document.querySelector(".centerbg"))&&(document.body.clientWidth<860&&1==mashiro_option.random_graphs_mts?e.style.backgroundImage="url("+mashiro_option.cover_api+"?type=mobile)":e.style.backgroundImage="url("+mashiro_option.cover_api+")");function t(){document.querySelector(".skin-menu").classList.remove("show"),setTimeout((function(){null!=document.querySelector(".changeSkin-gear")&&(document.querySelector(".changeSkin-gear").style.visibility="visible")}),300)}document.querySelectorAll(".menu-list li").forEach((function(e){e.addEventListener("click",(function(){var e,n=this.id;switch("white-bg"==n||"dark-bg"==n?(mashiro_global.variables.skinSecter=!0,b()):(mashiro_global.variables.skinSecter=!1,b()),"dark-bg"==n?(document.getElementsByTagName("html")[0].style.background="#333333",document.getElementsByClassName("site-content")[0].style.backgroundColor="#333333",document.body.classList.add("dark"),r("dark","1",.33)):(document.getElementsByTagName("html")[0].style.background="unset",document.getElementsByClassName("site-content")[0].style.backgroundColor="rgba(255, 255, 255, .8)",document.body.classList.remove("dark"),r("dark","0",.33),r("bgImgSetting",n,30)),n){case"white-bg":e=mashiro_option.skin_bg0,document.body.classList.remove("dynamic");break;case"diy1-bg":e=mashiro_option.skin_bg1;break;case"diy2-bg":e=mashiro_option.skin_bg2;break;case"diy3-bg":e=mashiro_option.skin_bg3;break;case"diy4-bg":e=mashiro_option.skin_bg4}document.body.style.backgroundImage="url(".concat(e,")"),t()}))}));var n=document.querySelector("#changskin"),a=document.querySelector(".skin-menu #close-skinMenu");n&&n.addEventListener("click",(function(){document.querySelector(".skin-menu").classList.toggle("show")})),a&&a.addEventListener("click",(function(){t()})),v()}));var E=1;function k(){document.body.clientWidth<860&&1==mashiro_option.random_graphs_mts?document.querySelector(".centerbg").style.backgroundImage="url("+mashiro_option.cover_api+"?type=mobile&"+E+")":document.querySelector(".centerbg").style.backgroundImage="url("+mashiro_option.cover_api+"?"+E+")",E+=1}function w(){E-=1,document.body.clientWidth<860&&1==mashiro_option.random_graphs_mts?document.querySelector(".centerbg").style.backgroundImage="url("+mashiro_option.cover_api+"?type=mobile&"+E+")":document.querySelector(".centerbg").style.backgroundImage="url("+mashiro_option.cover_api+"?"+E+")"}function q(e){var t=document.getElementById("archives");if(null!=t){var n=t.getElementsByClassName("al_mon");1==e?(t.addEventListener("click",(function(e){e.target.classList.contains("al_mon")&&(c(e.target.nextElementSibling,500),e.preventDefault())})),lazyload()):function(){var e=document.getElementById("al_expand_collapse");e.style.cursor="s-resize";for(var a=0;a<n.length;a++){var o=n[a],r=o.nextElementSibling.getElementsByTagName("li").length;o.style.cursor="s-resize",o.querySelector("#post-num").textContent=r}for(var i=t.getElementsByClassName("al_post_list"),s=i[0],l=0;l<i.length;l++)c(i[l],500,"hide",(function(){c(s,500,"show")}));if(t.addEventListener("click",(function(e){e.target.classList.contains("al_mon")&&(c(e.target.nextElementSibling,500),e.preventDefault())})),document.body.clientWidth>860){for(var d=function(e){var t=i[e];t.parentNode.addEventListener("mouseover",(function(){return c(t,500,"show"),!1}))},u=0;u<i.length;u++)d(u);var m=0;e.addEventListener("click",(function(){if(0==m){for(var e=0;e<i.length;e++){c(i[e],500,"show")}m++}else if(1==m){for(var t=0;t<i.length;t++){c(i[t],500,"hide")}m--}}))}}()}}function S(){var e=addComment.I("coverVideo"),t=document.getElementById("coverVideo").getAttribute("data-src");if(Hls.isSupported()){var n=new Hls;n.loadSource(t),n.attachMedia(e),n.on(Hls.Events.MANIFEST_PARSED,(function(){e.play()}))}else e.canPlayType("application/vnd.apple.mpegurl")&&(e.src=t,e.addEventListener("loadedmetadata",(function(){e.play()})))}function B(){var e,t,n,a,o=document.getElementsByTagName("video")[0];o&&o.classList.contains("hls")&&(mashiro_global.variables.has_hls?S():(e="https://cdn.jsdelivr.net/gh/mashirozx/Sakura@3.3.3/cdn/js/src/16.hls.js",t=function(){S(),mashiro_global.variables.has_hls=!0},n=document.createElement("script"),a=t||function(){},n.type="text/javascript",n.onload=function(){a()},n.src=e,document.head.appendChild(n)))}function T(){for(var e=document.querySelectorAll("pre code"),t=0;t<e.length;t++)e[t].setAttribute("id","hljs-"+t),e[t].insertAdjacentHTML("afterend",'<a class="copy-code" href="javascript:" data-clipboard-target="#hljs-'+t+'" title="拷贝代码"><i class="fa fa-clipboard" aria-hidden="true"></i>');new ClipboardJS(".copy-code")}function I(e){if(!(document.body.clientWidth<=1200))if(document.querySelector("div.have-toc")||document.querySelector("div.has-toc")){if(e){for(var t=1,n="sakura"==mashiro_option.entry_content_theme?document.querySelector("article.type-post")?document.querySelector("div.pattern-attachment-img")?-75:200:375:window.innerHeight/2,a=document.querySelectorAll(".entry-content,.links"),o=0;o<a.length;o++)for(var r=a[o].querySelectorAll("h1,h2,h3,h4,h5"),i=0;i<r.length;i++)r[i].id="toc-head-"+t,t++;tocbot.init({tocSelector:".toc",contentSelector:[".entry-content",".links"],headingSelector:"h1, h2, h3, h4, h5",headingsOffset:n-window.innerHeight/2})}}else{var s=document.getElementsByClassName("toc-container")[0];s&&(s.remove(),s=null)}}g((function(){var e=document.getElementById("bg-next"),t=document.getElementById("bg-pre");e&&(e.onclick=function(){k()}),t&&(t.onclick=function(){w()})})),q(),I(!0);var x=function(){v(),_(),f(),y(),mashiro_global.font_control.ini();for(var e=document.getElementsByTagName("p"),t=0;t<e.length;t++)e[t].classList.remove("head-copyright");try{d()}catch(e){}try{H()}catch(e){}lazyload();var n=document.getElementsByTagName("div"),a=document.getElementById("to-load-aplayer");a&&a.addEventListener("click",(function(){try{reloadHermit()}catch(e){}for(var e=0;e<n.length;e++)n[e].classList.remove("load-aplayer")}));for(var r=0;r<n.length;r++)if(n[r].classList.contains("aplayer"))try{reloadHermit()}catch(e){}var i=document.getElementsByClassName("iconflat");0!=i.length&&(i[0].style.width="50px",i[0].style.height="50px");var s=document.getElementsByClassName("openNav");0!=s.length&&(s[0].style.height="50px"),document.getElementById("bg-next").addEventListener("click",(function(){k()})),document.getElementById("bg-pre").addEventListener("click",(function(){w()})),j(),q(),o(),I(!0)};function C(){var e=document.getElementsByClassName("sm"),t=document.querySelector(".comments-main");e.length&&t&&t.addEventListener("click",(function(e){var t=e.target.parentNode;if(t.classList.contains("sm")){if(1==confirm("您真的要设为私密吗？")){if(t.classList.contains("private_now"))return alert("您之前已设过私密评论"),!1;t.classList.add("private_now");var n=t.getAttribute("data-idp"),a=t.getAttribute("data-actionp"),o=t.getElementsByClassName("has_set_private")[0],r="action=siren_private&p_id="+n+"&p_action="+a,i=new XMLHttpRequest;return i.onreadystatechange=function(){4==this.readyState&&200==this.status&&(o.innerHTML=i.responseText)},i.open("POST","/wp-admin/admin-ajax.php",!0),i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.send(r),!1}alert("已取消")}}))}POWERMODE.colorful=!0,POWERMODE.shake=!1,document.body.addEventListener("input",POWERMODE);var N=document.getElementsByClassName("comt-addsmilies");function j(){var e=document.getElementById("emotion-toggle");e&&e.addEventListener("click",(function(){document.querySelector(".emotion-toggle-off").classList.toggle("emotion-hide"),document.querySelector(".emotion-toggle-on").classList.toggle("emotion-show"),document.querySelector(".emotion-box").classList.toggle("emotion-box-show")}))}function A(e,t,n,a){var o;switch(t){case"custom":e=n+e+a;break;case"Img":e="[img]"+e+"[/img]";break;case"Math":e=" {{"+e+"}} ";break;case"tieba":e=" ::"+e+":: ";break;default:e=" :"+e+": "}if(!addComment.I("comment")||"textarea"!=addComment.I("comment").type)return!1;if(o=addComment.I("comment"),document.selection)o.focus(),sel=document.selection.createRange(),sel.text=e,o.focus();else if(o.selectionStart||"0"==o.selectionStart){var r=o.selectionStart,i=o.selectionEnd,s=i;o.value=o.value.substring(0,r)+e+o.value.substring(i,o.value.length),s+=e.length,o.focus(),o.selectionStart=s,o.selectionEnd=s}else o.value+=e,o.focus()}if(N.length>0&&Array.from(N,(function(e){e.addEventListener("click",(function(){"block"==e.stlye.display?e.style.display="none":e.style.display="block"}))})),document.querySelectorAll(".comt-smilies a").forEach((function(e){e.addEventListener("click",(function(){e.parentNode.style.display="none"}))})),j(),o(),g((function(){H()})),mashiro_option.float_player_on){document.body.clientWidth>860&&function(){"use strict";var e=[];document.addEventListener("DOMContentLoaded",(function(){function t(t,n){var a={container:t,audio:n,mini:null,fixed:null,autoplay:!1,mutex:!0,lrcType:3,listFolded:1,preload:"auto",theme:"#2980b9",loop:"all",order:"list",volume:null,listMaxHeight:null,customAudioType:null,storageName:"metingjs"};if(n.length){n[0].lrc||(a.lrcType=0);var o={};for(var r in a){var i=r.toLowerCase();(t.dataset.hasOwnProperty(i)||t.dataset.hasOwnProperty(r)||null!==a[r])&&(o[r]=t.dataset[i]||t.dataset[r]||a[r],("true"===o[r]||"false"===o[r])&&(o[r]="true"==o[r]))}e.push(new APlayer(o))}for(var s=0;s<e.length;s++)try{e[s].lrc.hide()}catch(t){console.log(t)}var c=1;document.querySelector(".aplayer.aplayer-fixed").addEventListener("click",(function(){if(1==c)for(var t=0;t<e.length;t++)try{e[t].lrc.show()}catch(e){console.log(e)}c=2}));var l=0,d=document.querySelector(".aplayer.aplayer-fixed .aplayer-body");document.querySelector(".aplayer-miniswitcher"),d&&d.classList.add("ap-hover"),player_minisw&&player_minisw.addEventListener("click",(function(){0==l?(d&&d.classList.remove("ap-hover"),document.getElementById("secondary")&&document.getElementById("secondary").classList.add("active"),l=1):(d&&d.classList.add("ap-hover"),document.getElementById("secondary")&&document.getElementById("secondary").classList.remove("active"),l=0)}))}var n=mashiro_option.meting_api_url+"?server=:server&type=:type&id=:id&_wpnonce="+Poi.nonce;"undefined"!=typeof meting_api&&(n=meting_api);for(var a=0;a<e.length;a++)try{e[a].destroy()}catch(t){console.log(t)}e=[];for(var o=document.querySelectorAll(".aplayer"),r=function(){var e=o[i];if(e.dataset.id){var a=e.dataset.api||n;a=(a=(a=a.replace(":server",e.dataset.server)).replace(":type",e.dataset.type)).replace(":id",e.dataset.id);var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4===r.readyState&&(200<=r.status&&300>r.status||304===r.status)){var n=JSON.parse(r.responseText);t(e,n)}},r.open("get",a,!0),r.send(null)}else if(e.dataset.url){var s=[{name:e.dataset.name||e.dataset.title||"Audio name",artist:e.dataset.artist||e.dataset.author||"Audio artist",url:e.dataset.url,cover:e.dataset.cover||e.dataset.pic,lrc:e.dataset.lrc,type:e.dataset.type||"auto"}];t(e,s)}},i=0;i<o.length;i++)r()}),!1)}()}function H(){var e=!1,t=document.querySelector("input#author"),n=document.querySelector("input#qq"),a=document.querySelector("input#email"),o=document.querySelector("input#url"),i=document.querySelector(".qq-check"),c=document.querySelector(".gravatar-check"),l=document.querySelector("div.comment-user-avatar img");if(null!=t){s("user_qq")||s("user_qq_email")||s("user_author")||(n.value=t.value=a.value=o.value=""),s("user_avatar")&&s("user_qq")&&s("user_qq_email")&&(l.setAttribute("src",s("user_avatar")),t.value=s("user_author"),a.value=s("user_qq")+"@qq.com",n.value=s("user_qq"),mashiro_option.qzone_autocomplete&&(o.value="https://user.qzone.qq.com/"+s("user_qq")),n.value&&(i.style.display="block",c.style.display="none"));var d=a.value;cached.filter("#author").on("blur",(function(){var t=cached.filter("#author").val();/^[1-9]\d{4,9}$/.test(t)&&$.ajax({type:"get",url:mashiro_option.qq_api_url+"?qq="+t+"&_wpnonce="+Poi.nonce,dataType:"json",success:function(n){cached.filter("#author").val(n.name),cached.filter("#email").val($.trim(t)+"@qq.com"),mashiro_option.qzone_autocomplete&&cached.filter("#url").val("https://user.qzone.qq.com/"+$.trim(t)),$("div.comment-user-avatar img").attr("src","https://q2.qlogo.cn/headimg_dl?dst_uin="+t+"&spec=100"),e=!0,cached.filter("#qq").val($.trim(t)),cached.filter("#qq").val()&&($(".qq-check").css("display","block"),$(".gravatar-check").css("display","none")),r("user_author",n.name,30),r("user_qq",t,30),r("is_user_qq","yes",30),r("user_qq_email",t+"@qq.com",30),r("user_email",t+"@qq.com",30),d=cached.filter("#email").val(),$("div.comment-user-avatar img").attr("src",n.avatar),r("user_avatar",n.avatar,30)},error:function(){cached.filter("#qq").val(""),$(".qq-check").css("display","none"),$(".gravatar-check").css("display","block"),$("div.comment-user-avatar img").attr("src",get_gravatar(cached.filter("#email").val(),80)),r("user_qq","",30),r("user_email",cached.filter("#email").val(),30),r("user_avatar",get_gravatar(cached.filter("#email").val(),80),30),cached.filter("#qq,#email,#url").val(""),cached.filter("#qq").val()||($(".qq-check").css("display","none"),$(".gravatar-check").css("display","block"),r("user_qq","",30),$("div.comment-user-avatar img").attr("src",get_gravatar(cached.filter("#email").val(),80)),r("user_avatar",get_gravatar(cached.filter("#email").val(),80),30))}})})),s("user_avatar")&&s("user_email")&&"no"==s("is_user_qq")&&!s("user_qq_email")&&(l.setAttribute("src",s("user_avatar")),a.value=s("user_mail"),n.value="",n.value||(i.style.display="none",c.style.display="block")),a.addEventListener("blur",(function(){var t=a.value;0!=e&&d==t||""==t||(l.setAttribute("src",get_gravatar(t,80)),r("user_avatar",get_gravatar(t,80),30),r("user_email",t,30),r("user_qq_email","",30),r("is_user_qq","no",30),n.value="",n.value||(i.style.display="none",c.style.display="block"))})),s("user_url")&&(o.value=s("user_url")),o.addEventListener("blur",(function(){var e=o.value;o.value=e,r("user_url",e,30)})),s("user_author")&&(t.value=s("user_author")),t.addEventListener("blur",(function(){var e=t.value;t.value=e,r("user_author",e,30)}))}}function P(){for(var e=document.getElementsByTagName("section"),t=!1,n=0;n<e.length;n++)e[n].classList.contains("bangumi")&&(t=!0);t&&document.addEventListener("click",(function(e){var t=e.target;if(t===document.querySelector("#bangumi-pagination a")){var n=document.querySelector("#bangumi-pagination a");n.classList.add("loading"),n.textContent="";var a=new XMLHttpRequest;a.open("POST",t.href+"&_wpnonce="+Poi.nonce,!0),a.onreadystatechange=function(){if(4==a.readyState&&200==a.status){var e=JSON.parse(a.responseText),t=document.getElementById("bangumi-pagination"),o=document.getElementsByClassName("row")[0];t.remove(),o.insertAdjacentHTML("beforeend",e)}else n.classList.remove("loading"),n.innerHTML='<i class="fa fa-exclamation-triangle" aria-hidden="true"></i> ERROR '},a.send()}}))}setTimeout((function(){!function(){var e=document.getElementById("secondary");if(document.body.clientWidth>860){var t=document.querySelector(".show-hide");t&&t.addEventListener("click",(function(){e&&e.classList.toggle("active")}))}else e&&e.remove()}()}),100),mashiro_global.ini.normalize(),loadCSS(mashiro_option.jsdelivr_css_src),loadCSS(mashiro_option.entry_content_style_src),loadCSS("https://at.alicdn.com/t/font_679578_qyt5qzzavdo39pb9.css"),loadCSS("https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css");location.href;var O=document.getElementById("bgvideo"),M={MN:function(){var e=document.querySelector(".iconflat");e&&e.addEventListener("click",(function(){document.body.classList.toggle("navOpen"),document.getElementById("main-container").classList.toggle("open"),document.getElementById("mo-nav").classList.toggle("open"),document.querySelector(".openNav").classList.toggle("open")}))},MNH:function(){document.body.classList.contains("navOpen")&&(document.body.classList.toggle("navOpen"),document.getElementById("main-container").classList.toggle("open"),document.getElementById("mo-nav").classList.toggle("open"),document.querySelector(".openNav").classList.toggle("open"))},splay:function(){var e=document.getElementById("video-btn");e&&(e.classList.add("video-pause"),e.classList.remove("video-play"));try{e.style.display="",document.querySelector(".video-stu").style.bottom="-100px",document.querySelector(".focusinfo").style.top="-999px"}catch(e){}try{for(var t=0;t<ap.length;t++)try{ap[t].destroy()}catch(e){}}catch(e){}try{hermitInit()}catch(e){}O.play()},spause:function(){var e=document.getElementById("video-btn");e&&(e.classList.add("video-play"),e.classList.remove("video-pause"));try{document.querySelector(".focusinfo").style.top="49.3%"}catch(e){}O.pause()},liveplay:function(){null!=O.oncanplay&&document.querySelector(".haslive")&&document.querySelector(".videolive")&&M.splay()},livepause:function(){if(null!=O.oncanplay&&document.querySelector(".haslive")){M.spause();var e=document.getElementsByClassName("video-stu")[0];e.style.bottom="0px",e.innerHTML="已暂停 ..."}},addsource:function(){var e=document.getElementsByClassName("video-stu")[0];e.innerHTML="正在载入视频 ...",e.style.bottom="0px";var t=Poi.movies.name.split(","),n=t[Math.floor(Math.random()*t.length)],a=document.getElementById("bgvideo");a.setAttribute("src",Poi.movies.url+"/"+n+".mp4"),a.setAttribute("video-name",n)},LV:function(){var e=document.getElementById("video-btn");e.addEventListener("click",(function(){this.classList.contains("loadvideo")?(this.classList.add("video-pause"),this.classList.remove("loadvideo"),M.addsource(),O.oncanplay=function(){M.splay(),document.getElementById("video-add").style.display="block",e.classList.add("videolive","haslive")}):this.classList.contains("video-pause")?(M.spause(),e.classList.remove("videolive"),document.getElementsByClassName("video-stu")[0].style.bottom="0px",document.getElementsByClassName("video-stu")[0].innerHTML="已暂停 ..."):(M.splay(),e.classList.add("videolive")),O.onended=function(){O.setAttribute("src",""),document.getElementById("video-add").style.display="none",e&&e.classList.add("loadvideo"),e&&e.classList.remove("video-pause","videolive","haslive"),document.querySelector(".focusinfo").style.top="49.3%"}})),document.getElementById("video-add").addEventListener("click",(function(){M.addsource()}))},AH:function(){"auto"==Poi.windowheight?document.querySelector("h1.main-title")&&(document.getElementById("centerbg").style.height="100vh",document.getElementById("bgvideo").style.minHeight="100vh"):document.querySelector(".headertop")&&document.querySelector(".headertop").classList.add("headertop-bar")},PE:function(){if(document.querySelector(".headertop")){var e=document.querySelector(".headertop"),t=document.querySelector(".blank");if(document.querySelector(".main-title")){try{t.style.paddingTop="0px"}catch(e){}e.style.height="auto",e.style.display="","open"==Poi.movies.live&&M.liveplay()}else{try{t.style.paddingTop="75px"}catch(e){}e.style.height="0px",e.style.display="none",M.livepause()}}},CE:function(){var e=document.querySelector(".comments-hidden"),t=document.querySelector(".comments-main");null!=e&&(e.style.display="block",t.style.display="none",e.addEventListener("click",(function(){c(t,500,"show"),e.style.display="none"})));var n=document.getElementsByClassName("archives");if(n.length>0){for(var a=0;a<n.length;a++)n[a].style.display="none";n[0].style.display="";for(var o=document.getElementById("archives-temp").getElementsByTagName("h3"),r=0;r<o.length;r++)o[r].addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation(),c(e.target.nextElementSibling,300)}))}$(".js-toggle-search").on("click",(function(){if($(".js-toggle-search").toggleClass("is-active"),$(".js-search").toggleClass("is-visible"),$("html").css("overflow-y","hidden"),mashiro_option.live_search){var e=function(){$(".ins-selectable").each((function(){$(this).click((function(){$("#Ty").attr("href",$(this).attr("href")),$("#Ty").click(),$(".search_close").click()}))}))},t=function(e,t,n,a,o,r,i){if(e){var s=e.trim().split(" "),c=a.indexOf(s[s.length-1]),l=i.indexOf(s[s.length-1]);a=(a=c<60?a.slice(0,80):a.slice(c-30,c+30)).replace(s[s.length-1],'<mark class="search-keyword"> '+s[s.length-1].toUpperCase()+" </mark>"),i=(i=l<60?i.slice(0,80):i.slice(l-30,l+30)).replace(s[s.length-1],'<mark class="search-keyword"> '+s[s.length-1].toUpperCase()+" </mark>")}return'<div class="ins-selectable ins-search-item" href="'+t+'"><header><i class="fa fa-'+n+'" aria-hidden="true"></i>'+a+'<i class="iconfont icon-'+o+'"> '+r+'</i></header><p class="ins-search-preview">'+i+"</p></div>"},n=function(e,n,a){var o,r,s,c="",l="",d="",u="",m="",g="",p="",v='<section class="ins-section"><header class="ins-section-header">',h="</section>",f="</header>",y=(r=e,s=(s=n.trim()).replace(s,"^(?=.*?"+s+").+$").replace(/\s/g,")(?=.*?"),i=r.filter((function(e){return Object.values(e).some((function(e){return new RegExp(s+"").test(e)}))})),i);for(o=0;o<Object.keys(y).length;o++)switch((p=y[o]).type){case"post":l+=t(n,p.link,"file",p.title,"mark",p.comments,p.text);break;case"tag":m+=t("",p.link,"tag",p.title,"none","","");break;case"category":u+=t("",p.link,"folder",p.title,"none","","");break;case"page":d+=t(n,p.link,"file",p.title,"mark",p.comments,p.text);break;case"comment":g+=t(n,p.link,"comment",p.title,"none","",p.text)}l&&(c=c+v+"文章"+f+l+h),d&&(c=c+v+"页面"+f+d+h),u&&(c=c+v+"分类"+f+u+h),m&&(c=c+v+"标签"+f+m+h),g&&(c=c+v+"评论"+f+g+h),addComment.I("PostlistBox").innerHTML=c},a=[];!function(t){if(null!=sessionStorage.getItem("search"))a=JSON.parse(sessionStorage.getItem("search")),n(a,$("#search-input").val(),r),e();else{var i=new XMLHttpRequest;i.open("GET",t,!0),i.send(),i.onreadystatechange=function(){4==i.readyState&&200==i.status&&(json=i.responseText,""!=json&&(sessionStorage.setItem("search",json),a=JSON.parse(json),n(a,o.value,r),e()))}}}(Poi.api+"sakura/v1/cache_search/json?_wpnonce="+Poi.nonce);var o=addComment.I("search-input"),r=addComment.I("PostlistBox").innerHTML,s=null;o.oninput=function(){null==s&&clearTimeout(s),s=setTimeout((function(){n(a,o.value,r),e()}),250)},Object.values||(Object.values=function(e){if(e!==Object(e))throw new TypeError("Object.values called on a non-object");var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(e[t]);return n})}}));var s=document.querySelector(".search_close");s&&s.addEventListener("click",(function(){var e=document.getElementsByClassName("js-search")[0];e.classList.contains("is-visible")&&(document.getElementsByClassName("js-toggle-search")[0].classList.toggle("is-active"),e.classList.toggle("is-visible"),document.getElementsByTagName("html")[0].style.overflowY="unset")}));try{var l=document.getElementById("show-nav");l.addEventListener("click",(function(){if(l.classList.contains("showNav")){l.classList.remove("showNav"),l.classList.add("hideNav");var e=document.querySelector(".site-top .lower nav");e&&e.classList.add("navbar")}else{l.classList.remove("hideNav"),l.classList.add("showNav");var t=document.querySelector(".site-top .lower nav");t&&t.classList.remove("navbar")}})),document.getElementById("loading").addEventListener("click",(function(){var e=document.getElementById("loading");e.classList.add("hide"),e.classList.remove("show")}))}catch(e){}},NH:function(){window.addEventListener("scroll",(function(){var e=document.documentElement.scrollTop||window.pageYOffset,t=document.querySelector(".site-header");0==e&&t.classList.remove("yya"),e>0&&t.classList.add("yya")}))},XLS:function(){var e;function t(){var e=document.querySelector("#pagination a");return $("#pagination a").addClass("loading").text(""),fetch(e.attributes.href+"#main",{method:"POST"}).then((function(e){if(e.ok)if(result=$(data).find("#main .post"),nextHref=$(data).find("#pagination a").attr("href"),$("#main").append(result.fadeIn(500)),$("#pagination a").removeClass("loading").text("Previous"),$("#add_post span").removeClass("loading").text(""),lazyload(),l(),null!=nextHref){$("#pagination a").attr("href",nextHref);var t=$(window).scrollTop();$(window).scrollTop(t),$body.animate({scrollTop:t+300},666)}else $("#pagination").html("<span>很高兴你翻到这里，但是真的没有了...</span>")})),!1}$body=window.opera?"CSS1Compat"==document.compatMode?$("html"):$("body"):$("html,body"),new IntersectionObserver((function(n){if(!(n[0].intersectionRatio<=0)){var a=$("#pagination a").attr("href"),o=addComment.I("add_post_time");if(null!=a&&o){var r=addComment.I("add_post_time").title;"233"!=r&&(console.log("%c 自动加载时倒计时 %c","background:#9a9da2; color:#ffffff; border-radius:4px;","","",r),e=setTimeout((function(){t()}),1e3*r))}}})).observe(document.querySelector(".footer-device")),$("body").on("click","#pagination a",(function(){return clearTimeout(e),t(),!1}))},XCS:function(){jQuery("#cancel-comment-reply-link").text();var e="commentwrap";jQuery(document).on("submit","#commentform",(function(){return addComment.createButterbar("提交中(Commiting)...."),fetch(Poi.ajaxurl,{method:jQuery(this).attr("method"),body:jQuery(this).serialize()+"&action=ajax_comment"}).then((function(t){if(!t.ok)throw"HTTP ".concat(t.status,":").concat(t.statusText);Array.from(document.getElementsByTagName("textarea")).forEach((function(e){return e.value=""}));var n=addComment,a=n.I("cancel-comment-reply-link"),o=n.I("wp-temp-form-div"),r=n.I(n.respondId);n.I("comment_post_ID").value;"0"!=n.I("comment_parent").value?jQuery("#respond").before('<ol class="children">'+data+"</ol>"):jQuery("."+e).length?"asc"==Poi.order?jQuery("."+e).append(data):jQuery("."+e).prepend(data):"bottom"==Poi.formpostion?jQuery("#respond").before('<ol class="'+e+'">'+data+"</ol>"):jQuery("#respond").after('<ol class="'+e+'">'+data+"</ol>"),n.createButterbar("提交成功(Succeed)"),lazyload(),d(),f(),document.getElementById("upload-img-show").innerHTML="",a.style.display="none",a.onclick=null,n.I("comment_parent").value="0",o&&r&&(o.parentNode.insertBefore(r,o),o.remove())})).catch((function(e){addComment.createButterbar(e)})),!1})),window.addComment=n(633).Z},XCP:function(){document.body.addEventListener("click",(function(e){if(e.target.parentNode==document.getElementById("comments-navi")&&"a"==e.target.nodeName.toLowerCase()){e.preventDefault(),e.stopPropagation();var t=e.target,n=t.pathname,a=new XMLHttpRequest;a.open("GET",t.getAttribute("href"),!0),a.responseType="document",a.onloadstart=function(){var e=document.getElementById("comments-navi"),t=document.querySelector("ul.commentwrap"),n=document.getElementById("loading-comments"),a=document.getElementById("comments-list-title");e.remove(),t.remove(),n.style.display="block",c(n,500,"show"),window.scrollTo({top:a.getBoundingClientRect().top+window.pageYOffset-a.clientTop-65,behavior:"smooth"})},a.onreadystatechange=function(){if(4==a.readyState&&200==a.status){var e=a.response,t=e.querySelector("ul.commentwrap"),o=e.getElementById("comments-navi");c(document.getElementById("loading-comments"),200,"hide"),document.getElementById("loading-comments").insertAdjacentHTML("afterend",t.outerHTML),document.querySelector("ul.commentwrap").insertAdjacentHTML("afterend",o.outerHTML),lazyload(),window.gtag&&gtag("config",Poi.google_analytics_id,{page_path:n}),d(),f();var r=document.querySelector("ul.commentwrap");window.scrollTo({top:r&&r.getBoundingClientRect().top+window.pageYOffset-r.clientTop-200,behavior:"smooth"})}},a.send()}}))},IA:function(){POWERMODE.colorful=!0,POWERMODE.shake=!1,document.body.addEventListener("input",POWERMODE)},GT:function(){var e=document.querySelector("#moblieGoTop"),t=document.querySelector("#changskin");window.addEventListener("scroll",(function(){(document.documentElement.scrollTop||document.body.scrollTop)>20?(e.style.transform="scale(1)",t.style.transform="scale(1)"):(e.style.transform="scale(0)",t.style.transform="scale(0)")})),e.onclick=function(){window.scrollTo({top:0,behavior:"smooth"})}}};Poi.pjax&&(new Pjax({selectors:["#page","title",".footer-device"],elements:["a:not([target='_top']):not(.comment-reply-link):not(#pagination a):not(#comments-navi a):not(.user-menu-option a):not(.header-user-avatar a):not(.emoji-item)",".search-form",".s-search"],timeout:8e3,history:!0,cacheBust:!1}),document.addEventListener("pjax:send",(function(){var t,n=e(document.getElementsByClassName("normal-cover-video"));try{for(n.s();!(t=n.n()).done;){var a=t.value;a.pause(),a.src="",a.load=""}}catch(e){n.e(e)}finally{n.f()}document.getElementById("bar").style.width="0%",mashiro_option.NProgressON&&NProgress.start(),M.MNH()})),document.addEventListener("pjax:complete",(function(){M.AH(),M.PE(),M.CE(),mashiro_option.NProgressON&&NProgress.done(),mashiro_global.ini.pjax();var e=document.getElementById("loading");e&&(e.classList.add("hide"),e.classList.remove("show")),"open"==Poi.codelamp&&self.Prism.highlightAll(event),document.querySelector(".js-search.is-visible")&&(document.getElementsByClassName("js-toggle-search")[0].classList.toggle("is-active"),document.getElementsByClassName("js-search")[0].classList.toggle("is-visible"),document.getElementsByTagName("html")[0].style.overflowY="unset")})),document.addEventListener("pjax:success",(function(){window.gtag&&gtag("config",Poi.google_analytics_id,{page_path:window.location.pathname})})),window.addEventListener("popstate",(function(e){M.AH(),M.PE(),M.CE(),C(),q(!0),l()}),!1)),g((function(){M.AH(),M.PE(),M.NH(),M.GT(),M.XLS(),M.XCS(),M.XCP(),M.CE(),M.MN(),M.IA(),M.LV(),console.log("%c Mashiro %c","background:#24272A; color:#ffffff","","https://2heng.xin/"),console.log("%c Github %c","background:#24272A; color:#ffffff","","https://github.com/mashirozx")}));var D=navigator.userAgent.toLowerCase().indexOf("webkit")>-1,R=navigator.userAgent.toLowerCase().indexOf("opera")>-1,z=navigator.userAgent.toLowerCase().indexOf("msie")>-1;function W(){mashiro_option.audio&&g((function(){window.AudioContext=window.AudioContext||window.webkitAudioContext,function(){if(window.AudioContext){var e,t=new AudioContext,n="880 987 1046 987 1046 1318 987 659 659 880 784 880 1046 784 659 659 698 659 698 1046 659 1046 1046 1046 987 698 698 987 987 880 987 1046 987 1046 1318 987 659 659 880 784 880 1046 784 659 698 1046 987 1046 1174 1174 1174 1046 1046 880 987 784 880 1046 1174 1318 1174 1318 1567 1046 987 1046 1318 1318 1174 784 784 880 1046 987 1174 1046 784 784 1396 1318 1174 659 1318 1046 1318 1760 1567 1567 1318 1174 1046 1046 1174 1046 1174 1567 1318 1318 1760 1567 1318 1174 1046 1046 1174 1046 1174 987 880 880 987 880".split(" "),a=0,o="♪ ♩ ♫ ♬ ♭ € § ¶ ♯".split(" ");document.querySelectorAll(".site-title, #moblieGoTop, .site-branding, .searchbox, .changeSkin-gear, .menu-list li").forEach((function(r){r.addEventListener("mouseenter",(function(r){if(!e){var i=n[a];i||(i=n[a=0]),a+=1;var s=t.createOscillator(),c=t.createGain();if(s.connect(c),c.connect(t.destination),s.type="sine",s.frequency.value=i,c.gain.setValueAtTime(0,t.currentTime),c.gain.linearRampToValueAtTime(1,t.currentTime+.01),s.start(t.currentTime),c.gain.exponentialRampToValueAtTime(.001,t.currentTime+1),s.stop(t.currentTime+1),!0){var l=Math.round(7*Math.random());(e=document.createElement("b")).textContent=o[l],h=r.pageX,p=r.pageY-5,e.style.zIndex="99999",e.style.top=p-100+"px",e.style.left=h+"px",e.style.position="absolute",e.style.color="#FF6EB4",document.body.appendChild(e),e.animate([{top:p+"px"},{opacity:0}],{duration:500}),setTimeout((function(){e.remove(),e=null}),500),r.stopPropagation()}!1}}))}))}}()}))}(D||R||z)&&document.getElementById&&window.addEventListener&&window.addEventListener("hashchange",(function(){var e,t=location.hash.substring(1);/^[A-z0-9_-]+$/.test(t)&&(e=addComment.I(t))&&(/^(?:a|select|input|button|textarea)$/i.test(e.tagName)||(e.tabIndex=-1),e.focus())}),!1),window.onload=function(){document.getElementsByTagName("html")[0].style.overflowY="unset";var e=document.getElementById("preload");e&&(e.classList.add("hide"),e.classList.remove("show"),setTimeout("preload.remove()",666))}})()})();