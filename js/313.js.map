{"version":3,"file":"313.js","mappings":"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","sources":["webpack://sakurairo-scripts/./src/app/falling_effect/sakura/sakura.js","webpack://sakurairo-scripts/./src/app/falling_effect/sakura/start.js"],"sourcesContent":["var stop, staticx, img = new Image;\nvar sakuraAmount = 50;\nclass Sakura {\n    constructor(x, y, s, r, fn) {\n        this.x = x, this.y = y, this.s = s, this.r = r, this.fn = fn;\n    }\n    draw(cxt) {\n        cxt.save();\n        var xc = 40 * this.s / 4;\n        cxt.translate(this.x, this.y), cxt.rotate(this.r), cxt.drawImage(img, 0, 0, 40 * this.s, 40 * this.s), cxt.restore();\n    }\n    update() {\n        this.x = this.fn.x(this.x, this.y), this.y = this.fn.y(this.y, this.y), this.r = this.fn.r(this.r), (this.x > window.innerWidth || this.x < 0 || this.y > window.innerHeight || this.y < 0) && (this.r = getRandom(\"fnr\"), Math.random() > .4 ? (this.x = getRandom(\"x\"), this.y = 0, this.s = getRandom(\"s\"), this.r = getRandom(\"r\")) : (this.x = window.innerWidth, this.y = getRandom(\"y\"), this.s = getRandom(\"s\"), this.r = getRandom(\"r\")));\n    }\n}\n\nfunction getRandom(option) {\n    var ret, random;\n    switch (option) {\n        case \"x\":\n            ret = Math.random() * window.innerWidth;\n            break;\n        case \"y\":\n            ret = Math.random() * window.innerHeight;\n            break;\n        case \"s\":\n            ret = Math.random();\n            break;\n        case \"r\":\n            ret = 6 * Math.random();\n            break;\n        case \"fnx\":\n            random = 1 * Math.random() - .5, ret = function (x, y) {\n                return x + .5 * random - 1.7\n            };\n            break;\n        case \"fny\":\n            random = 1.5 + .7 * Math.random(), ret = function (x, y) {\n                return y + random\n            };\n            break;\n        case \"fnr\":\n            random = .03 * Math.random(), ret = function (r) {\n                return r + random\n            }\n    }\n    return ret\n}\n\nfunction startSakura() {\n    requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || window.oRequestAnimationFrame;\n    var canvas = document.createElement(\"canvas\"),\n        cxt;\n    staticx = !0, canvas.height = window.innerHeight, canvas.width = window.innerWidth, canvas.setAttribute(\"style\", \"position: fixed;left: 0;top: 0;pointer-events: none;\"), canvas.setAttribute(\"id\", \"canvas_sakura\"), document.getElementsByTagName(\"body\")[0].appendChild(canvas), cxt = canvas.getContext(\"2d\");\n    for (var sakuraList = new SakuraList, i = 0; i < sakuraAmount; i++) {\n        var sakura, randomX, randomY, randomS, randomR, randomFnx, randomFny, randomFnR;\n        randomX = getRandom(\"x\"), randomY = getRandom(\"y\"), randomR = getRandom(\"r\"), randomS = getRandom(\"s\"), randomFnx = getRandom(\"fnx\"), randomFny = getRandom(\"fny\"), randomFnR = getRandom(\"fnr\"), (sakura = new Sakura(randomX, randomY, randomS, randomR, {\n            x: randomFnx,\n            y: randomFny,\n            r: randomFnR\n        })).draw(cxt), sakuraList.push(sakura)\n    }\n    stop = requestAnimationFrame((function () {\n        cxt.clearRect(0, 0, canvas.width, canvas.height), sakuraList.update(), sakuraList.draw(cxt), stop = requestAnimationFrame(arguments.callee)\n    }))\n}\n\nfunction stopp() {\n    if (staticx) {\n        var child = document.getElementById(\"canvas_sakura\");\n        child.parentNode.removeChild(child), window.cancelAnimationFrame(stop), staticx = !1\n    } else startSakura()\n}\nclass SakuraList {\n    constructor() {\n        this.list = [];\n    }\n    push(sakura) {\n        this.list.push(sakura);\n    }\n    update() {\n        for (var i = 0, len = this.list.length; i < len; i++)\n            this.list[i].update();\n    }\n    draw(cxt) {\n        for (var i = 0, len = this.list.length; i < len; i++)\n            this.list[i].draw(cxt);\n    }\n    get(i) {\n        return this.list[i];\n    }\n    size() {\n        return this.list.length;\n    }\n}\nwindow.onresize = function () {\n    var canvasSnow = document.getElementById(\"canvas_snow\")\n    //TODO:FIX RESIZE\n}\n\nexport function start(amount) {\n    switch (typeof amount) {\n        case 'number':\n            sakuraAmount = Math.floor(amount)\n            break;\n        case 'string':\n            sakuraAmount = parseInt(amount)\n            break;\n        default:\n            throw new TypeError('need a int as args, but get ' + typeof amount + ' instead')\n    }\n    img.src = new URL('sakura.png', import.meta.url)\n    img.onload = function () {\n        startSakura()\n    };\n\n}","import { start } from \"./sakura\"\n\nconst amount = mashiro_option.effect.amount\nlet sakura_num\nswitch (amount) {\n    case 'half':\n        sakura_num = 25\n        break\n    case 'less':\n        sakura_num = 15\n        break\n    case 'quarter':\n        sakura_num = 35\n        break\n    case 'native':\n        sakura_num = 50\n        break\n    default:\n        sakura_num = parseInt(amount)\n        if (isNaN(sakura_num)) {\n            console.error('wrong arg')\n            sakura_num = 50\n        }\n}\nstart(sakura_num)"],"names":["img","Image","sakuraAmount","Sakura","x","y","s","r","fn","this","cxt","save","translate","rotate","drawImage","restore","window","innerWidth","innerHeight","getRandom","Math","random","option","ret","startSakura","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","oRequestAnimationFrame","canvas","document","createElement","height","width","setAttribute","getElementsByTagName","appendChild","getContext","sakuraList","SakuraList","i","sakura","randomX","randomY","randomS","randomR","randomFnx","randomFny","randomFnR","draw","push","clearRect","update","arguments","callee","list","len","length","onresize","getElementById","sakura_num","amount","mashiro_option","effect","parseInt","isNaN","console","error","floor","TypeError","src","URL","onload","start"],"sourceRoot":""}