{"version":3,"sources":["webpack://sakurairo-scripts/./src/entries/sakura-app/index.js"],"names":["setCookie","name","value","days","expires","date","Date","setTime","getTime","toUTCString","document","cookie","mashiro_option","cookie_version_control","getCookie","nameEQ","ca","split","i","length","c","charAt","substring","indexOf","slideToogle","el","duration","mode","callback","dom","status","getComputedStyle","flag","style","transition","overflow","clearTimeout","tagTimer","display","tagHeight","clientHeight","height","setTimeout","post_list_show_animation","querySelector","classList","contains","io","IntersectionObserver","entries","forEach","article","window","target","willChange","unobserve","isIntersecting","add","root","threshold","articles","getElementsByClassName","a","observe","code_highlight_style","pre","getElementsByTagName","code","querySelectorAll","hljs","highlightBlock","gen_top_bar","initLineNumbersOnLoad","ec","addEventListener","e","toggle","attributes","ele_name","children","className","lang","substr","replace","code_a","t","toLowerCase","setAttribute","toUpperCase","mashiro_global","variables","this","has_hls","skinSecter","ini","normalize","lazyload","copy_code_block","web_audio","coverVideoIni","checkskinSecter","body","clientWidth","s","documentElement","scrollTop","scrollHeight","b","innerHeight","result","parseInt","cached","getElementById","width","background","f","sc","skinMenu","getBoundingClientRect","outerHeight","remove","load_bangumi","sm","pjax","pjaxInit","font_control","cbs","cbss","change_font","addComment","createButterbar","Poi","reply_link_version","cm","preventDefault","stopPropagation","data_commentid","getAttribute","moveForm","ready","fn","readyState","add_upload_tips","form_subit","upload_img","insertAdjacentHTML","files","size","alert","formData","FormData","xhr","XMLHttpRequest","append","innerHTML","open","api","nonce","send","onreadystatechange","res","JSON","parse","responseText","get_the_url","proxy","grin","type","message","file_subit","hover","Tip","click_to_view_image","temp_url","src","original_emoji_click","innerText","pattern","headertop","checkBgImgCookie","bgurl","click","no_right_click","pri","nodeName","getHours","dark","today","cWidth","darkmode","console","log","mbdl","checkDarkModeCookie","centerbg","random_graphs_mts","backgroundImage","cover_api","closeSkinMenu","visibility","temp","tagid","id","backgroundColor","skin_bg0","skin_bg1","skin_bg2","skin_bg3","skin_bg4","changskin","close_SkinMenu","bgn","nextBG","preBG","timeSeriesReload","archives","al_li","nextElementSibling","al_expand_collapse","cursor","num","textContent","al_post_list","al_post_list_f","parentNode","al_expand_collapse_click","loadHls","video","I","video_src","Hls","isSupported","hls","loadSource","attachMedia","on","Events","MANIFEST_PARSED","play","canPlayType","url","script","createElement","onload","head","appendChild","ele","j","ClipboardJS","tableOfContentScroll","heading_fix","entry_content_theme","_els","_el","tocbot","init","tocSelector","contentSelector","headingSelector","headingsOffset","next","onclick","_p","getqqinfo","_div","tla","reloadHermit","iconflat","openNav","smileBoxToggle","add_copyright","list","confirm","idp","actionp","rateHolderp","ajax_data","request","setRequestHeader","POWERMODE","colorful","shake","comt","et","tag","before","after","myField","selection","focus","sel","createRange","text","selectionStart","startPos","endPos","selectionEnd","cursorPos","Array","from","stlye","copytext","getSelection","toString","clipboardCopyright","event","htmlData","author_name","location","href","site_name","textData","clipboardData","setData","setClipboardText","removeEventListener","float_player_on","aplayers","container","audio","mini","fixed","autoplay","mutex","lrcType","listFolded","preload","theme","loop","order","volume","listMaxHeight","customAudioType","storageName","lrc","d","dataset","hasOwnProperty","push","APlayer","hide","lrcTag","show","apSwitchTag","aplayer_body","player_minisw","meting_api_url","meting_api","destroy","g","server","h","title","artist","author","cover","pic","aplayerF","is_get_by_qq","$","filter","val","attr","qzone_autocomplete","css","emailAddressFlag","qq","test","ajax","qq_api_url","dataType","success","data","trim","avatar","error","get_gravatar","emailAddress","URL_Address","user_name","section","_flag","bgpa","html","bfan","row","secondary","show_hide","activate_widget","loadCSS","jsdelivr_css_src","entry_content_style_src","Siren","MN","MNH","splay","video_btn","bottom","top","ap","hermitInit","spause","pause","liveplay","undefined","oncanplay","livepause","video_stu","addsource","movies","_t","Math","floor","random","bgvideo","LV","_btn","onended","AH","windowheight","minHeight","PE","blank","paddingTop","live","CE","slideDown","slideToggle","toggleClass","live_search","div_href","each","search_result","keyword","link","fa","iconfont","comments","slice","query","B","A","z","x","arr","q","y","w","u","r","p","F","H","G","D","E","C","v","Object","values","some","RegExp","keys","QueryStorage","sessionStorage","getItem","Record","_xhr","json","setItem","otxt","search_a","searchFlag","oninput","obj","TypeError","key","prototype","call","js_search","overflowY","show_Nav","sln","loading","NH","pageYOffset","XLS","load_post_timer","load_post","addClass","find","nextHref","fadeIn","removeClass","tempScrollTop","$body","animate","opera","compatMode","intersectionRatio","page_next","load_key","load_time","XCS","__cancel","jQuery","__cancel_text","__list","ajaxurl","serialize","beforeSend","cancel","respond","respondId","prepend","formpostion","insertBefore","commId","parentId","div","comm","parent","nextSibling","offset","clearButterbar","butterBar","showtime","_butterBar","XCP","_this","path","pathname","responseType","onloadstart","comments_navi","commentwrap","loading_comments","comments_list","scrollTo","clientTop","behavior","response","nextlink","outerHTML","gtag","google_analytics_id","IA","GT","mb_to_top","transform","Pjax","selectors","elements","timeout","history","cacheBust","normal","load","NProgressON","NProgress","start","done","codelamp","self","Prism","highlightAll","isWebkit","navigator","userAgent","isOpera","isIe","AudioContext","webkitAudioContext","createOscillator","l","createGain","connect","destination","frequency","gain","setValueAtTime","currentTime","linearRampToValueAtTime","exponentialRampToValueAtTime","stop","round","pageX","pageY","zIndex","left","position","color","opacity","element","hash","tagName","tabIndex"],"mappings":"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","file":"sakura-app.js","sourcesContent":["/**\n * source from f7db3c5\n * @seealso https://github.com/mirai-mamori/Sakurairo\n * @license GPL-v2\n * @date 2021.03\n */\n/*！\n * Sakura theme application bundle\n * @author Mashiro\n * @url https://2heng.xin\n * @date 2019.8.3\n */\n//@ts-\nmashiro_global.variables = new function () {\n    this.has_hls = false;\n    this.skinSecter = true;\n}\nmashiro_global.ini = new function () {\n    this.normalize = function () { // initial functions when page first load (首次加载页面时的初始化函数)\n        lazyload();\n        post_list_show_animation();\n        copy_code_block();\n        web_audio();\n        coverVideoIni();\n        checkskinSecter();\n        scrollBar();\n        load_bangumi();\n        sm();\n    }\n    this.pjax = function () { // pjax reload functions (pjax 重载函数)\n        pjaxInit();\n        post_list_show_animation();\n        copy_code_block();\n        web_audio();\n        coverVideoIni();\n        checkskinSecter();\n        load_bangumi();\n        sm();\n    }\n}\n\nfunction setCookie(name, value, days) {\n    let expires = \"\";\n    if (days) {\n        let date = new Date();\n        date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\n        expires = \"; expires=\" + date.toUTCString();\n    }\n    document.cookie = name + mashiro_option.cookie_version_control + \"=\" + (value || \"\") + expires + \"; path=/\";\n}\n\nfunction getCookie(name) {\n    let nameEQ = name + mashiro_option.cookie_version_control + \"=\",\n        ca = document.cookie.split(';');\n    for (let i = 0; i < ca.length; i++) {\n        let c = ca[i];\n        while (c.charAt(0) == ' ') c = c.substring(1, c.length);\n        if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);\n    }\n    return null;\n}\n\nfunction removeCookie(name) {\n    document.cookie = name + mashiro_option.cookie_version_control + '=; Max-Age=-99999999;';\n}\n\nfunction imgError(ele, type) {\n    switch (type) {\n        case 1:\n            ele.src = 'https://view.moezx.cc/images/2017/12/30/Transparent_Akkarin.th.jpg';\n            break;\n        case 2:\n            ele.src = 'https://sdn.geekzu.org/avatar/?s=80&d=mm&r=g';\n            break;\n        default:\n            ele.src = 'https://view.moezx.cc/images/2018/05/13/image-404.png';\n    }\n}\n\nfunction slideToogle(el, duration = 1000, mode = '', callback) {\n    let dom = el;\n    dom.status = dom.status || getComputedStyle(dom, null)['display'];\n    const flag = dom.status != 'none';\n    if ((flag == true && mode == \"show\") || (flag == false && mode == \"hide\")) return;\n    dom.status = flag ? 'none' : 'block';\n    dom.style.transition = 'height ' + duration / 1000 + 's';\n    dom.style.overflow = 'hidden';\n    clearTimeout(dom.tagTimer);\n    dom.tagTimer = dom.tagTimer || null\n    dom.style.display = 'block';\n    dom.tagHeight = dom.tagHeight || dom.clientHeight + 'px'\n    dom.style.display = '';\n    dom.style.height = flag ? dom.tagHeight : \"0px\"\n    setTimeout(() => {\n        dom.style.height = flag ? \"0px\" : dom.tagHeight\n    }, 0)\n    dom.tagTimer = setTimeout(() => {\n        dom.style.display = flag ? 'none' : 'block'\n        dom.style.transition = '';\n        dom.style.overflow = '';\n        dom.style.height = '';\n        dom.status = dom.tagHeight = null;\n    }, duration)\n    if (callback) callback();\n}\n\nfunction post_list_show_animation() {\n    if (document.querySelector('article') && document.querySelector('article').classList.contains(\"post-list-thumb\")) {\n        let options = {\n            root: null,\n            threshold: [0.66]\n        },\n            io = new IntersectionObserver(callback, options),\n            articles = document.getElementsByClassName('post-list-thumb');\n\n        function callback(entries) {\n            entries.forEach((article) => {\n                if (!window.IntersectionObserver) {\n                    article.target.style.willChange = 'auto';\n                    if (article.target.classList.contains(\"post-list-show\") === false) {\n                        article.target.classList.add(\"post-list-show\");\n                    }\n                } else {\n                    if (article.target.classList.contains(\"post-list-show\")) {\n                        article.target.style.willChange = 'auto';\n                        io.unobserve(article.target)\n                    } else {\n                        if (article.isIntersecting) {\n                            article.target.classList.add(\"post-list-show\");\n                            article.target.style.willChange = 'auto';\n                            io.unobserve(article.target)\n                        }\n                    }\n                }\n            })\n        }\n        for (let a = 0; a < articles.length; a++) {\n            io.observe(articles[a]);\n        }\n    }\n}\nmashiro_global.font_control = new function () {\n    let cbs = document.getElementsByClassName(\"control-btn-serif\")[0];\n    let cbss = document.getElementsByClassName(\"control-btn-sans-serif\")[0];\n    this.change_font = function () {\n        if (document.body.classList.contains(\"serif\")) {\n            document.body.classList.remove(\"serif\");\n            cbs && cbs.classList.remove(\"selected\");\n            cbss && cbss.classList.remove(\"selected\");\n            setCookie(\"font_family\", \"sans-serif\", 30);\n        } else {\n            document.body.classList.add(\"serif\");\n            cbs && cbs.classList.add(\"selected\");\n            cbss && cbss.classList.remove(\"selected\");\n            setCookie(\"font_family\", \"serif\", 30);\n            if (document.body.clientWidth <= 860) {\n                addComment.createButterbar(\"将从网络加载字体，流量请注意\");\n            }\n        }\n    }\n    this.ini = function () {\n        if (document.body.clientWidth > 860) {\n            if (!getCookie(\"font_family\") || getCookie(\"font_family\") == \"serif\")\n                document.body.classList.add(\"serif\");\n            // $(\"body\").addClass(\"serif\");\n        }\n        if (getCookie(\"font_family\") == \"sans-serif\") {\n            document.body.classList.remove(\"sans-serif\");\n            cbs && cbs.classList.remove(\"selected\");\n            cbss && cbss.classList.add(\"selected\");\n        }\n    }\n}\nmashiro_global.font_control.ini();\n\nfunction code_highlight_style() {\n    let pre = document.getElementsByTagName(\"pre\");\n    let code = document.querySelectorAll(\"pre code\");\n    if (!pre.length)return;\n    function gen_top_bar(i) {\n        let attributes = {\n            'autocomplete': 'off',\n            'autocorrect': 'off',\n            'autocapitalize': 'off',\n            'spellcheck': 'false',\n            'contenteditable': 'false',\n            'design': 'by Mashiro'\n        },\n            ele_name = pre[i].children[0].className,\n            lang = ele_name.substr(0, ele_name.indexOf(\" \")).replace('language-', ''),\n            code_a = code[i];\n        if (lang.toLowerCase() == \"hljs\") lang = code_a.className.replace('hljs', '') ? code_a.className.replace('hljs', '') : \"text\";\n        pre[i].classList.add(\"highlight-wrap\");\n        for (let t in attributes) {\n            pre[i].setAttribute(t, attributes[t]);\n        }\n        code_a.setAttribute('data-rel', lang.toUpperCase());\n    }\n    for (let i = 0; i < code.length; i++) {\n        hljs.highlightBlock(code[i]);\n    }\n    for (let i = 0; i < pre.length; i++) {\n        gen_top_bar(i);\n    }\n    hljs.initLineNumbersOnLoad();\n    let ec = document.querySelector(\".entry-content\");\n    ec && ec.addEventListener(\"click\", function (e) {\n        if (!e.target.classList.contains(\"highlight-wrap\")) return;\n        e.target.classList.toggle(\"code-block-fullscreen\");\n        document.getElementsByTagName(\"html\")[0].classList.toggle('code-block-fullscreen-html-scroll');\n    })\n}\ntry {\n    code_highlight_style();\n} catch (e) { }\n\nif (Poi.reply_link_version == 'new') {\n    let cm = document.querySelector(\".comments-main\");\n    if (cm)cm.addEventListener(\"click\", function (e) {\n        if (e.target.classList.contains(\"comment-reply-link\")) {\n            e.preventDefault();\n            e.stopPropagation();\n            let data_commentid = e.target.getAttribute(\"data-commentid\");\n            addComment.moveForm(\"comment-\" + data_commentid, data_commentid, \"respond\", this.getAttribute(\"data-postid\"));\n        }\n    })\n}\nlet ready = function (fn) {\n    if (typeof fn !== 'function') return;\n    if (document.readyState === 'complete') {\n        return fn();\n    }\n    document.addEventListener('DOMContentLoaded', fn, false);\n};\n\nfunction attach_image() {\n    let cached = document.getElementsByClassName(\"insert-image-tips\")[0],\n        upload_img = document.getElementById('upload-img-file');\n    if (!upload_img)return;\n    upload_img.addEventListener(\"change\", (function () {\n        if (this.files.length > 10) {\n            addComment.createButterbar(\"每次上传上限为10张.<br>10 files max per request.\");\n            return 0;\n        }\n        for (let i = 0; i < this.files.length; i++) {\n            if (this.files[i].size >= 5242880) {\n                alert('图片上传大小限制为5 MB.\\n5 MB max per file.\\n\\n「' + this.files[i].name + '」\\n\\n这张图太大啦~请重新上传噢！\\nThis image is too large~Please reupload!');\n                return;\n            }\n        }\n        for (let i = 0; i < this.files.length; i++) {\n            let f = this.files[i],\n                formData = new FormData(),\n                xhr = new XMLHttpRequest();\n            formData.append('cmt_img_file', f);\n            xhr.addEventListener('loadstart', function () {\n                cached.innerHTML = '<i class=\"fa fa-spinner rotating\" aria-hidden=\"true\"></i>';\n                addComment.createButterbar(\"上传中...<br>Uploading...\");\n            });\n            xhr.open(\"POST\", Poi.api + 'sakura/v1/image/upload?_wpnonce=' + Poi.nonce, true);\n            xhr.send(formData);\n            xhr.onreadystatechange = function () {\n                if (xhr.readyState == 4 && (xhr.status == 200 || xhr.status == 304)) {\n                    cached.innerHTML = '<i class=\"fa fa-check\" aria-hidden=\"true\"></i>';\n                    setTimeout(function () {\n                        cached.innerHTML = '<i class=\"fa fa-picture-o\" aria-hidden=\"true\"></i>';\n                    }, 1000);\n                    let res = JSON.parse(xhr.responseText);\n                    if (res.status == 200) {\n                        let get_the_url = res.proxy;\n                        document.getElementById(\"upload-img-show\").insertAdjacentHTML('afterend', '<img class=\"lazyload upload-image-preview\" src=\"https://cdn.jsdelivr.net/gh/Fuukei/Public_Repository@latest/vision/theme/colorful/load/inload.svg\" data-src=\"' + get_the_url + '\" onclick=\"window.open(\\'' + get_the_url + '\\')\" onerror=\"imgError(this)\" />');\n                        lazyload();\n                        addComment.createButterbar(\"图片上传成功~<br>Uploaded successfully~\");\n                        grin(get_the_url, type = 'Img');\n                    } else {\n                        addComment.createButterbar(\"上传失败！<br>Uploaded failed!<br> 文件名/Filename: \" + f.name + \"<br>code: \" + res.status + \"<br>\" + res.message, 3000);\n                    }\n                } else if (xhr.readyState == 4) {\n                    cached.innerHTML = '<i class=\"fa fa-times\" aria-hidden=\"true\" style=\"color:red\"></i>';\n                    alert(\"上传失败，请重试.\\nUpload failed, please try again.\");\n                    setTimeout(function () {\n                        cached.innerHTML = '<i class=\"fa fa-picture-o\" aria-hidden=\"true\"></i>';\n                    }, 1000);\n                }\n            }\n        };\n    }));\n}\n\n\nfunction clean_upload_images() {\n    document.getElementById(\"upload-img-show\").innerHTML = '';\n}\n\nfunction add_upload_tips() {\n    let form_subit = document.querySelector('.form-submit #submit');\n    if (form_subit == null) return;\n    form_subit.insertAdjacentHTML('afterend', '<div class=\"insert-image-tips popup\"><i class=\"fa fa-picture-o\" aria-hidden=\"true\"></i><span class=\"insert-img-popuptext\" id=\"uploadTipPopup\">上传图片</span></div><input id=\"upload-img-file\" type=\"file\" accept=\"image/*\" multiple=\"multiple\" class=\"insert-image-button\">');\n    attach_image();\n    let file_subit = document.getElementById('upload-img-file'),\n        hover = document.getElementsByClassName('insert-image-tips')[0],\n        Tip = document.getElementById('uploadTipPopup');\n    if (!file_subit)return;\n    file_subit.addEventListener(\"mouseenter\", function () {\n        hover.classList.toggle('insert-image-tips-hover');\n        Tip.classList.toggle('show');\n    });\n    file_subit.addEventListener(\"mouseleave\", function () {\n        hover.classList.toggle('insert-image-tips-hover');\n        Tip.classList.toggle('show');\n    });\n}\n\nfunction click_to_view_image() {\n    let comment_inline = document.getElementsByClassName('comment_inline_img');\n    if (!comment_inline.length) return;\n    document.getElementsByClassName(\"comments-main\")[0].addEventListener(\"click\", function (e) {\n        if (e.target.classList.contains(\"comment_inline_img\")) {\n            let temp_url = e.target.src;\n            window.open(temp_url);\n        }\n    })\n}\nclick_to_view_image();\n\n\nfunction original_emoji_click() {\n    let emoji = document.getElementsByClassName('emoji-item');\n    if (!emoji.length) return;\n    document.querySelector(\".menhera-container\").addEventListener(\"click\", function (e) {\n        if (e.target.classList.contains(\"emoji-item\")) {\n            grin(e.target.innerText, \"custom\", \"`\", \"` \");\n        }\n    })\n}\noriginal_emoji_click();\n\n\nfunction cmt_showPopup(ele) {\n    let popup = ele.querySelector(\"#thePopup\");\n    popup.classList.add(\"show\");\n    ele.querySelector(\"input\").onblur = () => {\n        popup.classList.remove(\"show\");\n    }\n}\n\nfunction scrollBar() {\n    if (document.body.clientWidth > 860) {\n        window.addEventListener(\"scroll\", () => {\n            let s = document.documentElement.scrollTop || document.body.scrollTop,\n                a = document.documentElement.scrollHeight || document.body.scrollHeight,\n                b = window.innerHeight, c,\n                result = parseInt(s / (a - b) * 100),\n                cached = document.getElementById('bar');\n            cached.style.width = result + \"%\";\n            switch (true) {\n                case (result <= 19): c = '#cccccc'; break;\n                case (result <= 39): c = '#50bcb6'; break;\n                case (result <= 59): c = '#85c440'; break;\n                case (result <= 79): c = '#f2b63c'; break;\n                case (result <= 99): c = '#FF0000'; break;\n                case (result == 100): c = '#5aaadb'; break;\n                default: c = \"orange\";\n            }\n            cached.style.background = c;\n            let f = document.querySelector(\".toc-container\"),\n                sc = document.querySelector(\".site-content\"),\n                skinMenu = document.querySelector(\".skin-menu\");\n            if (f && sc) {\n                f.style.height = sc.getBoundingClientRect(outerHeight)[\"height\"] + \"px\";\n            }\n            skinMenu && skinMenu.classList.remove(\"show\");\n        })\n    }\n}\n\nfunction checkskinSecter() {\n    if (mashiro_global.variables.skinSecter === false) {\n        let pattern = document.querySelector(\".pattern-center\"),\n            headertop = document.querySelector(\".headertop-bar\");\n        if (pattern){\n            pattern.classList.remove(\"pattern-center\");\n            pattern.classList.add(\"headertop-bar-sakura\");\n        }\n        if (headertop){\n            headertop.classList.remove(\"headertop-bar\");\n            headertop.classList.add(\"headertop-bar-sakura\");\n        }\n    } else {\n        let pattern = document.querySelector(\".pattern-center-sakura\"),\n            headertop = document.querySelector(\".headertop-bar-sakura\");\n        if (pattern){\n            pattern.classList.remove(\"pattern-center-sakura\");\n            pattern.classList.add(\"'pattern-center\");\n        }\n        if (headertop){\n            headertop.classList.remove(\"headertop-bar-sakura\");\n            headertop.classList.add(\"headertop-bar\");\n        }\n        // $(\".pattern-center-sakura\").removeClass('pattern-center-sakura').addClass('pattern-center');\n        // $(\".headertop-bar-sakura\").removeClass('headertop-bar-sakura').addClass('headertop-bar');\n    }\n}\n\nfunction checkBgImgCookie() {\n    let bgurl = getCookie(\"bgImgSetting\");\n    if (!bgurl) {\n        document.getElementById(\"white-bg\").click();\n        //$(\"#white-bg\").click();\n    } else {\n        document.getElementById(bgurl).click();\n        //$(\"#\" + bgurl).click();\n    }\n}\nfunction checkDarkModeCookie() {\n    let dark = getCookie(\"dark\"),\n        today = new Date()\n    cWidth = document.body.clientWidth;\n    if (!dark) {\n        if ((today.getHours() > 21 || today.getHours() < 7) && mashiro_option.darkmode) {\n            setTimeout(function () {\n                document.getElementById(\"dark-bg\").click();\n            }, 100);\n            console.log('夜间模式开启');\n        } else {\n            if (cWidth > 860) {\n                setTimeout(function () {\n                    checkBgImgCookie();\n                }, 100);\n                console.log('夜间模式关闭');\n            } else {\n                document.getElementsByTagName(\"html\")[0].style.background = \"unset\";\n                document.body.classList.remove(\"dark\");\n                let mbdl = document.getElementById(\"moblieDarkLight\");\n                if (mbdl) {\n                    mbdl.innerHTML = '<i class=\"fa fa-moon-o\" aria-hidden=\"true\"></i>';\n                }\n                setCookie(\"dark\", \"0\", 0.33);\n            }\n        }\n    } else {\n        if (dark == '1' && (today.getHours() >= 22 || today.getHours() <= 6) && mashiro_option.darkmode) {\n            setTimeout(function () {\n                document.getElementById(\"dark-bg\").click();\n            }, 100);\n            console.log('夜间模式开启');\n        } else if (dark == '0' || today.getHours() < 22 || today.getHours() > 6) {\n            if (cWidth > 860) {\n                setTimeout(function () {\n                    checkBgImgCookie();\n                }, 100);\n                console.log('夜间模式关闭');\n            } else {\n                document.getElementsByTagName(\"html\")[0].style.background = \"unset\";\n                document.body.classList.remove(\"dark\");\n                document.getElementById(\"moblieDarkLight\").innerHTML = '<i class=\"fa fa-moon-o\" aria-hidden=\"true\"></i>';\n                setCookie(\"dark\", \"0\", 0.33);\n            }\n        }\n    }\n}\nif (!getCookie(\"darkcache\") && (new Date().getHours() > 21 || new Date().getHours() < 7)) {\n    removeCookie(\"dark\");\n    setCookie(\"darkcache\", \"cached\", 0.4);\n}\nsetTimeout(function () {\n    checkDarkModeCookie();\n}, 100);\n\nfunction mobile_dark_light() {\n    if (document.body.classList.contains(\"dark\")) {\n        document.getElementsByTagName(\"html\")[0].style.background = \"unset\";\n        document.body.classList.remove(\"dark\");\n        document.getElementById(\"moblieDarkLight\").innerHTML = '<i class=\"fa fa-moon-o\" aria-hidden=\"true\"></i>';\n        setCookie(\"dark\", \"0\", 0.33);\n    } else {\n        document.getElementsByTagName(\"html\")[0].style.background = \"#333333\";\n        document.getElementById(\"moblieDarkLight\").innerHTML = '<i class=\"fa fa-sun-o\" aria-hidden=\"true\"></i>';\n        document.body.classList.add(\"dark\");\n        setCookie(\"dark\", \"1\", 0.33);\n    }\n}\n\nfunction no_right_click() {\n    let pri = document.getElementById(\"primary\");\n    if(!pri)return;\n    pri.addEventListener(\"contextmenu\", function (e) {\n        if (e.target.nodeName.toLowerCase() == \"img\") {\n            e.preventDefault();\n            e.stopPropagation();\n        }\n    })\n}\n\nno_right_click();\n\nready(function () {\n    //$(document).ready(function () {\n    function cover_bg() {\n        const centerbg = document.querySelector(\".centerbg\")\n        if (centerbg){\n           if (document.body.clientWidth < 860 && mashiro_option.random_graphs_mts == true) {\n            centerbg.style.backgroundImage = \"url(\" + mashiro_option.cover_api + \"?type=mobile\" + \")\";\n        } else {\n            centerbg.style.backgroundImage = \"url(\" + mashiro_option.cover_api + \")\";\n        } \n        }\n    }\n    cover_bg();\n    let checkskin_bg = (a) => a == \"none\" ? \"\" : a;\n\n    function changeBG() {\n        let cached = document.querySelectorAll(\".menu-list li\");\n        cached.forEach(e => {\n            e.addEventListener(\"click\", function () {\n                let tagid = this.id;\n                if (tagid == \"white-bg\" || tagid == \"dark-bg\") {\n                    mashiro_global.variables.skinSecter = true;\n                    checkskinSecter();\n                } else {\n                    mashiro_global.variables.skinSecter = false;\n                    checkskinSecter();\n                }\n                if (tagid == \"dark-bg\") {\n                    document.getElementsByTagName(\"html\")[0].style.background = \"#333333\";\n                    document.getElementsByClassName(\"site-content\")[0].style.backgroundColor = \"#333333\";\n                    document.body.classList.add(\"dark\");\n                    setCookie(\"dark\", \"1\", 0.33);\n                } else {\n                    document.getElementsByTagName(\"html\")[0].style.background = \"unset\";\n                    document.getElementsByClassName(\"site-content\")[0].style.backgroundColor = \"rgba(255, 255, 255, .8)\";\n                    document.body.classList.remove(\"dark\");\n                    setCookie(\"dark\", \"0\", 0.33);\n                    setCookie(\"bgImgSetting\", tagid, 30);\n                }\n                let temp;\n                switch (tagid) {\n                    case \"white-bg\":\n                        temp = mashiro_option.skin_bg0;\n                        document.body.classList.remove(\"dynamic\");\n                        break;\n                    case \"diy1-bg\":\n                        temp = mashiro_option.skin_bg1;\n                        break;\n                    case \"diy2-bg\":\n                        temp = mashiro_option.skin_bg2;\n                        break;\n                    case \"diy3-bg\":\n                        temp = mashiro_option.skin_bg3;\n                        break;\n                    case \"diy4-bg\":\n                        temp = mashiro_option.skin_bg4;\n                        break;\n                }\n                document.body.style.backgroundImage = `url(${temp})`;\n                closeSkinMenu();\n            });\n        });\n    }\n    changeBG();\n\n    function closeSkinMenu() {\n        document.querySelector(\".skin-menu\").classList.remove(\"show\");\n        setTimeout(function () {\n            if (document.querySelector(\".changeSkin-gear\") != null) {\n                document.querySelector(\".changeSkin-gear\").style.visibility = \"visible\";\n            }\n        }, 300);\n    }\n    let changskin = document.querySelector(\"#changskin\"),\n        close_SkinMenu = document.querySelector(\".skin-menu #close-skinMenu\");\n    changskin && changskin.addEventListener(\"click\", function () {\n        document.querySelector(\".skin-menu\").classList.toggle(\"show\");\n    })\n    close_SkinMenu && close_SkinMenu.addEventListener(\"click\", function () {\n        closeSkinMenu();\n    })\n    add_upload_tips();\n});\nlet bgn = 1;\n\nfunction nextBG() {\n    if (document.body.clientWidth < 860 && mashiro_option.random_graphs_mts == true) {\n        document.querySelector(\".centerbg\").style.backgroundImage = \"url(\" + mashiro_option.cover_api + \"?type=mobile&\" + bgn + \")\";\n    } else {\n        document.querySelector(\".centerbg\").style.backgroundImage = \"url(\" + mashiro_option.cover_api + \"?\" + bgn + \")\";\n    }\n    bgn = bgn + 1;\n}\n\nfunction preBG() {\n    bgn = bgn - 1;\n    if (document.body.clientWidth < 860 && mashiro_option.random_graphs_mts == true) {\n        document.querySelector(\".centerbg\").style.backgroundImage = \"url(\" + mashiro_option.cover_api + \"?type=mobile&\" + bgn + \")\";\n    } else {\n        document.querySelector(\".centerbg\").style.backgroundImage = \"url(\" + mashiro_option.cover_api + \"?\" + bgn + \")\";\n    }\n}\nready(function () {\n    let next = document.getElementById(\"bg-next\"),\n        pre = document.getElementById(\"bg-pre\");\n    if (next) { next.onclick = () => { nextBG() } };\n    if (pre) { pre.onclick = () => { preBG() } };\n});\n\nfunction topFunction() {\n    window.scrollTo({\n        top: 0,\n        behavior: \"smooth\"\n    });\n}\n\nfunction timeSeriesReload(flag) {\n    let archives = document.getElementById('archives');\n    if (archives == null) return;\n    let al_li = archives.getElementsByClassName('al_mon');\n    if (flag == true) {\n        archives.addEventListener(\"click\", function (e) {\n            if (e.target.classList.contains(\"al_mon\")) {\n                slideToogle(e.target.nextElementSibling, 500);\n                e.preventDefault();\n            }\n        })\n        lazyload();\n    } else {\n        (function () {\n            let al_expand_collapse = document.getElementById('al_expand_collapse');\n            al_expand_collapse.style.cursor = \"s-resize\";\n            for (let i = 0; i < al_li.length; i++) {\n                let a = al_li[i],\n                    num = a.nextElementSibling.getElementsByTagName('li').length;\n                a.style.cursor = \"s-resize\";\n                a.querySelector('#post-num').textContent = num;\n            }\n            let al_post_list = archives.getElementsByClassName(\"al_post_list\"),\n                al_post_list_f = al_post_list[0];\n            for (let i = 0; i < al_post_list.length; i++) {\n                slideToogle(al_post_list[i], 500, 'hide', function () {\n                    slideToogle(al_post_list_f, 500, 'show');\n                })\n            }\n            archives.addEventListener(\"click\", function (e) {\n                if (e.target.classList.contains(\"al_mon\")) {\n                    slideToogle(e.target.nextElementSibling, 500);\n                    e.preventDefault();\n                }\n            })\n            if (document.body.clientWidth > 860) {\n                for (let i = 0; i < al_post_list.length; i++) {\n                    let el = al_post_list[i];\n                    el.parentNode.addEventListener('mouseover', function () {\n                        slideToogle(el, 500, 'show');\n                        return false;\n                    })\n                }\n                if (false) {\n                    for (let i = 0; i < al_post_list.length; i++) {\n                        let el = al_post_list[i];\n                        el.parentNode.addEventListener('mouseover', function () {\n                            slideToogle(el, 500, 'hide');\n                            return false;\n                        })\n                    }\n                }\n                let al_expand_collapse_click = 0;\n                al_expand_collapse.addEventListener('click', function () {\n                    if (al_expand_collapse_click == 0) {\n                        for (let i = 0; i < al_post_list.length; i++) {\n                            let el = al_post_list[i];\n                            slideToogle(el, 500, 'show');\n                        };\n                        al_expand_collapse_click++;\n                    } else if (al_expand_collapse_click == 1) {\n                        for (let i = 0; i < al_post_list.length; i++) {\n                            let el = al_post_list[i];\n                            slideToogle(el, 500, 'hide');\n                        };\n                        al_expand_collapse_click--;\n                    }\n                });\n            }\n        })();\n    }\n}\n\ntimeSeriesReload();\n\n/*视频feature*/\nfunction coverVideo() {\n    let video = addComment.I(\"coverVideo\"),\n        btn = addComment.I(\"coverVideo-btn\");\n\n    if (video.paused) {\n        video.play();\n        try {\n            btn.innerHTML = '<i class=\"fa fa-pause\" aria-hidden=\"true\"></i>';\n        } catch { };\n        //console.info('play:coverVideo()');\n    } else {\n        video.pause();\n        try {\n            btn.innerHTML = '<i class=\"fa fa-play\" aria-hidden=\"true\"></i>';\n        } catch { };\n        //console.info('pause:coverVideo()');\n    }\n}\n\nfunction killCoverVideo() {\n    var video = addComment.I(\"coverVideo\");\n    var btn = addComment.I(\"coverVideo-btn\");\n\n    if (video.paused) {\n        //console.info('none:killCoverVideo()');\n    } else {\n        video.pause();\n        try {\n            btn.innerHTML = '<i class=\"fa fa-play\" aria-hidden=\"true\"></i>';\n        } catch (e) { };\n        //console.info('pause:killCoverVideo()');\n    }\n}\n\nfunction loadHls() {\n    let video = addComment.I('coverVideo'),\n        video_src = document.getElementById(\"coverVideo\").getAttribute(\"data-src\");\n    if (Hls.isSupported()) {\n        let hls = new Hls();\n        hls.loadSource(video_src);\n        hls.attachMedia(video);\n        hls.on(Hls.Events.MANIFEST_PARSED, function () {\n            video.play();\n        });\n    } else if (video.canPlayType('application/vnd.apple.mpegurl')) {\n        video.src = video_src;\n        video.addEventListener('loadedmetadata', function () {\n            video.play();\n        });\n    }\n}\nfunction loadJS(url, callback) {\n    let script = document.createElement(\"script\"),\n        fn = callback || function () { };\n    script.type = \"text/javascript\";\n    script.onload = function () {\n        fn();\n    };\n    script.src = url;\n    document.head.appendChild(script);\n}\n\nfunction coverVideoIni() {\n    let video = document.getElementsByTagName('video')[0];\n    if (video && video.classList.contains('hls')) {\n        if (mashiro_global.variables.has_hls) {\n            loadHls();\n        } else {\n            //不保证可用 需测试\n            loadJS(\"https://cdn.jsdelivr.net/gh/mashirozx/Sakura@3.3.3/cdn/js/src/16.hls.js\", function () {\n                loadHls();\n                mashiro_global.variables.has_hls = true;\n            })\n        }\n    }\n}\n\nfunction copy_code_block() {\n    let ele = document.querySelectorAll(\"pre code\");\n    for (let j = 0; j < ele.length; j++) {\n        ele[j].setAttribute('id', 'hljs-' + j);\n        ele[j].insertAdjacentHTML('afterend', '<a class=\"copy-code\" href=\"javascript:\" data-clipboard-target=\"#hljs-' + j + '\" title=\"拷贝代码\"><i class=\"fa fa-clipboard\" aria-hidden=\"true\"></i>');\n    };\n    let clipboard = new ClipboardJS('.copy-code');\n}\n\n\nfunction tableOfContentScroll(flag) {\n    if (document.body.clientWidth <= 1200) {\n        return;\n    } else if (!document.querySelector(\"div.have-toc\") && !document.querySelector(\"div.has-toc\")) {\n        let ele = document.getElementsByClassName(\"toc-container\")[0];\n        if (ele) {\n            ele.remove();\n            ele = null;\n        }\n    } else {\n        if (flag) {\n            let id = 1,\n                heading_fix = mashiro_option.entry_content_theme == \"sakura\" ? (document.querySelector(\"article.type-post\") ? (document.querySelector(\"div.pattern-attachment-img\") ? -75 : 200) : 375) : window.innerHeight / 2;\n            let _els = document.querySelectorAll('.entry-content,.links');\n            for (let i = 0; i < _els.length; i++) {\n                let _el = _els[i].querySelectorAll('h1,h2,h3,h4,h5');\n                for (let j = 0; j < _el.length; j++) {\n                    _el[j].id = \"toc-head-\" + id;\n                    id++;\n                }\n            }\n            tocbot.init({\n                tocSelector: '.toc',\n                contentSelector: ['.entry-content', '.links'],\n                headingSelector: 'h1, h2, h3, h4, h5',\n                headingsOffset: heading_fix - window.innerHeight / 2,\n            });\n        }\n    }\n}\ntableOfContentScroll(flag = true);\nconst pjaxInit = function () {\n    add_upload_tips();\n    no_right_click();\n    click_to_view_image();\n    original_emoji_click();\n    mashiro_global.font_control.ini();\n    let _p = document.getElementsByTagName(\"p\");\n    for (let i = 0; i < _p.length; i++) {\n        _p[i].classList.remove(\"head-copyright\");\n    }\n    try {\n        code_highlight_style();\n    } catch { };\n    try {\n        getqqinfo();\n    } catch { };\n    lazyload();\n    let _div = document.getElementsByTagName(\"div\"),\n        tla = document.getElementById(\"to-load-aplayer\");\n    tla && tla.addEventListener(\"click\", () => {\n        try {\n            reloadHermit();\n        } catch (e) { };\n        for (let i=0;i<_div.length;i++) {\n            _div[i].classList.remove(\"load-aplayer\");\n        }\n    });\n    for (let i=0;i<_div.length;i++) {\n        if (_div[i].classList.contains(\"aplayer\")) {\n            try {\n                reloadHermit();\n            } catch { };\n        }\n    }\n    let iconflat = document.getElementsByClassName(\"iconflat\");\n    if (iconflat.length != 0) {\n        iconflat[0].style.width = '50px';\n        iconflat[0].style.height = '50px';\n    }\n    let openNav = document.getElementsByClassName(\"openNav\");\n    if (openNav.length != 0) {\n        openNav[0].style.height = '50px';\n    }\n    document.getElementById(\"bg-next\").addEventListener(\"click\", () => {\n        nextBG();\n    });\n    document.getElementById(\"bg-pre\").addEventListener(\"click\", () => {\n        preBG();\n    });\n    smileBoxToggle();\n    timeSeriesReload();\n    add_copyright();\n    tableOfContentScroll(flag = true);\n}\n\nfunction sm() {\n    let sm = document.getElementsByClassName('sm'),\n        cm = document.querySelector(\".comments-main\");\n    if (!sm.length) return;\n    cm && cm.addEventListener(\"click\", (e) => {\n        let list = e.target.parentNode;\n        if (list.classList.contains(\"sm\")) {\n            let msg = \"您真的要设为私密吗？\";\n            if (confirm(msg) == true) {\n                if (list.classList.contains('private_now')) {\n                    alert('您之前已设过私密评论');\n                    return false;\n                } else {\n                    list.classList.add('private_now');\n                    let idp = list.getAttribute(\"data-idp\"),\n                        actionp = list.getAttribute(\"data-actionp\"),\n                        rateHolderp = list.getElementsByClassName('has_set_private')[0];\n                    let ajax_data = \"action=siren_private&p_id=\" + idp + \"&p_action=\" + actionp;\n                    let request = new XMLHttpRequest();\n                    request.onreadystatechange = function () {\n                        if (this.readyState == 4 && this.status == 200) {\n                            rateHolderp.innerHTML = request.responseText;\n                        }\n                    };\n                    request.open('POST', '/wp-admin/admin-ajax.php', true);\n                    request.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\n                    request.send(ajax_data);\n                    return false;\n                }\n            } else {\n                alert(\"已取消\");\n            }\n        }\n    })\n}\n\n\nPOWERMODE.colorful = true;\nPOWERMODE.shake = false;\ndocument.body.addEventListener('input', POWERMODE);\n\nfunction motionSwitch(ele) {\n    let motionEles = [\".bili\", \".menhera\", \".tieba\"];\n    for (let i = 0; i < motionEles.length; i++) {\n        document.querySelector(motionEles[i] + '-bar').classList.remove('on-hover');\n        document.querySelector(motionEles[i] + '-container').style.display = 'none';\n    }\n    document.querySelector(ele + '-bar').classList.add(\"on-hover\");\n    document.querySelector(ele + '-container').style.display = 'block';\n}\nlet comt = document.getElementsByClassName(\"comt-addsmilies\");\nif (comt.length > 0) {\n    Array.from(comt, (e) => {\n        e.addEventListener(\"click\", () => {\n            if (e.stlye.display == \"block\") {\n                e.style.display = \"none\";\n            } else {\n                e.style.display = \"block\";\n            }\n        })\n    })\n}\n// $('.comt-addsmilies').click(function () {\n//     $('.comt-smilies').toggle();\n// })\nlet comta = document.querySelectorAll(\".comt-smilies a\");\ncomta.forEach((e) => {\n    e.addEventListener(\"click\", () => {\n        e.parentNode.style.display = \"none\";\n    })\n})\n// $('.comt-smilies a').click(function () {\n//     $(this).parent().hide();\n// })\n\nfunction smileBoxToggle() {\n    let et = document.getElementById(\"emotion-toggle\");\n    et && et.addEventListener('click', function () {\n        document.querySelector('.emotion-toggle-off').classList.toggle(\"emotion-hide\");\n        document.querySelector('.emotion-toggle-on').classList.toggle(\"emotion-show\");\n        document.querySelector('.emotion-box').classList.toggle(\"emotion-box-show\");\n    })\n}\nsmileBoxToggle();\n\nfunction grin(tag, type, before, after) {\n    let myField;\n    switch (type) {\n        case \"custom\": tag = before + tag + after; break;\n        case \"Img\": tag = '[img]' + tag + '[/img]'; break;\n        case \"Math\": tag = ' {{' + tag + '}} '; break;\n        case \"tieba\": tag = ' ::' + tag + ':: '; break;\n        default: tag = ' :' + tag + ': ';\n    }\n    if (addComment.I('comment') && addComment.I('comment').type == 'textarea') {\n        myField = addComment.I('comment');\n    } else {\n        return false;\n    }\n    if (document.selection) {\n        myField.focus();\n        sel = document.selection.createRange();\n        sel.text = tag;\n        myField.focus();\n    } else if (myField.selectionStart || myField.selectionStart == '0') {\n        let startPos = myField.selectionStart,\n            endPos = myField.selectionEnd,\n            cursorPos = endPos;\n        myField.value = myField.value.substring(0, startPos) + tag + myField.value.substring(endPos, myField.value.length);\n        cursorPos += tag.length;\n        myField.focus();\n        myField.selectionStart = cursorPos;\n        myField.selectionEnd = cursorPos;\n    } else {\n        myField.value += tag;\n        myField.focus();\n    }\n}\nlet copytext = (e) => {\n    if (window.getSelection().toString().length > 30 && mashiro_option.clipboardCopyright) {\n        setClipboardText(e);\n    }\n    addComment.createButterbar(\"复制成功！<br>Copied to clipboard successfully!\", 1000);\n    function setClipboardText(event) {\n        event.preventDefault();\n        let htmlData = \"# 商业转载请联系作者获得授权，非商业转载请注明出处。<br>\" + \"# For commercial use, please contact the author for authorization. For non-commercial use, please indicate the source.<br>\" + \"# 协议(License)：署名-非商业性使用-相同方式共享 4.0 国际 (CC BY-NC-SA 4.0)<br>\" + \"# 作者(Author)：\" + mashiro_option.author_name + \"<br>\" + \"# 链接(URL)：\" + window.location.href + \"<br>\" + \"# 来源(Source)：\" + mashiro_option.site_name + \"<br><br>\" + window.getSelection().toString().replace(/\\r\\n/g, \"<br>\"),\n            textData = \"# 商业转载请联系作者获得授权，非商业转载请注明出处。\\n\" + \"# For commercial use, please contact the author for authorization. For non-commercial use, please indicate the source.\\n\" + \"# 协议(License)：署名-非商业性使用-相同方式共享 4.0 国际 (CC BY-NC-SA 4.0)\\n\" + \"# 作者(Author)：\" + mashiro_option.author_name + \"\\n\" + \"# 链接(URL)：\" + window.location.href + \"\\n\" + \"# 来源(Source)：\" + mashiro_option.site_name + \"\\n\\n\" + window.getSelection().toString().replace(/\\r\\n/g, \"\\n\");\n        if (event.clipboardData) {\n            event.clipboardData.setData(\"text/html\", htmlData);\n            event.clipboardData.setData(\"text/plain\", textData);\n        } else if (window.clipboardData) {\n            return window.clipboardData.setData(\"text\", textData);\n        }\n    }\n}\nfunction add_copyright() {\n    document.body.removeEventListener(\"copy\", copytext);\n    document.body.addEventListener(\"copy\", copytext);\n}\n\nadd_copyright();\nready(() => {\n    getqqinfo();\n});\n\nif (mashiro_option.float_player_on) {\n    function aplayerF() {\n        'use strict';\n        let aplayers = [],\n            loadMeting = function () {\n                function a(a, b) {\n                    let c = {\n                        container: a,\n                        audio: b,\n                        mini: null,\n                        fixed: null,\n                        autoplay: !1,\n                        mutex: !0,\n                        lrcType: 3,\n                        listFolded: 1,\n                        preload: 'auto',\n                        theme: '#2980b9',\n                        loop: 'all',\n                        order: 'list',\n                        volume: null,\n                        listMaxHeight: null,\n                        customAudioType: null,\n                        storageName: 'metingjs'\n                    };\n                    if (b.length) {\n                        b[0].lrc || (c.lrcType = 0);\n                        let d = {};\n                        for (let e in c) {\n                            let f = e.toLowerCase();\n                            (a.dataset.hasOwnProperty(f) || a.dataset.hasOwnProperty(e) || null !== c[e]) && (d[e] = a.dataset[f] || a.dataset[e] || c[e], ('true' === d[e] || 'false' === d[e]) && (d[e] = 'true' == d[e]))\n                        }\n                        aplayers.push(new APlayer(d))\n                    }\n                    for (let f = 0; f < aplayers.length; f++) try {\n                        aplayers[f].lrc.hide();\n                    } catch (a) {\n                        console.log(a)\n                    }\n                    let lrcTag = 1;\n                    document.querySelector(\".aplayer.aplayer-fixed\").addEventListener(\"click\", () => {\n                        if (lrcTag == 1) {\n                            for (let f = 0; f < aplayers.length; f++) try {\n                                aplayers[f].lrc.show();\n                            } catch (a) {\n                                console.log(a)\n                            }\n                        }\n                        lrcTag = 2;\n                    });\n                    let apSwitchTag = 0,\n                        aplayer_body = document.querySelector(\".aplayer.aplayer-fixed .aplayer-body\"),\n                        aplayer_minisw = document.querySelector(\".aplayer-miniswitcher\");\n                    aplayer_body && aplayer_body.classList.add(\"ap-hover\");\n                    player_minisw && player_minisw.addEventListener(\"click\", () => {\n                        if (apSwitchTag == 0) {\n                            aplayer_body && aplayer_body.classList.remove(\"ap-hover\");\n                            document.getElementById(\"secondary\") && document.getElementById(\"secondary\").classList.add(\"active\");\n                            apSwitchTag = 1;\n                        } else {\n                            aplayer_body && aplayer_body.classList.add(\"ap-hover\");\n                            document.getElementById(\"secondary\") && document.getElementById(\"secondary\").classList.remove(\"active\");\n                            apSwitchTag = 0;\n                        }\n                    });\n                }\n                let b = mashiro_option.meting_api_url + '?server=:server&type=:type&id=:id&_wpnonce=' + Poi.nonce;\n                'undefined' != typeof meting_api && (b = meting_api);\n                for (let f = 0; f < aplayers.length; f++) try {\n                    aplayers[f].destroy()\n                } catch (a) {\n                    console.log(a)\n                }\n                aplayers = [];\n                for (let c = document.querySelectorAll('.aplayer'), d = function () {\n                    let d = c[e],\n                        f = d.dataset.id;\n                    if (f) {\n                        let g = d.dataset.api || b;\n                        g = g.replace(':server', d.dataset.server), g = g.replace(':type', d.dataset.type), g = g.replace(':id', d.dataset.id);\n                        let h = new XMLHttpRequest;\n                        h.onreadystatechange = function () {\n                            if (4 === h.readyState && (200 <= h.status && 300 > h.status || 304 === h.status)) {\n                                let b = JSON.parse(h.responseText);\n                                a(d, b)\n                            }\n                        }, h.open('get', g, !0), h.send(null)\n                    } else if (d.dataset.url) {\n                        let i = [{\n                            name: d.dataset.name || d.dataset.title || 'Audio name',\n                            artist: d.dataset.artist || d.dataset.author || 'Audio artist',\n                            url: d.dataset.url,\n                            cover: d.dataset.cover || d.dataset.pic,\n                            lrc: d.dataset.lrc,\n                            type: d.dataset.type || 'auto'\n                        }];\n                        a(d, i)\n                    }\n                }, e = 0; e < c.length; e++) d()\n            };\n        document.addEventListener('DOMContentLoaded', loadMeting, !1);\n    }\n    if (document.body.clientWidth > 860) {\n        aplayerF();\n    }\n}\n\nfunction getqqinfo() {\n    var is_get_by_qq = false,\n        cached = $('input');\n    if (!getCookie('user_qq') && !getCookie('user_qq_email') && !getCookie('user_author')) {\n        cached.filter('#qq,#author,#email,#url').val('');\n    }\n    if (getCookie('user_avatar') && getCookie('user_qq') && getCookie('user_qq_email')) {\n        $('div.comment-user-avatar img').attr('src', getCookie('user_avatar'));\n        cached.filter('#author').val(getCookie('user_author'));\n        cached.filter('#email').val(getCookie('user_qq') + '@qq.com');\n        cached.filter('#qq').val(getCookie('user_qq'));\n        if (mashiro_option.qzone_autocomplete) {\n            cached.filter('#url').val('https://user.qzone.qq.com/' + getCookie('user_qq'));\n        }\n        if (cached.filter('#qq').val()) {\n            $('.qq-check').css('display', 'block');\n            $('.gravatar-check').css('display', 'none');\n        }\n    }\n    var emailAddressFlag = cached.filter('#email').val();\n    cached.filter('#author').on('blur', function () {\n        var qq = cached.filter('#author').val(),\n            $reg = /^[1-9]\\d{4,9}$/;\n        if ($reg.test(qq)) {\n            $.ajax({\n                type: 'get',\n                url: mashiro_option.qq_api_url + '?qq=' + qq + '&_wpnonce=' + Poi.nonce,\n                dataType: 'json',\n                success: function (data) {\n                    cached.filter('#author').val(data.name);\n                    cached.filter('#email').val($.trim(qq) + '@qq.com');\n                    if (mashiro_option.qzone_autocomplete) {\n                        cached.filter('#url').val('https://user.qzone.qq.com/' + $.trim(qq));\n                    }\n                    $('div.comment-user-avatar img').attr('src', 'https://q2.qlogo.cn/headimg_dl?dst_uin=' + qq + '&spec=100');\n                    is_get_by_qq = true;\n                    cached.filter('#qq').val($.trim(qq));\n                    if (cached.filter('#qq').val()) {\n                        $('.qq-check').css('display', 'block');\n                        $('.gravatar-check').css('display', 'none');\n                    }\n                    setCookie('user_author', data.name, 30);\n                    setCookie('user_qq', qq, 30);\n                    setCookie('is_user_qq', 'yes', 30);\n                    setCookie('user_qq_email', qq + '@qq.com', 30);\n                    setCookie('user_email', qq + '@qq.com', 30);\n                    emailAddressFlag = cached.filter('#email').val();\n                    /***/\n                    $('div.comment-user-avatar img').attr('src', data.avatar);\n                    setCookie('user_avatar', data.avatar, 30);\n                },\n                error: function () {\n                    cached.filter('#qq').val('');\n                    $('.qq-check').css('display', 'none');\n                    $('.gravatar-check').css('display', 'block');\n                    $('div.comment-user-avatar img').attr('src', get_gravatar(cached.filter('#email').val(), 80));\n                    setCookie('user_qq', '', 30);\n                    setCookie('user_email', cached.filter('#email').val(), 30);\n                    setCookie('user_avatar', get_gravatar(cached.filter('#email').val(), 80), 30);\n                    /***/\n                    cached.filter('#qq,#email,#url').val('');\n                    if (!cached.filter('#qq').val()) {\n                        $('.qq-check').css('display', 'none');\n                        $('.gravatar-check').css('display', 'block');\n                        setCookie('user_qq', '', 30);\n                        $('div.comment-user-avatar img').attr('src', get_gravatar(cached.filter('#email').val(), 80));\n                        setCookie('user_avatar', get_gravatar(cached.filter('#email').val(), 80), 30);\n                    }\n                }\n            });\n        }\n    });\n    if (getCookie('user_avatar') && getCookie('user_email') && getCookie('is_user_qq') == 'no' && !getCookie('user_qq_email')) {\n        $('div.comment-user-avatar img').attr('src', getCookie('user_avatar'));\n        cached.filter('#email').val(getCookie('user_email'));\n        cached.filter('#qq').val('');\n        if (!cached.filter('#qq').val()) {\n            $('.qq-check').css('display', 'none');\n            $('.gravatar-check').css('display', 'block');\n        }\n    }\n    cached.filter('#email').on('blur', function () {\n        var emailAddress = cached.filter('#email').val();\n        if ((is_get_by_qq == false || emailAddressFlag != emailAddress) && emailAddress != '') {\n            $('div.comment-user-avatar img').attr('src', get_gravatar(emailAddress, 80));\n            setCookie('user_avatar', get_gravatar(emailAddress, 80), 30);\n            setCookie('user_email', emailAddress, 30);\n            setCookie('user_qq_email', '', 30);\n            setCookie('is_user_qq', 'no', 30);\n            cached.filter('#qq').val('');\n            if (!cached.filter('#qq').val()) {\n                $('.qq-check').css('display', 'none');\n                $('.gravatar-check').css('display', 'block');\n            }\n        }\n    });\n    if (getCookie('user_url')) {\n        cached.filter('#url').val(getCookie('user_url'));\n    }\n    cached.filter('#url').on('blur', function () {\n        var URL_Address = cached.filter('#url').val();\n        cached.filter('#url').val(URL_Address);\n        setCookie('user_url', URL_Address, 30);\n    });\n    if (getCookie('user_author')) {\n        cached.filter('#author').val(getCookie('user_author'));\n    }\n    cached.filter('#author').on('blur', function () {\n        var user_name = cached.filter('#author').val();\n        cached.filter('#author').val(user_name);\n        setCookie('user_author', user_name, 30);\n    });\n}\n\nfunction mail_me() {\n    var mail = \"mailto:\" + mashiro_option.email_name + \"@\" + mashiro_option.email_domain;\n    window.open(mail);\n}\n\nfunction activate_widget() {\n    let secondary = document.getElementById(\"secondary\");\n    if (document.body.clientWidth > 860) {\n        let show_hide = document.querySelector(\".show-hide\");\n        show_hide && show_hide.addEventListener(\"click\", function () {\n            secondary && secondary.classList.toggle(\"active\");\n        });\n    } else {\n        secondary && secondary.remove();\n    }\n}\nsetTimeout(function () {\n    activate_widget();\n}, 100);\n\nfunction load_bangumi() {\n    let section = document.getElementsByTagName(\"section\"), _flag = false;\n    for (let i = 0; i < section.length; i++) {\n        if (section[i].classList.contains(\"bangumi\")) {\n            _flag = true;\n        }\n    }\n    if (_flag) {\n        document.addEventListener('click', function (e) {\n            let target = e.target;\n            if (target === document.querySelector(\"#bangumi-pagination a\")) {\n                let bgpa = document.querySelector(\"#bangumi-pagination a\");\n                bgpa.classList.add(\"loading\");\n                bgpa.textContent = \"\";\n                let xhr = new XMLHttpRequest();\n                xhr.open('POST', target.href + \"&_wpnonce=\" + Poi.nonce, true);\n                xhr.onreadystatechange = function () {\n                    if (xhr.readyState == 4 && xhr.status == 200) {\n                        let html = JSON.parse(xhr.responseText),\n                            bfan = document.getElementById(\"bangumi-pagination\"),\n                            row = document.getElementsByClassName(\"row\")[0];\n                        bfan.remove();\n                        row.insertAdjacentHTML('beforeend', html);\n                    } else {\n                        bgpa.classList.remove(\"loading\");\n                        bgpa.innerHTML = '<i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> ERROR ';\n                    }\n                };\n                xhr.send();\n            }\n        });\n    }\n}\n\n\nmashiro_global.ini.normalize();\nloadCSS(mashiro_option.jsdelivr_css_src);\nloadCSS(mashiro_option.entry_content_style_src);\nloadCSS(\"https://at.alicdn.com/t/font_679578_qyt5qzzavdo39pb9.css\");\nloadCSS(\"https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css\");\n\nvar home = location.href,\n    // s = $('#bgvideo')[0],\n    s = document.getElementById(\"bgvideo\"),\n    Siren = {\n        MN: function () {\n            let iconflat = document.querySelector(\".iconflat\");\n            iconflat && iconflat.addEventListener(\"click\", function () {\n                document.body.classList.toggle(\"navOpen\");\n                document.getElementById(\"main-container\").classList.toggle(\"open\");\n                document.getElementById(\"mo-nav\").classList.toggle(\"open\");\n                document.querySelector(\".openNav\").classList.toggle(\"open\");\n            });\n        },\n        MNH: function () {\n            if (document.body.classList.contains(\"navOpen\")) {\n                document.body.classList.toggle(\"navOpen\");\n                document.getElementById(\"main-container\").classList.toggle(\"open\");\n                document.getElementById(\"mo-nav\").classList.toggle(\"open\");\n                document.querySelector(\".openNav\").classList.toggle(\"open\");\n            }\n        },\n        splay: function () {\n            let video_btn = document.getElementById(\"video-btn\");\n            if (video_btn){\n                video_btn.classList.add(\"video-pause\");\n                video_btn.classList.remove(\"video-play\");\n            }\n            try {\n                video_btn.style.display = \"\";\n                document.querySelector(\".video-stu\").style.bottom = \"-100px\";\n                document.querySelector(\".focusinfo\").style.top = \"-999px\";\n            } catch { }\n            try {\n                for (let i = 0; i < ap.length; i++) {\n                    try {\n                        ap[i].destroy()\n                    } catch { }\n                }\n            } catch { }\n            try {\n                hermitInit()\n            } catch { }\n            s.play();\n        },\n        spause: function () {\n            let video_btn = document.getElementById(\"video-btn\");\n            if (video_btn){\n                video_btn.classList.add(\"video-play\");\n                video_btn.classList.remove(\"video-pause\");\n            }\n            try {\n                document.querySelector(\".focusinfo\").style.top = \"49.3%\";\n            } catch { }\n            s.pause();\n        },\n        liveplay: function () {\n            if (s.oncanplay != undefined && document.querySelector(\".haslive\")) {\n                if (document.querySelector(\".videolive\")) {\n                    Siren.splay();\n                }\n            }\n        },\n        livepause: function () {\n            if (s.oncanplay != undefined && document.querySelector(\".haslive\")) {\n                Siren.spause();\n                let video_stu = document.getElementsByClassName(\"video-stu\")[0];\n                video_stu.style.bottom = \"0px\";\n                video_stu.innerHTML = \"已暂停 ...\";\n            }\n        },\n        addsource: function () {\n            let video_stu = document.getElementsByClassName(\"video-stu\")[0];\n            video_stu.innerHTML = \"正在载入视频 ...\";\n            video_stu.style.bottom = \"0px\";\n            let t = Poi.movies.name.split(\",\"),\n                _t = t[Math.floor(Math.random() * t.length)],\n                bgvideo = document.getElementById(\"bgvideo\");\n            bgvideo.setAttribute(\"src\", Poi.movies.url + '/' + _t + '.mp4');\n            bgvideo.setAttribute(\"video-name\", _t);\n        },\n        LV: function () {\n            let _btn = document.getElementById(\"video-btn\");\n            _btn.addEventListener(\"click\", function () {\n                if (this.classList.contains(\"loadvideo\")) {\n                    this.classList.add(\"video-pause\");\n                    this.classList.remove(\"loadvideo\");\n                    Siren.addsource();\n                    s.oncanplay = function () {\n                        Siren.splay();\n                        document.getElementById(\"video-add\").style.display = \"block\";\n                        _btn.classList.add(\"videolive\", \"haslive\");\n                    }\n                } else {\n                    if (this.classList.contains(\"video-pause\")) {\n                        Siren.spause();\n                        _btn.classList.remove(\"videolive\");\n                        document.getElementsByClassName(\"video-stu\")[0].style.bottom = \"0px\";\n                        document.getElementsByClassName(\"video-stu\")[0].innerHTML = \"已暂停 ...\";\n                    } else {\n                        Siren.splay();\n                        _btn.classList.add(\"videolive\");\n                    }\n                }\n                s.onended = function () {\n                    s.setAttribute(\"src\", \"\");\n                    document.getElementById(\"video-add\").style.display = \"none\";\n                    _btn && _btn.classList.add(\"loadvideo\");\n                    _btn && _btn.classList.remove(\"video-pause\", \"videolive\", \"haslive\");\n                    document.querySelector(\".focusinfo\").style.top = \"49.3%\";\n                }\n            });\n            document.getElementById(\"video-add\").addEventListener(\"click\", function () {\n                Siren.addsource();\n            });\n        },\n        AH: function () {\n            if (Poi.windowheight == 'auto') {\n                if (document.querySelector(\"h1.main-title\")) {\n                    //let _height = document.documentElement.clientHeight + \"px\";\n                    document.getElementById(\"centerbg\").style.height = \"100vh\";\n                    document.getElementById(\"bgvideo\").style.minHeight = \"100vh\";\n                }\n            } else {\n                document.querySelector(\".headertop\") && document.querySelector(\".headertop\").classList.add(\"headertop-bar\");\n            }\n        },\n        PE: function () {\n            if (document.querySelector(\".headertop\")) {\n                let headertop = document.querySelector(\".headertop\"),\n                    blank = document.querySelector(\".blank\");\n                if (document.querySelector(\".main-title\")) {\n                    try {\n                        blank.style.paddingTop = \"0px\";\n                    } catch (e) { }\n                    headertop.style.height = \"auto\";\n                    headertop.style.display = \"\";\n                    if (Poi.movies.live == 'open') Siren.liveplay();\n                } else {\n                    try {\n                        blank.style.paddingTop = \"75px\";\n                    } catch (e) { }\n                    headertop.style.height = \"0px\";\n                    headertop.style.display = \"none\";\n                    Siren.livepause();\n                }\n            }\n        },\n        CE: function () {\n            $('.comments-hidden').show();\n            $('.comments-main').hide();\n            $('.comments-hidden').click(function () {\n                $('.comments-main').slideDown(500);\n                $('.comments-hidden').hide();\n            });\n            $('.archives').hide();\n            $('.archives:first').show();\n            $('#archives-temp h3').click(function () {\n                $(this).next().slideToggle('fast');\n                return false;\n            });\n            /*if (mashiro_option.baguetteBoxON) {\n                baguetteBox.run('.entry-content', {\n                    captions: function (element) {\n                        return element.getElementsByTagName('img')[0].alt;\n                    },\n                    ignoreClass: 'fancybox',\n                });\n            }*/\n            $('.js-toggle-search').on('click', function () {\n                $('.js-toggle-search').toggleClass('is-active');\n                $('.js-search').toggleClass('is-visible');\n                $('html').css('overflow-y', 'hidden');\n                if (mashiro_option.live_search) {\n                    var QueryStorage = [];\n                    search_a(Poi.api + \"sakura/v1/cache_search/json?_wpnonce=\" + Poi.nonce);\n\n                    var otxt = addComment.I(\"search-input\"),\n                        list = addComment.I(\"PostlistBox\"),\n                        Record = list.innerHTML,\n                        searchFlag = null;\n                    otxt.oninput = function () {\n                        if (searchFlag == null) {\n                            clearTimeout(searchFlag);\n                        }\n                        searchFlag = setTimeout(function () {\n                            query(QueryStorage, otxt.value, Record);\n                            div_href();\n                        }, 250);\n                    };\n\n                    function search_a(val) {\n                        if (sessionStorage.getItem('search') != null) {\n                            QueryStorage = JSON.parse(sessionStorage.getItem('search'));\n                            query(QueryStorage, $(\"#search-input\").val(), Record);\n                            div_href();\n                        } else {\n                            var _xhr = new XMLHttpRequest();\n                            _xhr.open(\"GET\", val, true)\n                            _xhr.send();\n                            _xhr.onreadystatechange = function () {\n                                if (_xhr.readyState == 4 && _xhr.status == 200) {\n                                    json = _xhr.responseText;\n                                    if (json != \"\") {\n                                        sessionStorage.setItem('search', json);\n                                        QueryStorage = JSON.parse(json);\n                                        query(QueryStorage, otxt.value, Record);\n                                        div_href();\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    if (!Object.values) Object.values = function (obj) {\n                        if (obj !== Object(obj))\n                            throw new TypeError('Object.values called on a non-object');\n                        var val = [],\n                            key;\n                        for (key in obj) {\n                            if (Object.prototype.hasOwnProperty.call(obj, key)) {\n                                val.push(obj[key]);\n                            }\n                        }\n                        return val;\n                    }\n\n                    function Cx(arr, q) {\n                        q = q.replace(q, \"^(?=.*?\" + q + \").+$\").replace(/\\s/g, \")(?=.*?\");\n                        i = arr.filter(\n                            v => Object.values(v).some(\n                                v => new RegExp(q + '').test(v)\n                            )\n                        );\n                        return i;\n                    }\n\n                    function div_href() {\n                        $(\".ins-selectable\").each(function () {\n                            $(this).click(function () {\n                                $(\"#Ty\").attr('href', $(this).attr('href'));\n                                $(\"#Ty\").click();\n                                $(\".search_close\").click();\n                            });\n                        });\n                    }\n\n                    function search_result(keyword, link, fa, title, iconfont, comments, text) {\n                        if (keyword) {\n                            var s = keyword.trim().split(\" \"),\n                                a = title.indexOf(s[s.length - 1]),\n                                b = text.indexOf(s[s.length - 1]);\n                            title = a < 60 ? title.slice(0, 80) : title.slice(a - 30, a + 30);\n                            title = title.replace(s[s.length - 1], '<mark class=\"search-keyword\"> ' + s[s.length - 1].toUpperCase() + ' </mark>');\n                            text = b < 60 ? text.slice(0, 80) : text.slice(b - 30, b + 30);\n                            text = text.replace(s[s.length - 1], '<mark class=\"search-keyword\"> ' + s[s.length - 1].toUpperCase() + ' </mark>');\n                        }\n                        return '<div class=\"ins-selectable ins-search-item\" href=\"' + link + '\"><header><i class=\"fa fa-' + fa + '\" aria-hidden=\"true\"></i>' + title + '<i class=\"iconfont icon-' + iconfont + '\"> ' + comments + '</i>' + '</header><p class=\"ins-search-preview\">' + text + '</p></div>';\n                    }\n\n                    function query(B, A, z) {\n                        var x, v, s, y = \"\",\n                            w = \"\",\n                            u = \"\",\n                            r = \"\",\n                            p = \"\",\n                            F = \"\",\n                            H = \"\",\n                            G = '<section class=\"ins-section\"><header class=\"ins-section-header\">',\n                            D = \"</section>\",\n                            E = \"</header>\",\n                            C = Cx(B, A.trim());\n                        for (x = 0; x < Object.keys(C).length; x++) {\n                            H = C[x];\n                            switch (v = H.type) {\n                                case \"post\":\n                                    w = w + search_result(A, H.link, \"file\", H.title, \"mark\", H.comments, H.text);\n                                    break;\n                                case \"tag\":\n                                    p = p + search_result(\"\", H.link, \"tag\", H.title, \"none\", \"\", \"\");\n                                    break;\n                                case \"category\":\n                                    r = r + search_result(\"\", H.link, \"folder\", H.title, \"none\", \"\", \"\");\n                                    break;\n                                case \"page\":\n                                    u = u + search_result(A, H.link, \"file\", H.title, \"mark\", H.comments, H.text);\n                                    break;\n                                case \"comment\":\n                                    F = F + search_result(A, H.link, \"comment\", H.title, \"none\", \"\", H.text);\n                                    break\n                            }\n                        }\n                        w && (y = y + G + \"文章\" + E + w + D), u && (y = y + G + \"页面\" + E + u + D), r && (y = y + G + \"分类\" + E + r + D), p && (y = y + G + \"标签\" + E + p + D), F && (y = y + G + \"评论\" + E + F + D), s = addComment.I(\"PostlistBox\"), s.innerHTML = y\n                    }\n                }\n            });\n            const sc = document.querySelector(\".search_close\");\n            sc && sc.addEventListener(\"click\", function () {\n                let js_search = document.getElementsByClassName(\"js-search\")[0];\n                if (js_search.classList.contains(\"is-visible\")) {\n                    document.getElementsByClassName(\"js-toggle-search\")[0].classList.toggle(\"is-active\");\n                    js_search.classList.toggle(\"is-visible\");\n                    document.getElementsByTagName(\"html\")[0].style.overflowY = \"unset\";\n                }\n            });\n            try {\n                let show_Nav = document.getElementById(\"show-nav\");\n                show_Nav.addEventListener(\"click\", function () {\n                    if (show_Nav.classList.contains(\"showNav\")) {\n                        show_Nav.classList.remove(\"showNav\");\n                        show_Nav.classList.add(\"hideNav\");\n                        let sln = document.querySelector(\".site-top .lower nav\");\n                        sln && sln.classList.add(\"navbar\");\n                    } else {\n                        show_Nav.classList.remove(\"hideNav\");\n                        show_Nav.classList.add(\"showNav\");\n                        let sln = document.querySelector(\".site-top .lower nav\");\n                        sln && sln.classList.remove(\"navbar\");\n                    }\n                });\n                document.getElementById(\"loading\").addEventListener(\"click\", function () {\n                    let loading = document.getElementById(\"loading\");\n                    loading.classList.add(\"hide\");\n                    loading.classList.remove(\"show\");\n                });\n            } catch (e) { }\n        },\n        NH: function () {\n            let h1 = 0;\n            window.addEventListener(\"scroll\", () => {\n                let s = document.documentElement.scrollTop || window.pageYOffset,\n                    cached = document.querySelector(\".site-header\");\n                if (s == h1) {\n                    cached.classList.remove(\"yya\");\n                }\n                if (s > h1) {\n                    cached.classList.add(\"yya\");\n                }\n            })\n            //     $(window).scroll(function () {\n            //         var s = $(document).scrollTop(),\n            //             cached = $('.site-header');\n            //         if (s == h1) {\n            //             cached.removeClass('yya');\n            //         }\n            //         if (s > h1) {\n            //             cached.addClass('yya');\n            //         }\n            // });\n        },\n        XLS: function () {\n            $body = (window.opera) ? (document.compatMode == \"CSS1Compat\" ? $('html') : $('body')) : $('html,body');\n            var load_post_timer;\n            var intersectionObserver = new IntersectionObserver(function (entries) {\n                if (entries[0].intersectionRatio <= 0) return;\n                var page_next = $('#pagination a').attr(\"href\");\n                var load_key = addComment.I(\"add_post_time\");\n                if (page_next != undefined && load_key) {\n                    var load_time = addComment.I(\"add_post_time\").title;\n                    if (load_time != \"233\") {\n                        console.log(\"%c 自动加载时倒计时 %c\", \"background:#9a9da2; color:#ffffff; border-radius:4px;\", \"\", \"\", load_time);\n                        load_post_timer = setTimeout(function () {\n                            load_post();\n                        }, load_time * 1000);\n                    }\n                }\n            });\n            intersectionObserver.observe(\n                document.querySelector('.footer-device')\n            );\n            $('body').on('click', '#pagination a', function () {\n                clearTimeout(load_post_timer);\n                load_post();\n                return false;\n            });\n\n            function load_post() {\n                $('#pagination a').addClass(\"loading\").text(\"\");\n                $.ajax({\n                    type: \"POST\",\n                    url: $('#pagination a').attr(\"href\") + \"#main\",\n                    success: function (data) {\n                        result = $(data).find(\"#main .post\");\n                        nextHref = $(data).find(\"#pagination a\").attr(\"href\");\n                        $(\"#main\").append(result.fadeIn(500));\n                        $(\"#pagination a\").removeClass(\"loading\").text(\"Previous\");\n                        $('#add_post span').removeClass(\"loading\").text(\"\");\n                        lazyload();\n                        post_list_show_animation();\n                        if (nextHref != undefined) {\n                            $(\"#pagination a\").attr(\"href\", nextHref);\n                            //加载完成上滑\n                            var tempScrollTop = $(window).scrollTop();\n                            $(window).scrollTop(tempScrollTop);\n                            $body.animate({\n                                scrollTop: tempScrollTop + 300\n\n                            }, 666)\n                        } else {\n                            $(\"#pagination\").html(\"<span>很高兴你翻到这里，但是真的没有了...</span>\");\n                        }\n                    }\n                });\n                return false;\n            }\n        },\n        XCS: function () {\n            var __cancel = jQuery('#cancel-comment-reply-link'),\n                __cancel_text = __cancel.text(),\n                __list = 'commentwrap';\n            jQuery(document).on(\"submit\", \"#commentform\", function () {\n                jQuery.ajax({\n                    url: Poi.ajaxurl,\n                    data: jQuery(this).serialize() + \"&action=ajax_comment\",\n                    type: jQuery(this).attr('method'),\n                    beforeSend: addComment.createButterbar(\"提交中(Commiting)....\"),\n                    error: function (request) {\n                        var t = addComment;\n                        t.createButterbar(request.responseText);\n                    },\n                    success: function (data) {\n                        jQuery('textarea').each(function () {\n                            this.value = ''\n                        });\n                        var t = addComment,\n                            cancel = t.I('cancel-comment-reply-link'),\n                            temp = t.I('wp-temp-form-div'),\n                            respond = t.I(t.respondId),\n                            post = t.I('comment_post_ID').value,\n                            parent = t.I('comment_parent').value;\n                        if (parent != '0') {\n                            jQuery('#respond').before('<ol class=\"children\">' + data + '</ol>');\n                        } else if (!jQuery('.' + __list).length) {\n                            if (Poi.formpostion == 'bottom') {\n                                jQuery('#respond').before('<ol class=\"' + __list + '\">' + data + '</ol>');\n                            } else {\n                                jQuery('#respond').after('<ol class=\"' + __list + '\">' + data + '</ol>');\n                            }\n                        } else {\n                            if (Poi.order == 'asc') {\n                                jQuery('.' + __list).append(data);\n                            } else {\n                                jQuery('.' + __list).prepend(data);\n                            }\n                        }\n                        t.createButterbar(\"提交成功(Succeed)\");\n                        lazyload();\n                        code_highlight_style();\n                        click_to_view_image();\n                        clean_upload_images();\n                        cancel.style.display = 'none';\n                        cancel.onclick = null;\n                        t.I('comment_parent').value = '0';\n                        if (temp && respond) {\n                            temp.parentNode.insertBefore(respond, temp);\n                            temp.remove();\n                            //temp.parentNode.removeChild(temp)\n                        }\n                    }\n                });\n                return false;\n            });\n            addComment = {\n                moveForm: function (commId, parentId, respondId) {\n                    var t = this,\n                        div, comm = t.I(commId),\n                        respond = t.I(respondId),\n                        cancel = t.I('cancel-comment-reply-link'),\n                        parent = t.I('comment_parent'),\n                        post = t.I('comment_post_ID');\n                    __cancel.text(__cancel_text);\n                    t.respondId = respondId;\n                    if (!t.I('wp-temp-form-div')) {\n                        div = document.createElement('div');\n                        div.id = 'wp-temp-form-div';\n                        div.style.display = 'none';\n                        respond.parentNode.insertBefore(div, respond)\n                    } !comm ? (temp = t.I('wp-temp-form-div'), t.I('comment_parent').value = '0', temp.parentNode.insertBefore(respond, temp), temp.remove()) : comm.parentNode.insertBefore(respond, comm.nextSibling);\n                    jQuery(\"body\").animate({\n                        scrollTop: jQuery('#respond').offset().top - 180\n                    }, 400);\n                    parent.value = parentId;\n                    cancel.style.display = '';\n                    cancel.onclick = function () {\n                        var t = addComment,\n                            temp = t.I('wp-temp-form-div'),\n                            respond = t.I(t.respondId);\n                        t.I('comment_parent').value = '0';\n                        if (temp && respond) {\n                            temp.parentNode.insertBefore(respond, temp);\n                            temp.remove();\n                            //temp.parentNode.removeChild(temp);\n                        }\n                        this.style.display = 'none';\n                        this.onclick = null;\n                        return false;\n                    };\n                    try {\n                        t.I('comment').focus();\n                    } catch (e) { }\n                    return false;\n                },\n                I: function (e) {\n                    return document.getElementById(e);\n                },\n                clearButterbar: function (e) {\n                    let butterBar = document.getElementsByClassName(\"butterBar\");\n                    if (butterBar.length > 0) {\n                        for (let i = 0; i < butterBar.length; i++) {\n                            let a = butterBar[i];\n                            a.remove();\n                        }\n                    }\n                },\n                createButterbar: function (message, showtime) {\n                    let t = this;\n                    t.clearButterbar();\n                    document.body.insertAdjacentHTML('beforeend', '<div class=\"butterBar butterBar--center\"><p class=\"butterBar-message\">' + message + '</p></div>');\n                    let butterBar = () => {\n                        let _butterBar = document.getElementsByClassName(\"butterBar\");\n                        if (_butterBar.length == 0) return;\n                        for (let i = 0; i < _butterBar.length; i++) {\n                            let a = _butterBar[i];\n                            a.remove();\n                        }\n                    }\n                    if (showtime > 0) {\n                        setTimeout(() => { butterBar() }, showtime);\n                    } else {\n                        setTimeout(() => { butterBar() }, 6000);\n                    }\n                }\n                // clearButterbar: function (e) {\n                //     if (jQuery(\".butterBar\").length > 0) {\n                //         jQuery(\".butterBar\").remove();\n                //     }\n                // },\n                // createButterbar: function (message, showtime) {\n                //     var t = this;\n                //     t.clearButterbar();\n                //     jQuery(\"body\").append('<div class=\"butterBar butterBar--center\"><p class=\"butterBar-message\">' + message + '</p></div>');\n                //     if (showtime > 0) {\n                //         setTimeout(\"jQuery('.butterBar').remove()\", showtime);\n                //     } else {\n                //         setTimeout(\"jQuery('.butterBar').remove()\", 6000);\n                //     }\n                // }\n            };\n        },\n        XCP: function () {\n            document.body.addEventListener('click', function (e) {\n                if (e.target.parentNode == document.getElementById(\"comments-navi\") && e.target.nodeName.toLowerCase() == \"a\") {\n                    e.preventDefault();\n                    e.stopPropagation();\n                    let _this = e.target,\n                        path = _this.pathname,\n                        _xhr = new XMLHttpRequest();\n                    _xhr.open(\"GET\", _this.getAttribute('href'), true);\n                    _xhr.responseType = \"document\";\n                    _xhr.onloadstart = () => {\n                        let comments_navi = document.getElementById(\"comments-navi\"),\n                            commentwrap = document.querySelector(\"ul.commentwrap\"),\n                            loading_comments = document.getElementById(\"loading-comments\"),\n                            comments_list = document.getElementById(\"comments-list-title\");\n                        comments_navi.remove();\n                        commentwrap.remove();\n                        //comments_navi.parentNode.removeChild(comments_navi);\n                        //commentwrap.parentNode.removeChild(commentwrap);\n                        loading_comments.style.display = \"block\";\n                        slideToogle(loading_comments, 500, \"show\");\n                        window.scrollTo({\n                            top: comments_list.getBoundingClientRect().top + window.pageYOffset - comments_list.clientTop - 65,\n                            behavior: \"smooth\"\n                        });\n                    }\n                    _xhr.onreadystatechange = function () {\n                        if (_xhr.readyState == 4 && _xhr.status == 200) {\n                            let json = _xhr.response,\n                                result = json.querySelector(\"ul.commentwrap\"),\n                                nextlink = json.getElementById(\"comments-navi\"),\n                                loading_comments = document.getElementById(\"loading-comments\");\n                            slideToogle(loading_comments, 200, \"hide\");\n                            document.getElementById(\"loading-comments\").insertAdjacentHTML('afterend', result.outerHTML);\n                            document.querySelector(\"ul.commentwrap\").insertAdjacentHTML('afterend', nextlink.outerHTML);\n                            lazyload();\n                            if (window.gtag) {\n                                gtag('config', Poi.google_analytics_id, {\n                                    'page_path': path\n                                });\n                            }\n                            code_highlight_style();\n                            click_to_view_image();\n                            let commentwrap = document.querySelector(\"ul.commentwrap\");\n                            window.scrollTo({\n                                top: commentwrap && (commentwrap.getBoundingClientRect().top+ window.pageYOffset - commentwrap.clientTop - 200),\n                                behavior: \"smooth\"\n                            });\n                        }\n                    }\n                    _xhr.send();\n                }\n            });\n        },\n        IA: function () {\n            POWERMODE.colorful = true;\n            POWERMODE.shake = false;\n            document.body.addEventListener('input', POWERMODE)\n        },\n        GT: function () {\n            let mb_to_top = document.querySelector(\"#moblieGoTop\"),\n                changskin = document.querySelector(\"#changskin\");\n            window.addEventListener(\"scroll\", () => {\n                let scroll = document.documentElement.scrollTop || document.body.scrollTop;\n                if (scroll > 20) {\n                    mb_to_top.style.transform = \"scale(1)\";\n                    changskin.style.transform = \"scale(1)\";\n                } else {\n                    mb_to_top.style.transform = \"scale(0)\";\n                    changskin.style.transform = \"scale(0)\";\n                }\n            })\n            mb_to_top.onclick = function () {\n                topFunction();\n            }\n        }\n    }\nif (Poi.pjax) {\n    new Pjax({\n        selectors: [\"#page\", \"title\", \".footer-device\"],\n        elements: [\n            \"a:not([target='_top']):not(.comment-reply-link):not(#pagination a):not(#comments-navi a):not(.user-menu-option a):not(.header-user-avatar a):not(.emoji-item)\",\n            \".search-form\",\n            \".s-search\",\n        ],\n        timeout: 8000,\n        history: true,\n        cacheBust: false,\n    });\n    document.addEventListener(\"pjax:send\", () => {\n        let normal = document.getElementsByClassName(\"normal-cover-video\");\n        if (normal.length > 0) {\n            for (let a; a < normal.length; a++) {\n                normal[a].pause();\n                normal[a].src = '';\n                normal[a].load = '';\n            }\n        }\n        document.getElementById(\"bar\").style.width = \"0%\";\n        if (mashiro_option.NProgressON) NProgress.start();\n        Siren.MNH();\n    });\n    document.addEventListener(\"pjax:complete\", function () {\n        Siren.AH();\n        Siren.PE();\n        Siren.CE();\n        //Siren.XLS();\n        if (mashiro_option.NProgressON) NProgress.done();\n        mashiro_global.ini.pjax();\n        let loading = document.getElementById(\"loading\");\n        if (loading){\n            loading.classList.add(\"hide\");\n            loading.classList.remove(\"show\");\n        }\n        if (Poi.codelamp == 'open') {\n            self.Prism.highlightAll(event)\n        };\n        if (document.querySelector(\".js-search.is-visible\")) {\n            document.getElementsByClassName(\"js-toggle-search\")[0].classList.toggle(\"is-active\");\n            document.getElementsByClassName(\"js-search\")[0].classList.toggle(\"is-visible\");\n            document.getElementsByTagName(\"html\")[0].style.overflowY = \"unset\";\n        }\n    });\n    document.addEventListener(\"pjax:success\", function () {\n        if (window.gtag) {\n            gtag('config', Poi.google_analytics_id, {\n                'page_path': window.location.pathname\n            });\n        }\n    });\n    window.addEventListener('popstate', function (e) {\n        Siren.AH();\n        Siren.PE();\n        Siren.CE();\n        sm();\n        timeSeriesReload(true);\n        post_list_show_animation();\n    }, false);\n}\nready(function () {\n    Siren.AH();\n    Siren.PE();\n    Siren.NH();\n    Siren.GT();\n    Siren.XLS();\n    Siren.XCS();\n    Siren.XCP();\n    Siren.CE();\n    Siren.MN();\n    Siren.IA();\n    Siren.LV();\n    console.log(\"%c Mashiro %c\", \"background:#24272A; color:#ffffff\", \"\", \"https://2heng.xin/\");\n    console.log(\"%c Github %c\", \"background:#24272A; color:#ffffff\", \"\", \"https://github.com/mashirozx\");\n});\nlet isWebkit = navigator.userAgent.toLowerCase().indexOf('webkit') > -1,\n    isOpera = navigator.userAgent.toLowerCase().indexOf('opera') > -1,\n    isIe = navigator.userAgent.toLowerCase().indexOf('msie') > -1;\nif ((isWebkit || isOpera || isIe) && document.getElementById && window.addEventListener) {\n    window.addEventListener('hashchange', function () {\n        let id = location.hash.substring(1),\n            element;\n        if (!(/^[A-z0-9_-]+$/.test(id))) {\n            return;\n        }\n        element = addComment.I(id);\n        if (element) {\n            if (!(/^(?:a|select|input|button|textarea)$/i.test(element.tagName))) {\n                element.tabIndex = -1;\n            }\n            element.focus();\n        }\n    }, false);\n}\n\n/* 首页下拉箭头 */\nfunction headertop_down() {\n    let coverOffset = document.getElementById(\"content\").getBoundingClientRect().top + window.pageYOffset;\n    window.scrollTo({\n        top: coverOffset,\n        behavior: \"smooth\"\n    });\n}\n\nwindow.onload = function () {\n    document.getElementsByTagName(\"html\")[0].style.overflowY = \"unset\";\n    let preload = document.getElementById(\"preload\");\n    if (!preload) return;\n    preload.classList.add('hide');\n    preload.classList.remove('show');\n    setTimeout('preload.remove()', 666);\n}\n\n\n\nfunction web_audio() {\n    if (mashiro_option.audio) {\n        ready(() => {\n            window.AudioContext = window.AudioContext || window.webkitAudioContext,\n                function () {\n                    if (window.AudioContext) {\n                        let e = new AudioContext,\n                            t = \"880 987 1046 987 1046 1318 987 659 659 880 784 880 1046 784 659 659 698 659 698 1046 659 1046 1046 1046 987 698 698 987 987 880 987 1046 987 1046 1318 987 659 659 880 784 880 1046 784 659 698 1046 987 1046 1174 1174 1174 1046 1046 880 987 784 880 1046 1174 1318 1174 1318 1567 1046 987 1046 1318 1318 1174 784 784 880 1046 987 1174 1046 784 784 1396 1318 1174 659 1318 1046 1318 1760 1567 1567 1318 1174 1046 1046 1174 1046 1174 1567 1318 1318 1760 1567 1318 1174 1046 1046 1174 1046 1174 987 880 880 987 880\".split(\" \"),//天空之城\n                            /*t = \"329.628 329.628 349.228 391.995 391.995 349.228 329.628 293.665 261.626 261.626 293.665 329.628 329.628 293.665 293.665 329.628 329.628 349.228 391.995 391.995 349.228 329.628 293.665 261.626 261.626 293.665 329.628 293.665 261.626 261.626 293.665 293.665 329.628 261.626 293.665 329.628 349.228 329.628 261.626 293.665 329.628 349.228 329.628 293.665 261.626 293.665 195.998 329.628 329.628 349.228 391.995 391.995 349.228 329.628 293.665 261.626 261.626 293.665 329.628 293.665 261.626 261.626\".split(\" \"),欢乐颂*/\n                            i = 0,\n                            o = 1, dom,\n                            a = \"♪ ♩ ♫ ♬ ♭ € § ¶ ♯\".split(\" \"),\n                            n = !1,\n                            select = document.querySelectorAll(\".site-title, #moblieGoTop, .site-branding, .searchbox, .changeSkin-gear, .menu-list li\");\n                        select.forEach((s) => {\n                            s.addEventListener(\"mouseenter\", (y) => {\n                                if (dom) return;\n                                let r = t[i]\n                                r || (i = 0, r = t[i]), i += o\n                                let c = e.createOscillator(),\n                                    l = e.createGain();\n                                if (c.connect(l), l.connect(e.destination), c.type = \"sine\", c.frequency.value = r, l.gain.setValueAtTime(0, e.currentTime), l.gain.linearRampToValueAtTime(1, e.currentTime + .01), c.start(e.currentTime), l.gain.exponentialRampToValueAtTime(.001, e.currentTime + 1), c.stop(e.currentTime + 1), n = !0) {\n                                    let d = Math.round(7 * Math.random());\n                                    dom = document.createElement(\"b\");\n                                    dom.textContent = a[d],\n                                        h = y.pageX,\n                                        p = y.pageY - 5;\n                                    dom.style.zIndex = \"99999\";\n                                    dom.style.top = p - 100 + \"px\";\n                                    dom.style.left = h + \"px\";\n                                    dom.style.position = \"absolute\";\n                                    dom.style.color = \"#FF6EB4\";\n                                    document.body.appendChild(dom);\n                                    dom.animate([\n                                        { top: p + \"px\" },\n                                        { opacity: 0 }\n                                    ], {\n                                        duration: 500\n                                    })\n                                    setTimeout(() => {\n                                        dom.remove();\n                                        dom = null;\n                                    }, 500)\n                                    y.stopPropagation();\n                                }\n                                n = !1\n                            })\n                        })\n                    }\n                }()\n        })\n    }\n}"],"sourceRoot":""}