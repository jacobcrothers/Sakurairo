{"version":3,"sources":["webpack://sakurairo-scripts/webpack/runtime/create fake namespace object","webpack://sakurairo-scripts/webpack/runtime/load script","webpack://sakurairo-scripts/./node_modules/charenc/charenc.js","webpack://sakurairo-scripts/./node_modules/crypt/crypt.js","webpack://sakurairo-scripts/./node_modules/fg-loadcss/src/loadCSS.js","webpack://sakurairo-scripts/./node_modules/is-buffer/index.js","webpack://sakurairo-scripts/./node_modules/md5/md5.js","webpack://sakurairo-scripts/./node_modules/tslib/tslib.es6.js","webpack://sakurairo-scripts/webpack/bootstrap","webpack://sakurairo-scripts/webpack/runtime/compat get default export","webpack://sakurairo-scripts/webpack/runtime/define property getters","webpack://sakurairo-scripts/webpack/runtime/ensure chunk","webpack://sakurairo-scripts/webpack/runtime/get javascript chunk filename","webpack://sakurairo-scripts/webpack/runtime/global","webpack://sakurairo-scripts/webpack/runtime/hasOwnProperty shorthand","webpack://sakurairo-scripts/webpack/runtime/make namespace object","webpack://sakurairo-scripts/webpack/runtime/publicPath","webpack://sakurairo-scripts/webpack/runtime/jsonp chunk loading","webpack://sakurairo-scripts/./node_modules/idb-keyval/dist/esm/index.js","webpack://sakurairo-scripts/./src/entries/sakura-app/cache.ts","webpack://sakurairo-scripts/./src/entries/sakura-app/coverBackground.ts","webpack://sakurairo-scripts/./src/entries/sakura-app/api.ts","webpack://sakurairo-scripts/./src/module/cookie.ts","webpack://sakurairo-scripts/./src/entries/sakura-app/butterbar.ts","webpack://sakurairo-scripts/./src/entries/sakura-app/copyright.ts","webpack://sakurairo-scripts/./src/entries/sakura-app/AddComment.ts","webpack://sakurairo-scripts/./node_modules/lazyload/src/lazyload.ts","webpack://sakurairo-scripts/./src/entries/sakura-app/global-func.js","webpack://sakurairo-scripts/./src/entries/sakura-app/font_control.ts","webpack://sakurairo-scripts/./src/entries/sakura-app/darkmode.ts","webpack://sakurairo-scripts/./src/entries/sakura-app/index.js","webpack://sakurairo-scripts/./src/module/util.ts"],"names":["leafPrototypes","getProto","inProgress","dataWebpackPrefix","charenc","utf8","stringToBytes","str","bin","unescape","encodeURIComponent","bytesToString","bytes","decodeURIComponent","escape","i","length","push","charCodeAt","String","fromCharCode","join","module","exports","base64map","crypt","rotl","n","b","rotr","endian","constructor","Number","randomBytes","Math","floor","random","bytesToWords","words","wordsToBytes","bytesToHex","hex","toString","hexToBytes","c","parseInt","substr","bytesToBase64","base64","triplet","j","charAt","base64ToBytes","replace","imod4","indexOf","pow","w","g","this","loadCSS","href","before","media","attributes","ref","doc","document","ss","createElement","refs","body","getElementsByTagName","childNodes","sheets","styleSheets","attributeName","hasOwnProperty","setAttribute","rel","ready","cb","setTimeout","parentNode","insertBefore","nextSibling","onloadcssdefined","resolvedHref","loadCB","addEventListener","removeEventListener","isBuffer","obj","readFloatLE","slice","isSlowBuffer","_isBuffer","md5","message","options","encoding","Array","prototype","call","isArray","Uint8Array","m","l","a","d","FF","_ff","GG","_gg","HH","_hh","II","_ii","aa","bb","cc","dd","x","s","t","_blocksize","_digestsize","Error","digestbytes","asBytes","asString","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","getter","__esModule","Object","getPrototypeOf","mode","ns","create","r","def","current","getOwnPropertyNames","forEach","key","definition","o","defineProperty","enumerable","get","f","chunkId","all","keys","reduce","promises","u","globalThis","Function","window","prop","url","script","needAttach","scripts","getAttribute","charset","timeout","nc","src","onScriptComplete","prev","event","onerror","onload","clearTimeout","doneFns","removeChild","fn","bind","type","target","head","appendChild","Symbol","toStringTag","scriptUrl","importScripts","location","currentScript","p","installedChunks","143","installedChunkData","promise","error","errorType","realSrc","name","request","webpackJsonpCallback","parentChunkLoadingFunction","data","chunkIds","moreModules","runtime","chunkLoadingGlobal","self","promisifyRequest","oncomplete","onsuccess","onabort","createStore","dbName","storeName","indexedDB","open","onupgradeneeded","createObjectStore","dbp","txMode","callback","db","transaction","objectStore","defaultGetStoreFunc","defaultGetStore","store","customStore","put","delete","bgn","blob_url","centerbg","querySelector","changeCoverBG","mashiro_option","site_bg_as_cover","style","backgroundImage","getAPIPath","useBGN","cover_api_url","URL","cover_api","clientWidth","random_graphs_mts","searchParams","set","search","getCoverPath","cache_cover","coverBG","Blob","cleanBlobUrl","createObjectURL","finally","resp","fetch","ok","blob","TypeError","console","warn","fetchAndCache","revokeObjectURL","apiPath","params","nonce","path","entries","Poi","_a","_version_ctrl","cookie_version_control","clearButterbar","butterBar","getElementsByClassName","remove","createButterbar","keep","div","classList","add","innerHTML","txt","author_name","site_name","copytext","selection","getSelection","selectionText","selectionTxt","preventDefault","htmlData","textData","clipboardData","setData","setClipboardText","add_copyright","clipboardCopyright","AddComment","respondId","moveForm","commId","parentId","comm","getElementById","respond","cancel","parent","id","display","temp","_respond","scrollTo","top","getBoundingClientRect","pageYOffset","clientTop","behavior","onclick","focus","defaults","srcset","selector","root","rootMargin","threshold","LazyLoad","images","observer","settings","assign","querySelectorAll","init","IntersectionObserver","loadImages","observerConfig","entry","isIntersecting","unobserve","tagName","toLowerCase","image","observe","destroy","disconnect","lazyload","motionEles","imgError","ele","cmt_showPopup","popup","onblur","coverVideo","video","btn","paused","play","pause","killCoverVideo","mail_me","mail","email_name","email_domain","headertop_down","coverOffset","motionSwitch","grin","tag","after","myField","sel","createRange","text","selectionStart","startPos","endPos","selectionEnd","cursorPos","substring","get_gravatar","email","size","gravatar_url","MD5","btnSerif","btnSansSerif","change_font_listener","dataset","localStorage","getItem","setButtonState","setItem","loadFontSetting","nowFont","font_name","initFontControl","removeItem","mediaQuery","matchMedia","inDarkMode","informDarkModeChange","nextValue","log","dispatchEvent","CustomEvent","detail","mediaQueryCallback","matches","darkmode","turnOnDarkMode","turnOffDarkMode","saveUserSetting","ifDarkmodeShouldOn","userTriggered","documentElement","backgroundColor","checkTime","today","Date","getHours","dm_strategy","removeListener","addListener","pjax","UA","navigator","userAgent","reg","version","match","Firefox","Edg","Chrome","Opera","Version","toDataURL","days","expires","now","toUTCString","cookie","setCookie","default","Pjax","selectors","elements","history","cacheBust","readyState","mashiro_global","variables","has_hls","skinSecter","ini","normalize","post_list_show_animation","copy_code_block","web_audio","coverVideoIni","checkSkinSecter","scrollTop","scrollHeight","innerHeight","width","toc_container","sc","skinMenu","height","min","offsetHeight","offsetTop","load_bangumi","sm","pjaxInit","NH","code_highlight_style","gen_top_bar","pre","code_a","children","ele_name","className","lang","toUpperCase","async","hljs_process","code","hljs","importHighlightjs","highlightBlock","initLineNumbersOnLoad","ec","contains","toggle","PrismBaseUrl","code_highlight_prism","autoload_path","current_prism_css","themeCSS","light","dark","theme","theme_name","loadPrismCSS","darkmodeOn","nextCSS","nextCSSElement","importPrismJS","Prism","plugins","autoloader","languages_path","reason","loadPrismPluginLineNumbers","code_highlight","line_number_all","parentElement","highlightElement","fileHighlight","highlight","prism_process","slideToggle","el","duration","dom","status","getComputedStyle","flag","transition","overflow","tagTimer","tagHeight","clientHeight","io","article","willChange","articles","add_upload_tips","form_submit","comment_upload_img","insertAdjacentHTML","cached","upload_img","files","alert","formData","FormData","xhr","XMLHttpRequest","append","buildAPI","api","send","onreadystatechange","res","JSON","parse","responseText","get_the_url","proxy","attach_image","file_submit","hover","Tip","click_to_view_image","original_emoji_click","innerText","pattern","headertop","no_right_click","pri","nodeName","stopPropagation","changeBG","bgid","now_bg_url","bg_url","skin_bg0","skin_bg1","skin_bg2","skin_bg3","skin_bg4","bgButtonAddListener","nextBG","preBG","timeSeriesReload","archives","al_li","nextElementSibling","al_expand_collapse","cursor","num","textContent","al_post_list","al_post_list_f","al_expand_collapse_click","loadHls","video_src","Hls","isSupported","hls","loadSource","attachMedia","on","Events","MANIFEST_PARSED","canPlayType","catch","ClipboardJS","tableOfContentScroll","heading_fix","entry_content_theme","_els","_el","tocbot","tocSelector","contentSelector","headingSelector","headingsOffset","_p","getqqinfo","_div","tla","iconflat","openNav","smileBoxToggle","cm","reply_link_version","data_commentid","addComment","list","confirm","idp","actionp","rateHolderp","ajax_data","setRequestHeader","comt","et","is_get_by_qq","i_author","i_qq","i_email","i_url","qq_check","gravatar_check","user_avatar_img","qzone_autocomplete","emailAddressFlag","qq","test","whileFailed","qq_api_url","json","trim","avatar","emailAddress","URL_Address","user_name","sections","_flag","html","bfan","row","from","stlye","float_player_on","aplayerInit","secondary","show_hide","activate_widget","jsdelivr_css_src","entry_content_style_src","splay","video_btn","bottom","destroyAllAplayer","spause","addsource","video_stu","movies","split","_t","bgvideo","auto_height","windowheight","minHeight","PE","blank","paddingTop","live","oncanplay","livepause","CE","comments_hidden","comments_main","h3","collapseButton","collapseListener","baguetteBoxON","baguetteBox","run","captions","element","alt","ignoreClass","fancybox","jQuery","$","article_attach","overflowY","live_search","QueryStorage","val","sessionStorage","query","Record","div_href","otxt","searchFlag","search_close","Ty","click","search_result","keyword","link","fa","title","iconfont","comments","B","A","z","y","F","H","G","D","E","C","array","filter","v","values","some","RegExp","Cx","oninput","js_search","show_Nav","sln","loading","siteHeader","load_post","func","isRunning","args","onlyOnceATime","now_href","pagination_a","DOM","DOMParser","parseFromString","paga","paga_innerText","nextHref","main","refresh","dpga","addps","tempScrollTop","XLS","load_post_timer","intersectionRatio","_page_next","page_next","load_key","load_time","XCS","__list","form","statusSubmitting","butterBarRef","ajaxurl","method","order","formpostion","statusText","GT","mb_to_top","changskin","transform","hitokoto","yiyan","load","NProgressON","NProgress","start","land_at_home","gtag","google_analytics_id","pathname","isWebkit","isOpera","isIe","audio","AudioContext","webkitAudioContext","ctx","select","createOscillator","createGain","connect","destination","frequency","gain","setValueAtTime","currentTime","linearRampToValueAtTime","exponentialRampToValueAtTime","stop","round","h","pageX","pageY","zIndex","left","position","color","animate","opacity","hash","tabIndex","preload","preload_blur","backdropFilter","fill","easing","onfinish","closeSkinMenu","visibility","background","initCoverBG","tagid","bgurl","checkBgImgCookie","checkDarkModeSetting","close_SkinMenu","_this","_xhr","responseType","onloadstart","comments_navi","commentwrap","loading_comments","comments_list","response","nextlink","outerHTML","MN","POWERMODE","colorful","shake","IA","onended","video_add","LV"],"mappings":"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","file":"app.js","sourcesContent":["var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","var inProgress = {};\nvar dataWebpackPrefix = \"sakurairo-scripts:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\t;\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","var charenc = {\n  // UTF-8 encoding\n  utf8: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      return charenc.bin.stringToBytes(unescape(encodeURIComponent(str)));\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      return decodeURIComponent(escape(charenc.bin.bytesToString(bytes)));\n    }\n  },\n\n  // Binary encoding\n  bin: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      for (var bytes = [], i = 0; i < str.length; i++)\n        bytes.push(str.charCodeAt(i) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      for (var str = [], i = 0; i < bytes.length; i++)\n        str.push(String.fromCharCode(bytes[i]));\n      return str.join('');\n    }\n  }\n};\n\nmodule.exports = charenc;\n","(function() {\n  var base64map\n      = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',\n\n  crypt = {\n    // Bit-wise rotation left\n    rotl: function(n, b) {\n      return (n << b) | (n >>> (32 - b));\n    },\n\n    // Bit-wise rotation right\n    rotr: function(n, b) {\n      return (n << (32 - b)) | (n >>> b);\n    },\n\n    // Swap big-endian to little-endian and vice versa\n    endian: function(n) {\n      // If number given, swap endian\n      if (n.constructor == Number) {\n        return crypt.rotl(n, 8) & 0x00FF00FF | crypt.rotl(n, 24) & 0xFF00FF00;\n      }\n\n      // Else, assume array and swap all items\n      for (var i = 0; i < n.length; i++)\n        n[i] = crypt.endian(n[i]);\n      return n;\n    },\n\n    // Generate an array of any length of random bytes\n    randomBytes: function(n) {\n      for (var bytes = []; n > 0; n--)\n        bytes.push(Math.floor(Math.random() * 256));\n      return bytes;\n    },\n\n    // Convert a byte array to big-endian 32-bit words\n    bytesToWords: function(bytes) {\n      for (var words = [], i = 0, b = 0; i < bytes.length; i++, b += 8)\n        words[b >>> 5] |= bytes[i] << (24 - b % 32);\n      return words;\n    },\n\n    // Convert big-endian 32-bit words to a byte array\n    wordsToBytes: function(words) {\n      for (var bytes = [], b = 0; b < words.length * 32; b += 8)\n        bytes.push((words[b >>> 5] >>> (24 - b % 32)) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a hex string\n    bytesToHex: function(bytes) {\n      for (var hex = [], i = 0; i < bytes.length; i++) {\n        hex.push((bytes[i] >>> 4).toString(16));\n        hex.push((bytes[i] & 0xF).toString(16));\n      }\n      return hex.join('');\n    },\n\n    // Convert a hex string to a byte array\n    hexToBytes: function(hex) {\n      for (var bytes = [], c = 0; c < hex.length; c += 2)\n        bytes.push(parseInt(hex.substr(c, 2), 16));\n      return bytes;\n    },\n\n    // Convert a byte array to a base-64 string\n    bytesToBase64: function(bytes) {\n      for (var base64 = [], i = 0; i < bytes.length; i += 3) {\n        var triplet = (bytes[i] << 16) | (bytes[i + 1] << 8) | bytes[i + 2];\n        for (var j = 0; j < 4; j++)\n          if (i * 8 + j * 6 <= bytes.length * 8)\n            base64.push(base64map.charAt((triplet >>> 6 * (3 - j)) & 0x3F));\n          else\n            base64.push('=');\n      }\n      return base64.join('');\n    },\n\n    // Convert a base-64 string to a byte array\n    base64ToBytes: function(base64) {\n      // Remove non-base-64 characters\n      base64 = base64.replace(/[^A-Z0-9+\\/]/ig, '');\n\n      for (var bytes = [], i = 0, imod4 = 0; i < base64.length;\n          imod4 = ++i % 4) {\n        if (imod4 == 0) continue;\n        bytes.push(((base64map.indexOf(base64.charAt(i - 1))\n            & (Math.pow(2, -2 * imod4 + 8) - 1)) << (imod4 * 2))\n            | (base64map.indexOf(base64.charAt(i)) >>> (6 - imod4 * 2)));\n      }\n      return bytes;\n    }\n  };\n\n  module.exports = crypt;\n})();\n","/*! loadCSS. [c]2020 Filament Group, Inc. MIT License */\n(function(w){\n\t\"use strict\";\n\t/* exported loadCSS */\n\tvar loadCSS = function( href, before, media, attributes ){\n\t\t// Arguments explained:\n\t\t// `href` [REQUIRED] is the URL for your CSS file.\n\t\t// `before` [OPTIONAL] is the element the script should use as a reference for injecting our stylesheet <link> before\n\t\t// By default, loadCSS attempts to inject the link after the last stylesheet or script in the DOM. However, you might desire a more specific location in your document.\n\t\t// `media` [OPTIONAL] is the media type or query of the stylesheet. By default it will be 'all'\n\t\t// `attributes` [OPTIONAL] is the Object of attribute name/attribute value pairs to set on the stylesheet's DOM Element.\n\t\tvar doc = w.document;\n\t\tvar ss = doc.createElement( \"link\" );\n\t\tvar ref;\n\t\tif( before ){\n\t\t\tref = before;\n\t\t}\n\t\telse {\n\t\t\tvar refs = ( doc.body || doc.getElementsByTagName( \"head\" )[ 0 ] ).childNodes;\n\t\t\tref = refs[ refs.length - 1];\n\t\t}\n\n\t\tvar sheets = doc.styleSheets;\n\t\t// Set any of the provided attributes to the stylesheet DOM Element.\n\t\tif( attributes ){\n\t\t\tfor( var attributeName in attributes ){\n\t\t\t\tif( attributes.hasOwnProperty( attributeName ) ){\n\t\t\t\t\tss.setAttribute( attributeName, attributes[attributeName] );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tss.rel = \"stylesheet\";\n\t\tss.href = href;\n\t\t// temporarily set media to something inapplicable to ensure it'll fetch without blocking render\n\t\tss.media = \"only x\";\n\n\t\t// wait until body is defined before injecting link. This ensures a non-blocking load in IE11.\n\t\tfunction ready( cb ){\n\t\t\tif( doc.body ){\n\t\t\t\treturn cb();\n\t\t\t}\n\t\t\tsetTimeout(function(){\n\t\t\t\tready( cb );\n\t\t\t});\n\t\t}\n\t\t// Inject link\n\t\t\t// Note: the ternary preserves the existing behavior of \"before\" argument, but we could choose to change the argument to \"after\" in a later release and standardize on ref.nextSibling for all refs\n\t\t\t// Note: `insertBefore` is used instead of `appendChild`, for safety re: http://www.paulirish.com/2011/surefire-dom-element-insertion/\n\t\tready( function(){\n\t\t\tref.parentNode.insertBefore( ss, ( before ? ref : ref.nextSibling ) );\n\t\t});\n\t\t// A method (exposed on return object for external use) that mimics onload by polling document.styleSheets until it includes the new sheet.\n\t\tvar onloadcssdefined = function( cb ){\n\t\t\tvar resolvedHref = ss.href;\n\t\t\tvar i = sheets.length;\n\t\t\twhile( i-- ){\n\t\t\t\tif( sheets[ i ].href === resolvedHref ){\n\t\t\t\t\treturn cb();\n\t\t\t\t}\n\t\t\t}\n\t\t\tsetTimeout(function() {\n\t\t\t\tonloadcssdefined( cb );\n\t\t\t});\n\t\t};\n\n\t\tfunction loadCB(){\n\t\t\tif( ss.addEventListener ){\n\t\t\t\tss.removeEventListener( \"load\", loadCB );\n\t\t\t}\n\t\t\tss.media = media || \"all\";\n\t\t}\n\n\t\t// once loaded, set link's media back to `all` so that the stylesheet applies once it loads\n\t\tif( ss.addEventListener ){\n\t\t\tss.addEventListener( \"load\", loadCB);\n\t\t}\n\t\tss.onloadcssdefined = onloadcssdefined;\n\t\tonloadcssdefined( loadCB );\n\t\treturn ss;\n\t};\n\t// commonjs\n\tif( typeof exports !== \"undefined\" ){\n\t\texports.loadCSS = loadCSS;\n\t}\n\telse {\n\t\tw.loadCSS = loadCSS;\n\t}\n}( typeof global !== \"undefined\" ? global : this ));\n","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nmodule.exports = function (obj) {\n  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n}\n\nfunction isBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n}\n","(function(){\r\n  var crypt = require('crypt'),\r\n      utf8 = require('charenc').utf8,\r\n      isBuffer = require('is-buffer'),\r\n      bin = require('charenc').bin,\r\n\r\n  // The core\r\n  md5 = function (message, options) {\r\n    // Convert to byte array\r\n    if (message.constructor == String)\r\n      if (options && options.encoding === 'binary')\r\n        message = bin.stringToBytes(message);\r\n      else\r\n        message = utf8.stringToBytes(message);\r\n    else if (isBuffer(message))\r\n      message = Array.prototype.slice.call(message, 0);\r\n    else if (!Array.isArray(message) && message.constructor !== Uint8Array)\r\n      message = message.toString();\r\n    // else, assume byte array already\r\n\r\n    var m = crypt.bytesToWords(message),\r\n        l = message.length * 8,\r\n        a =  1732584193,\r\n        b = -271733879,\r\n        c = -1732584194,\r\n        d =  271733878;\r\n\r\n    // Swap endian\r\n    for (var i = 0; i < m.length; i++) {\r\n      m[i] = ((m[i] <<  8) | (m[i] >>> 24)) & 0x00FF00FF |\r\n             ((m[i] << 24) | (m[i] >>>  8)) & 0xFF00FF00;\r\n    }\r\n\r\n    // Padding\r\n    m[l >>> 5] |= 0x80 << (l % 32);\r\n    m[(((l + 64) >>> 9) << 4) + 14] = l;\r\n\r\n    // Method shortcuts\r\n    var FF = md5._ff,\r\n        GG = md5._gg,\r\n        HH = md5._hh,\r\n        II = md5._ii;\r\n\r\n    for (var i = 0; i < m.length; i += 16) {\r\n\r\n      var aa = a,\r\n          bb = b,\r\n          cc = c,\r\n          dd = d;\r\n\r\n      a = FF(a, b, c, d, m[i+ 0],  7, -680876936);\r\n      d = FF(d, a, b, c, m[i+ 1], 12, -389564586);\r\n      c = FF(c, d, a, b, m[i+ 2], 17,  606105819);\r\n      b = FF(b, c, d, a, m[i+ 3], 22, -1044525330);\r\n      a = FF(a, b, c, d, m[i+ 4],  7, -176418897);\r\n      d = FF(d, a, b, c, m[i+ 5], 12,  1200080426);\r\n      c = FF(c, d, a, b, m[i+ 6], 17, -1473231341);\r\n      b = FF(b, c, d, a, m[i+ 7], 22, -45705983);\r\n      a = FF(a, b, c, d, m[i+ 8],  7,  1770035416);\r\n      d = FF(d, a, b, c, m[i+ 9], 12, -1958414417);\r\n      c = FF(c, d, a, b, m[i+10], 17, -42063);\r\n      b = FF(b, c, d, a, m[i+11], 22, -1990404162);\r\n      a = FF(a, b, c, d, m[i+12],  7,  1804603682);\r\n      d = FF(d, a, b, c, m[i+13], 12, -40341101);\r\n      c = FF(c, d, a, b, m[i+14], 17, -1502002290);\r\n      b = FF(b, c, d, a, m[i+15], 22,  1236535329);\r\n\r\n      a = GG(a, b, c, d, m[i+ 1],  5, -165796510);\r\n      d = GG(d, a, b, c, m[i+ 6],  9, -1069501632);\r\n      c = GG(c, d, a, b, m[i+11], 14,  643717713);\r\n      b = GG(b, c, d, a, m[i+ 0], 20, -373897302);\r\n      a = GG(a, b, c, d, m[i+ 5],  5, -701558691);\r\n      d = GG(d, a, b, c, m[i+10],  9,  38016083);\r\n      c = GG(c, d, a, b, m[i+15], 14, -660478335);\r\n      b = GG(b, c, d, a, m[i+ 4], 20, -405537848);\r\n      a = GG(a, b, c, d, m[i+ 9],  5,  568446438);\r\n      d = GG(d, a, b, c, m[i+14],  9, -1019803690);\r\n      c = GG(c, d, a, b, m[i+ 3], 14, -187363961);\r\n      b = GG(b, c, d, a, m[i+ 8], 20,  1163531501);\r\n      a = GG(a, b, c, d, m[i+13],  5, -1444681467);\r\n      d = GG(d, a, b, c, m[i+ 2],  9, -51403784);\r\n      c = GG(c, d, a, b, m[i+ 7], 14,  1735328473);\r\n      b = GG(b, c, d, a, m[i+12], 20, -1926607734);\r\n\r\n      a = HH(a, b, c, d, m[i+ 5],  4, -378558);\r\n      d = HH(d, a, b, c, m[i+ 8], 11, -2022574463);\r\n      c = HH(c, d, a, b, m[i+11], 16,  1839030562);\r\n      b = HH(b, c, d, a, m[i+14], 23, -35309556);\r\n      a = HH(a, b, c, d, m[i+ 1],  4, -1530992060);\r\n      d = HH(d, a, b, c, m[i+ 4], 11,  1272893353);\r\n      c = HH(c, d, a, b, m[i+ 7], 16, -155497632);\r\n      b = HH(b, c, d, a, m[i+10], 23, -1094730640);\r\n      a = HH(a, b, c, d, m[i+13],  4,  681279174);\r\n      d = HH(d, a, b, c, m[i+ 0], 11, -358537222);\r\n      c = HH(c, d, a, b, m[i+ 3], 16, -722521979);\r\n      b = HH(b, c, d, a, m[i+ 6], 23,  76029189);\r\n      a = HH(a, b, c, d, m[i+ 9],  4, -640364487);\r\n      d = HH(d, a, b, c, m[i+12], 11, -421815835);\r\n      c = HH(c, d, a, b, m[i+15], 16,  530742520);\r\n      b = HH(b, c, d, a, m[i+ 2], 23, -995338651);\r\n\r\n      a = II(a, b, c, d, m[i+ 0],  6, -198630844);\r\n      d = II(d, a, b, c, m[i+ 7], 10,  1126891415);\r\n      c = II(c, d, a, b, m[i+14], 15, -1416354905);\r\n      b = II(b, c, d, a, m[i+ 5], 21, -57434055);\r\n      a = II(a, b, c, d, m[i+12],  6,  1700485571);\r\n      d = II(d, a, b, c, m[i+ 3], 10, -1894986606);\r\n      c = II(c, d, a, b, m[i+10], 15, -1051523);\r\n      b = II(b, c, d, a, m[i+ 1], 21, -2054922799);\r\n      a = II(a, b, c, d, m[i+ 8],  6,  1873313359);\r\n      d = II(d, a, b, c, m[i+15], 10, -30611744);\r\n      c = II(c, d, a, b, m[i+ 6], 15, -1560198380);\r\n      b = II(b, c, d, a, m[i+13], 21,  1309151649);\r\n      a = II(a, b, c, d, m[i+ 4],  6, -145523070);\r\n      d = II(d, a, b, c, m[i+11], 10, -1120210379);\r\n      c = II(c, d, a, b, m[i+ 2], 15,  718787259);\r\n      b = II(b, c, d, a, m[i+ 9], 21, -343485551);\r\n\r\n      a = (a + aa) >>> 0;\r\n      b = (b + bb) >>> 0;\r\n      c = (c + cc) >>> 0;\r\n      d = (d + dd) >>> 0;\r\n    }\r\n\r\n    return crypt.endian([a, b, c, d]);\r\n  };\r\n\r\n  // Auxiliary functions\r\n  md5._ff  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & c | ~b & d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._gg  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & d | c & ~d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._hh  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b ^ c ^ d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._ii  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (c ^ (b | ~d)) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n\r\n  // Package private blocksize\r\n  md5._blocksize = 16;\r\n  md5._digestsize = 16;\r\n\r\n  module.exports = function (message, options) {\r\n    if (message === undefined || message === null)\r\n      throw new Error('Illegal argument ' + message);\r\n\r\n    var digestbytes = crypt.wordsToBytes(md5(message, options));\r\n    return options && options.asBytes ? digestbytes :\r\n        options && options.asString ? bin.bytesToString(digestbytes) :\r\n        crypt.bytesToHex(digestbytes);\r\n  };\r\n\r\n})();\r\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".js\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) scriptUrl = scripts[scripts.length - 1].src\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t} else installedChunks[chunkId] = 0;\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tfor(moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) var result = runtime(__webpack_require__);\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkIds[i]] = 0;\n\t}\n\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunksakurairo_scripts\"] = self[\"webpackChunksakurairo_scripts\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","function promisifyRequest(request) {\n    return new Promise((resolve, reject) => {\n        // @ts-ignore - file size hacks\n        request.oncomplete = request.onsuccess = () => resolve(request.result);\n        // @ts-ignore - file size hacks\n        request.onabort = request.onerror = () => reject(request.error);\n    });\n}\nfunction createStore(dbName, storeName) {\n    const request = indexedDB.open(dbName);\n    request.onupgradeneeded = () => request.result.createObjectStore(storeName);\n    const dbp = promisifyRequest(request);\n    return (txMode, callback) => dbp.then((db) => callback(db.transaction(storeName, txMode).objectStore(storeName)));\n}\nlet defaultGetStoreFunc;\nfunction defaultGetStore() {\n    if (!defaultGetStoreFunc) {\n        defaultGetStoreFunc = createStore('keyval-store', 'keyval');\n    }\n    return defaultGetStoreFunc;\n}\n/**\n * Get a value by its key.\n *\n * @param key\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction get(key, customStore = defaultGetStore()) {\n    return customStore('readonly', (store) => promisifyRequest(store.get(key)));\n}\n/**\n * Set a value with a key.\n *\n * @param key\n * @param value\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction set(key, value, customStore = defaultGetStore()) {\n    return customStore('readwrite', (store) => {\n        store.put(value, key);\n        return promisifyRequest(store.transaction);\n    });\n}\n/**\n * Set multiple values at once. This is faster than calling set() multiple times.\n * It's also atomic – if one of the pairs can't be added, none will be added.\n *\n * @param entries Array of entries, where each entry is an array of `[key, value]`.\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction setMany(entries, customStore = defaultGetStore()) {\n    return customStore('readwrite', (store) => {\n        entries.forEach((entry) => store.put(entry[1], entry[0]));\n        return promisifyRequest(store.transaction);\n    });\n}\n/**\n * Get multiple values by their keys\n *\n * @param keys\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction getMany(keys, customStore = defaultGetStore()) {\n    return customStore('readonly', (store) => Promise.all(keys.map((key) => promisifyRequest(store.get(key)))));\n}\n/**\n * Update a value. This lets you see the old value and update it as an atomic operation.\n *\n * @param key\n * @param updater A callback that takes the old value and returns a new value.\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction update(key, updater, customStore = defaultGetStore()) {\n    return customStore('readwrite', (store) => \n    // Need to create the promise manually.\n    // If I try to chain promises, the transaction closes in browsers\n    // that use a promise polyfill (IE10/11).\n    new Promise((resolve, reject) => {\n        store.get(key).onsuccess = function () {\n            try {\n                store.put(updater(this.result), key);\n                resolve(promisifyRequest(store.transaction));\n            }\n            catch (err) {\n                reject(err);\n            }\n        };\n    }));\n}\n/**\n * Delete a particular key from the store.\n *\n * @param key\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction del(key, customStore = defaultGetStore()) {\n    return customStore('readwrite', (store) => {\n        store.delete(key);\n        return promisifyRequest(store.transaction);\n    });\n}\n/**\n * Clear all values in the store.\n *\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction clear(customStore = defaultGetStore()) {\n    return customStore('readwrite', (store) => {\n        store.clear();\n        return promisifyRequest(store.transaction);\n    });\n}\nfunction eachCursor(customStore, callback) {\n    return customStore('readonly', (store) => {\n        // This would be store.getAllKeys(), but it isn't supported by Edge or Safari.\n        // And openKeyCursor isn't supported by Safari.\n        store.openCursor().onsuccess = function () {\n            if (!this.result)\n                return;\n            callback(this.result);\n            this.result.continue();\n        };\n        return promisifyRequest(store.transaction);\n    });\n}\n/**\n * Get all keys in the store.\n *\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction keys(customStore = defaultGetStore()) {\n    const items = [];\n    return eachCursor(customStore, (cursor) => items.push(cursor.key)).then(() => items);\n}\n/**\n * Get all values in the store.\n *\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction values(customStore = defaultGetStore()) {\n    const items = [];\n    return eachCursor(customStore, (cursor) => items.push(cursor.value)).then(() => items);\n}\n/**\n * Get all entries in the store. Each entry is an array of `[key, value]`.\n *\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction entries(customStore = defaultGetStore()) {\n    const items = [];\n    return eachCursor(customStore, (cursor) => items.push([cursor.key, cursor.value])).then(() => items);\n}\n\nexport { clear, createStore, del, entries, get, getMany, keys, promisifyRequest, set, setMany, update, values };\n","import { createStore, get as idbget, set as idbset, del as idbdel } from 'idb-keyval';\nconst store = createStore('sakurairo', 'cache');\nconst get = (key) => idbget(key, store);\nconst set = (key, value) => idbset(key, value, store);\nconst del = (key) => idbdel(key, store);\nexport { get, set, del };\n","import { __awaiter } from \"tslib\";\nimport { get, set, del } from './cache';\nlet bgn = 1;\nlet blob_url = '';\nexport function nextBG() {\n    return __awaiter(this, void 0, void 0, function* () {\n        cleanBlobUrl();\n        changeCoverBG(yield getCoverPath(true));\n        bgn++;\n    });\n}\nexport function preBG() {\n    return __awaiter(this, void 0, void 0, function* () {\n        cleanBlobUrl();\n        bgn--;\n        changeCoverBG(yield getCoverPath(true));\n    });\n}\nconst centerbg = document.querySelector(\".centerbg\");\n/**\n * 更改封面背景\n */\nconst changeCoverBG = mashiro_option.site_bg_as_cover ? (url) => {\n    document.body.style.backgroundImage = `url(${url})`;\n} :\n    centerbg ? (url) => {\n        centerbg.style.backgroundImage = `url(${url})`;\n    } : () => { };\nfunction getAPIPath(useBGN = false) {\n    const cover_api_url = new URL(mashiro_option.cover_api);\n    if (document.body.clientWidth < 860 && mashiro_option.random_graphs_mts == true) {\n        cover_api_url.searchParams.set('type', 'mobile');\n        return cover_api_url.toString() + (useBGN ? \"&\" + bgn : '');\n    }\n    else {\n        return cover_api_url.toString() + (useBGN ? (cover_api_url.search === '' ? \"?\" : '&') + bgn : '');\n    }\n}\nexport const getCoverPath = mashiro_option.cache_cover ? (useBGN = false) => __awaiter(void 0, void 0, void 0, function* () {\n    return get('cover').then(coverBG => {\n        if (coverBG) {\n            if (typeof coverBG == 'object' && coverBG instanceof Blob) {\n                cleanBlobUrl();\n                blob_url = URL.createObjectURL(coverBG);\n                return blob_url;\n            }\n        }\n        else {\n            //fallback\n            return getAPIPath(useBGN);\n        }\n    }).finally(() => {\n        fetchAndCache(useBGN);\n    });\n}) : getAPIPath;\nfunction fetchAndCache(useBGN = false) {\n    return __awaiter(this, void 0, void 0, function* () {\n        try {\n            const resp = yield fetch(getAPIPath(useBGN));\n            if (resp.ok) {\n                const blob = yield resp.blob();\n                set('cover', blob);\n            }\n        }\n        catch (e) {\n            if (typeof e == 'object' && e instanceof TypeError) {\n                console.warn('你的封面API好像不支持跨域调用,这种情况下缓存是不会生效的哦');\n                del('cover');\n            }\n        }\n    });\n}\nfunction cleanBlobUrl() {\n    URL.revokeObjectURL(blob_url);\n    blob_url = '';\n}\nexport function initCoverBG() {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (mashiro_option.site_bg_as_cover) {\n            centerbg.style.background = '#0000';\n            if (localStorage.getItem('bgImgSetting') !== 'white-bg') {\n                return;\n            }\n        }\n        else if (!mashiro_option.land_at_home)\n            return; //防止.centerbg在非主页加载图片\n        changeCoverBG(yield getCoverPath());\n    });\n}\n","export default function (apiPath, params = {}, nonce = true) {\n    const path = new URL(apiPath);\n    const { searchParams } = path;\n    for (const [key, value] of Object.entries(params)) {\n        searchParams.set(key, value);\n    }\n    if (nonce)\n        searchParams.set(\"_wpnonce\", Poi.nonce);\n    return path.toString();\n}\n","var _a;\n/**\n * Cookie\n * from github.com/mirai-mamori/Sakurairo ./js/sakura-app.js ,commit 71f5a0c\n * @license GPL-v2\n * @date 2021.03\n */\nlet _version_ctrl = (_a = mashiro_option.cookie_version_control) !== null && _a !== void 0 ? _a : '';\nexport function setCookie(key, value, days) {\n    const expires = days ? \"; expires=\" + new Date(Date.now() + (days * 24 * 60 * 60 * 1000)).toUTCString() : \"\";\n    document.cookie = key + _version_ctrl + \"=\" + (value || \"\") + expires + \"; path=/\";\n}\nexport function getCookie(key) {\n    const nameEQ = key + _version_ctrl + \"=\", ca = document.cookie.split(';');\n    for (let i = 0; i < ca.length; i++) {\n        let c = ca[i];\n        while (c.charAt(0) == ' ')\n            c = c.substring(1, c.length);\n        if (c.indexOf(nameEQ) == 0)\n            return c.substring(nameEQ.length, c.length);\n    }\n    return null;\n}\nexport function removeCookie(key) {\n    document.cookie = key + _version_ctrl + '=; Max-Age=-99999999;';\n}\n","export function clearButterbar() {\n    const butterBar = document.getElementsByClassName(\"butterBar\");\n    if (butterBar.length > 0) {\n        for (let i = 0; i < butterBar.length; i++) {\n            butterBar[i].remove();\n        }\n    }\n}\nexport function createButterbar(message, keep) {\n    clearButterbar();\n    /*     document.body.insertAdjacentHTML('beforeend', '<div class=\"butterBar butterBar--center\"><p class=\"butterBar-message\">' + message + '</p></div>');\n     */\n    const div = document.createElement('div');\n    div.classList.add('butterBar', 'butterBar--center');\n    const p = document.createElement('p');\n    p.classList.add('butterBar-message');\n    p.innerHTML = message;\n    div.appendChild(p);\n    document.body.appendChild(div);\n    if (keep !== true)\n        setTimeout(() => { clearButterbar(); }, typeof keep == 'number' ? keep : 6000);\n    return div;\n}\n","/**\n * sakura-app.js L943-963\n */\nimport { createButterbar } from \"./butterbar\";\nconst txt = [\n    \"# 商业转载请联系作者获得授权，非商业转载请注明出处。\",\n    \"# For commercial use, please contact the author for authorization. For non-commercial use, please indicate the source.\",\n    \"# 协议(License)：署名-非商业性使用-相同方式共享 4.0 国际 (CC BY-NC-SA 4.0)\",\n    \"# 作者(Author)：\" + mashiro_option.author_name,\n    \"# 链接(URL)：\" + window.location.href,\n    \"# 来源(Source)：\" + mashiro_option.site_name,\n];\nfunction setClipboardText(event, selectionTxt) {\n    event.preventDefault();\n    const htmlData = txt.join('<br>') + \"<br><br>\" + selectionTxt.replace(/\\r\\n/g, \"<br>\"), textData = txt.join('\\n') + \"\\n\\n\" + selectionTxt.toString().replace(/\\r\\n/g, \"\\n\");\n    if (event.clipboardData) {\n        event.clipboardData.setData(\"text/html\", htmlData);\n        event.clipboardData.setData(\"text/plain\", textData);\n    }\n    else if (window.clipboardData) {\n        //deprecate?\n        return window.clipboardData.setData(\"text\", textData);\n    }\n}\nfunction copytext(e) {\n    const selection = window.getSelection();\n    if (selection) {\n        const selectionText = selection.toString();\n        if (selectionText.length > 30) {\n            setClipboardText(e, selectionText);\n            createButterbar(\"复制成功！<br>Copied to clipboard successfully!\", 1000);\n        }\n    }\n}\n/**\n * 添加复制时的版权提示\n */\nexport default function add_copyright() {\n    if (mashiro_option.clipboardCopyright) {\n        document.body.removeEventListener(\"copy\", copytext);\n        document.body.addEventListener(\"copy\", copytext);\n    }\n}\n","const AddComment = {\n    respondId: '',\n    moveForm: function (commId, parentId, respondId) {\n        const t = this, comm = document.getElementById(commId), respond = document.getElementById(respondId), cancel = document.getElementById('cancel-comment-reply-link'), parent = document.getElementById('comment_parent');\n        //post = document.getElementById('comment_post_ID');\n        t.respondId = respondId;\n        if (!document.getElementById('wp-temp-form-div')) {\n            let div;\n            div = document.createElement('div');\n            div.id = 'wp-temp-form-div';\n            div.style.display = 'none';\n            respond.parentNode.insertBefore(div, respond);\n        }\n        if (!comm) {\n            const temp = document.getElementById('wp-temp-form-div');\n            document.getElementById('comment_parent').value = '0';\n            temp.parentNode.insertBefore(respond, temp);\n            temp.remove();\n        }\n        else {\n            comm.parentNode.insertBefore(respond, comm.nextSibling);\n        }\n        const _respond = document.getElementById(\"respond\");\n        window.scrollTo({\n            top: _respond.getBoundingClientRect().top + window.pageYOffset - _respond.clientTop - 100,\n            behavior: \"smooth\"\n        });\n        parent.value = parentId;\n        cancel.style.display = '';\n        cancel.onclick = function (e) {\n            var t = AddComment, temp = document.getElementById('wp-temp-form-div'), respond = document.getElementById(t.respondId);\n            document.getElementById('comment_parent').value = '0';\n            if (temp && respond) {\n                temp.parentNode.insertBefore(respond, temp);\n                temp.remove();\n                //temp.parentNode.removeChild(temp);\n            }\n            this.style.display = 'none';\n            this.onclick = null;\n            return false;\n        };\n        try {\n            document.getElementById('comment').focus();\n        }\n        catch (e) { }\n        return false;\n    },\n};\nexport default AddComment;\n","/**\n * default option\n */\nconst defaults = {\n    src: \"data-src\",\n    srcset: \"data-srcset\",\n    selector: \".lazyload\",\n    root: null,\n    rootMargin: \"0px\",\n    threshold: 0\n};\n/**\n * @class LazyLoad\n */\nexport default class LazyLoad {\n    constructor(images, options) {\n        this.observer = null;\n        this.settings = Object.assign(Object.assign({}, defaults), options);\n        this.images = images || document.querySelectorAll(this.settings.selector);\n        this.init();\n    }\n    init() {\n        /* Without observers load everything and bail out early. */\n        if (!IntersectionObserver) {\n            this.loadImages();\n            return;\n        }\n        const self = this;\n        let observerConfig = {\n            root: this.settings.root,\n            rootMargin: this.settings.rootMargin,\n            threshold: [this.settings.threshold]\n        };\n        this.observer = new IntersectionObserver(function (entries) {\n            Array.prototype.forEach.call(entries, function (entry) {\n                if (entry.isIntersecting) {\n                    self.observer.unobserve(entry.target);\n                    let src = entry.target.getAttribute(self.settings.src);\n                    let srcset = entry.target.getAttribute(self.settings.srcset);\n                    if (\"img\" === entry.target.tagName.toLowerCase()) {\n                        if (src) {\n                            entry.target.src = src;\n                        }\n                        if (srcset) {\n                            entry.target.srcset = srcset;\n                        }\n                    }\n                    else {\n                        entry.target.style.backgroundImage = \"url(\" + src + \")\";\n                    }\n                }\n            });\n        }, observerConfig);\n        this.images.forEach((image) => {\n            self.observer.observe(image);\n        });\n    }\n    loadAndDestroy() {\n        if (!this.settings) {\n            return;\n        }\n        this.loadImages();\n        this.destroy();\n    }\n    loadImages() {\n        if (!this.settings) {\n            return;\n        }\n        const self = this;\n        Array.prototype.forEach.call(this.images, function (image) {\n            let src = image.getAttribute(self.settings.src);\n            let srcset = image.getAttribute(self.settings.srcset);\n            if (\"img\" === image.tagName.toLowerCase()) {\n                if (src) {\n                    image.src = src;\n                }\n                if (srcset) {\n                    image.srcset = srcset;\n                }\n            }\n            else {\n                image.style.backgroundImage = \"url('\" + src + \"')\";\n            }\n        });\n    }\n    /**\n     * Destroy Lazyload Instance\n     * @returns\n     */\n    destroy() {\n        if (!this.settings) {\n            return;\n        }\n        this.observer.disconnect();\n        this.settings = null;\n    }\n}\nexport const lazyload = (images, options) => new LazyLoad(images, options);\n","function imgError(ele, type) {\n    switch (type) {\n        case 1:\n            ele.src = 'https://view.moezx.cc/images/2017/12/30/Transparent_Akkarin.th.jpg';\n            break;\n        case 2:\n            ele.src = 'https://sdn.geekzu.org/avatar/?s=80&d=mm&r=g';\n            break;\n        default:\n            ele.src = 'https://view.moezx.cc/images/2018/05/13/image-404.png';\n    }\n}\nfunction cmt_showPopup(ele) {\n    let popup = ele.querySelector(\"#thePopup\");\n    popup.classList.add(\"show\");\n    ele.querySelector(\"input\").onblur = () => {\n        popup.classList.remove(\"show\");\n    }\n}\n/*视频feature*/\nfunction coverVideo() {\n    let video = document.getElementById(\"coverVideo\"),\n        btn = document.getElementById(\"coverVideo-btn\");\n\n    if (video.paused) {\n        video.play();\n        try {\n            btn.innerHTML = '<i class=\"fa fa-pause\" aria-hidden=\"true\"></i>';\n        } catch { };\n        //console.info('play:coverVideo()');\n    } else {\n        video.pause();\n        try {\n            btn.innerHTML = '<i class=\"fa fa-play\" aria-hidden=\"true\"></i>';\n        } catch { };\n        //console.info('pause:coverVideo()');\n    }\n}\n\nfunction killCoverVideo() {\n    var video = document.getElementById(\"coverVideo\");\n    var btn = document.getElementById(\"coverVideo-btn\");\n\n    if (video.paused) {\n        //console.info('none:killCoverVideo()');\n    } else {\n        video.pause();\n        try {\n            btn.innerHTML = '<i class=\"fa fa-play\" aria-hidden=\"true\"></i>';\n        } catch (e) { };\n        //console.info('pause:killCoverVideo()');\n    }\n}\nfunction mail_me() {\n    var mail = \"mailto:\" + mashiro_option.email_name + \"@\" + mashiro_option.email_domain;\n    window.open(mail);\n}\n/* 首页下拉箭头 */\nfunction headertop_down() {\n    let coverOffset = document.getElementById(\"content\").getBoundingClientRect().top + window.pageYOffset;\n    window.scrollTo({\n        top: coverOffset,\n        behavior: \"smooth\"\n    });\n}\nconst motionEles = [\".bili\", \".menhera\", \".tieba\"];\nfunction motionSwitch(ele) {\n    for (let i = 0; i < motionEles.length; i++) {\n        document.querySelector(motionEles[i] + '-bar').classList.remove('on-hover');\n        document.querySelector(motionEles[i] + '-container').style.display = 'none';\n    }\n    document.querySelector(ele + '-bar').classList.add(\"on-hover\");\n    document.querySelector(ele + '-container').style.display = 'block';\n}\nfunction grin(tag, type, before, after) {\n    let myField;\n    switch (type) {\n        case \"custom\": tag = before + tag + after; break;\n        case \"Img\": tag = '[img]' + tag + '[/img]'; break;\n        case \"Math\": tag = ' {{' + tag + '}} '; break;\n        case \"tieba\": tag = ' ::' + tag + ':: '; break;\n        default: tag = ' :' + tag + ': ';\n    }\n    if (document.getElementById('comment') && document.getElementById('comment').type == 'textarea') {\n        myField = document.getElementById('comment');\n    } else {\n        return false;\n    }\n    if (document.selection) {\n        myField.focus();\n        sel = document.selection.createRange();\n        sel.text = tag;\n        myField.focus();\n    } else if (myField.selectionStart || myField.selectionStart == '0') {\n        let startPos = myField.selectionStart,\n            endPos = myField.selectionEnd,\n            cursorPos = endPos;\n        myField.value = myField.value.substring(0, startPos) + tag + myField.value.substring(endPos, myField.value.length);\n        cursorPos += tag.length;\n        myField.focus();\n        myField.selectionStart = cursorPos;\n        myField.selectionEnd = cursorPos;\n    } else {\n        myField.value += tag;\n        myField.focus();\n    }\n}\nimport MD5 from 'md5'\n/**\n * Gravatar\n * from a6cd66c 11.third-part-functions.js\n */\nconst get_gravatar = (email, size= 80) =>'https://' + Poi.gravatar_url + '/' + MD5(email) + '.jpg?s=' + size + '&d=mm';\nwindow.imgError = imgError\nwindow.cmt_showPopup = cmt_showPopup\nwindow.coverVideo = coverVideo\nwindow.killCoverVideo = killCoverVideo\nwindow.mail_me = mail_me\nwindow.headertop_down = headertop_down\nwindow.motionSwitch = motionSwitch\nwindow.grin = grin\nwindow.get_gravatar = get_gravatar","import { createButterbar } from \"./butterbar\";\nlet btnSerif, btnSansSerif;\nfunction Serif() {\n    if (document.body.clientWidth <= 860) {\n        createButterbar(\"将从网络加载字体，流量请注意\");\n    }\n    document.body.classList.add(\"serif\");\n    setButtonState('serif');\n    localStorage.setItem(\"font_family\", \"serif\");\n}\nfunction SansSerif() {\n    document.body.classList.remove(\"serif\");\n    setButtonState('sans-serif');\n    localStorage.setItem(\"font_family\", \"sans-serif\");\n}\nfunction change_font_listener(btn) {\n    return () => {\n        const { name } = btn.dataset;\n        const nowFont = localStorage.getItem(\"font_family\");\n        if (name == nowFont) {\n            return;\n        }\n        else {\n            if (name == 'serif') {\n                Serif();\n            }\n            else {\n                SansSerif();\n            }\n        }\n    };\n}\nexport function loadFontSetting() {\n    const nowFont = localStorage.getItem(\"font_family\");\n    if (!nowFont || nowFont == \"serif\") {\n        document.body.classList.add(\"serif\");\n    }\n}\nfunction setButtonState(font_name) {\n    if (font_name !== null && font_name !== void 0 ? font_name : localStorage.getItem(\"font_family\") == 'sans-serif') {\n        btnSerif.classList.remove(\"selected\");\n        btnSansSerif.classList.add(\"selected\");\n    }\n    else {\n        btnSansSerif.classList.remove(\"selected\");\n        btnSerif.classList.add(\"selected\");\n    }\n}\nfunction initDOMCache() {\n    btnSerif = document.getElementsByClassName(\"control-btn-serif\")[0];\n    btnSansSerif = document.getElementsByClassName(\"control-btn-sans-serif\")[0];\n    return btnSansSerif && btnSerif;\n}\nfunction initListener() {\n    btnSerif.addEventListener('click', change_font_listener(btnSerif));\n    btnSansSerif.addEventListener('click', change_font_listener(btnSansSerif));\n}\nexport function initFontControl() {\n    const result = initDOMCache();\n    if (!result)\n        localStorage.removeItem('font_family'); //样式菜单“简单”时，使用默认字体 “A”\n    loadFontSetting();\n    if (result) {\n        setButtonState();\n        initListener();\n    }\n}\n","const mediaQuery = window.matchMedia('(prefers-color-scheme:dark)');\nlet inDarkMode = false;\nexport const isInDarkMode = () => inDarkMode;\nfunction informDarkModeChange(nextValue) {\n    console.log(\"夜间模式\" + (nextValue ? \"开启\" : \"关闭\"));\n    if (nextValue !== inDarkMode) {\n        document.dispatchEvent(new CustomEvent(\"darkmode\", { detail: nextValue }));\n        inDarkMode = nextValue;\n    }\n}\nfunction mediaQueryCallback() {\n    const dark = localStorage.getItem(\"dark\");\n    //仅在深色模式不是用户主动设置时触发\n    if (!dark) {\n        if (mediaQuery.matches && mashiro_option.darkmode) {\n            turnOnDarkMode();\n        }\n        else {\n            turnOffDarkMode();\n        }\n    }\n}\nif (mashiro_option.dm_strategy === 'client') {\n    mediaQuery.removeEventListener ? mediaQuery.removeEventListener('change', mediaQueryCallback) : mediaQuery.removeListener(mediaQueryCallback);\n    mediaQuery.addEventListener ? mediaQuery.addEventListener('change', mediaQueryCallback) : mediaQuery.addListener(mediaQueryCallback);\n}\nfunction saveUserSetting(value) {\n    if (value == ifDarkmodeShouldOn()) {\n        //用户设置与自动切换深色模式判断一致时，恢复自动切换\n        localStorage.removeItem('dark');\n    }\n    else {\n        if (value == true) {\n            localStorage.setItem(\"dark\", \"1\");\n        }\n        else {\n            localStorage.setItem(\"dark\", \"0\");\n        }\n    }\n    //localStorage.setItem(\"bgImgSetting\", \"white-bg\");\n}\nexport function turnOnDarkMode(userTriggered) {\n    document.documentElement.style.backgroundColor = \"#333\";\n    document.getElementsByClassName(\"site-content\")[0].style.backgroundColor = \"#333\";\n    document.body.classList.add(\"dark\");\n    if (userTriggered)\n        saveUserSetting(true);\n    informDarkModeChange(true);\n}\nexport function turnOffDarkMode(userTriggered) {\n    document.documentElement.style.backgroundColor = \"\";\n    document.getElementsByClassName(\"site-content\")[0].style.backgroundColor = \"rgba(255, 255, 255, .8)\";\n    document.body.classList.remove(\"dark\");\n    document.body.classList.remove(\"dynamic\");\n    informDarkModeChange(false);\n    if (userTriggered) {\n        saveUserSetting(false);\n        //document.body.style.backgroundImage = `url(${mashiro_option.skin_bg0})`;\n    }\n}\n/**\n * 检查是否在深色模式时间\n * @returns {boolean}\n */\nfunction checkTime() {\n    const today = new Date();\n    return (today.getHours() > 21 || today.getHours() < 7);\n}\nexport function ifDarkmodeShouldOn() {\n    switch (mashiro_option.dm_strategy) {\n        case 'time':\n            return checkTime();\n        case 'client':\n            return mediaQuery.matches;\n        case 'eien':\n            return true;\n        default:\n            return checkTime();\n    }\n}\nexport function checkDarkModeSetting() {\n    const dark = localStorage.getItem(\"dark\");\n    if (!dark) {\n        //无用户设置时，自动切换深色模式\n        if (ifDarkmodeShouldOn() && mashiro_option.darkmode) {\n            turnOnDarkMode();\n        }\n        else {\n            turnOffDarkMode();\n        }\n    }\n    else {\n        if (dark == '1') {\n            turnOnDarkMode();\n        }\n        else {\n            turnOffDarkMode();\n        }\n    }\n}\n/* function mobile_dark_light() {\n    if (document.body.classList.contains(\"dark\")) {\n        document.documentElement.style.background = \"unset\";\n        document.body.classList.remove(\"dark\");\n        document.getElementById(\"moblieDarkLight\").innerHTML = '<i class=\"fa fa-moon-o\" aria-hidden=\"true\"></i>';\n        setCookie(\"dark\", \"0\", 0.33);\n    } else {\n        document.documentElement.style.background = \"#333333\";\n        document.getElementById(\"moblieDarkLight\").innerHTML = '<i class=\"fa fa-sun-o\" aria-hidden=\"true\"></i>';\n        document.body.classList.add(\"dark\");\n        setCookie(\"dark\", \"1\", 0.33);\n    }\n} */ \n","/**\n * app.js - Client script bundle for Sakurairo, a WordPress theme.\n * @author bymoye\n * @author KotoriK\n * @license GPL-v2\n * Github Repository:\n * https://github.com/Fuukei/Sakurairo_Scripts\n * https://github.com/mirai-mamori/Sakurairo source from f7db3c5 \n * \n * modified from Mashiro's work.\n * *** original header ***\n * Sakura theme application bundle\n * @author Mashiro\n * @url https://2heng.xin\n * @date 2019.8.3\n * *** ***\n */\nimport { nextBG, preBG, initCoverBG, getCoverPath } from './coverBackground'\nimport buildAPI from './api'\nimport { setCookie, } from '../../module/cookie'\nimport add_copyright from './copyright'\nimport addComment from './AddComment'\nimport { createButterbar } from './butterbar'\nimport { loadCSS } from 'fg-loadcss'\nimport { lazyload } from 'lazyload'\nimport './global-func'\nimport { onlyOnceATime, min } from '../../module/util'\nconst pjax = (() => {\n    //检查是否应当开启Poi.pjax\n    const UA = navigator.userAgent\n    const version_list = { Firefox: 84, Edg: 88, Chrome: 88, Opera: 74, Version: 9 };\n    const reg = UA.indexOf('Chrome') != -1 ? /(Chrome)\\/(\\d+)/i : /(Firefox|Chrome|Version|Opera)\\/(\\d+)/i\n    const version = UA.match(reg);\n    Poi.pjax = version && (parseInt(version[2]) >= version_list[version[1]]) && Poi.pjax;\n    if (document.createElement('canvas').toDataURL('image/webp').indexOf('data:image/webp') === 0)\n        setCookie('su_webp', '1', 114514)\n\n    return Poi.pjax && import('pjax').then(({ default: Pjax }) =>\n        new Pjax({\n            selectors: [\"#page\", \"title\", \".footer-device\",\n                /**mashiro_option */\n                \"#_mashiro_\"],\n            elements: [\n                \"a:not([target='_top']):not(.comment-reply-link):not(#pagination a):not(#comments-navi a):not(.user-menu-option a):not(.header-user-avatar a):not(.emoji-item):not(.no-pjax)\",\n                \".search-form\",\n                \".s-search\",\n            ],\n            timeout: 8000,\n            history: true,\n            cacheBust: false,\n        })\n    )\n})()\nconst ready = function (fn) {\n    if (document.readyState === 'complete') {\n        return fn();\n    }\n    document.addEventListener('DOMContentLoaded', fn, false);\n};\n\nmashiro_global.variables = new function () {\n    this.has_hls = false;\n    this.skinSecter = true;\n}\nmashiro_global.ini = new function () {\n    this.normalize = function () { // initial functions when page first load (首次加载页面时的初始化函数)\n        lazyload();\n        post_list_show_animation();\n        copy_code_block();\n        web_audio();\n        coverVideoIni();\n        checkSkinSecter();\n        scrollBar();\n        load_bangumi();\n        sm();\n    }\n    this.pjax = function () { // pjax reload functions (pjax 重载函数)\n        pjaxInit();\n        post_list_show_animation();\n        copy_code_block();\n        web_audio();\n        coverVideoIni();\n        checkSkinSecter();\n        load_bangumi();\n        sm();\n        NH();\n    }\n}\n\n/**code highlight */\n\nconst code_highlight_style = (() => {\n    function gen_top_bar(pre, code_a) {\n        const attributes = {\n            'autocomplete': 'off',\n            'autocorrect': 'off',\n            'autocapitalize': 'off',\n            'spellcheck': 'false',\n            'contenteditable': 'false',\n            'design': 'by Mashiro'\n        }\n        if (!pre.children[0]) return\n        const ele_name = pre.children[0].className\n        let lang = ele_name.substr(0, ele_name.indexOf(\" \")).replace('language-', '')\n        if (lang.toLowerCase() == \"hljs\") lang = code_a.className.replace('hljs', '') ? code_a.className.replace('hljs', '') : \"text\";\n        pre.classList.add(\"highlight-wrap\");\n        for (const t in attributes) {\n            pre.setAttribute(t, attributes[t]);\n        }\n        code_a.setAttribute('data-rel', lang.toUpperCase());\n    }\n    async function importHighlightjs() {\n        try {\n            if (!window.hljs) {\n                window.hljs = await import('highlight.js')\n                await import('highlightjs-line-numbers.js')\n            }\n        } catch (e) { console.warn(e) }\n    }\n    async function hljs_process(pre, code) {\n        try {\n            await importHighlightjs()\n            for (let i = 0; i < code.length; i++) {\n                hljs.highlightBlock(code[i]);\n            }\n            for (let i = 0; i < pre.length; i++) {\n                gen_top_bar(pre[i], code[i]);\n            }\n            hljs.initLineNumbersOnLoad();\n            const ec = document.querySelector(\".entry-content\");\n            ec && ec.addEventListener(\"click\", function (e) {\n                //类型问题\n                //可以考虑换成 ec\n                if (!e.target.classList.contains(\"highlight-wrap\")) return;\n                e.target.classList.toggle(\"code-block-fullscreen\");\n                document.documentElement.classList.toggle('code-block-fullscreen-html-scroll');\n            })\n        } catch (e) {\n            console.warn(e)\n        }\n    }\n    const PrismBaseUrl = mashiro_option.code_highlight_prism?.autoload_path ?? 'https://cdn.jsdelivr.net/npm/prismjs@1.23.0/'\n    let current_prism_css = undefined\n    const themeCSS = (() => {\n        const { light, dark } = mashiro_option.code_highlight_prism?.theme ?? {}\n        const theme = {\n            light: light ?? 'themes/prism.min.css',\n            dark: dark ?? 'themes/prism-tomorrow.min.css',\n        }\n        for (const theme_name in theme) {\n            theme[theme_name] = new URL(theme[theme_name], PrismBaseUrl).toString()\n        }\n        return theme\n    })()\n    function loadPrismCSS(darkmodeOn) {\n        const nextCSS = darkmodeOn ? themeCSS.dark : themeCSS.light\n        if (current_prism_css) {\n            if (current_prism_css.href !== nextCSS) {\n                const nextCSSElement = loadCSS(nextCSS)\n                nextCSSElement.addEventListener('load', () => {\n                    current_prism_css.remove()\n                    current_prism_css = nextCSSElement\n                })\n            }\n        } else {\n            current_prism_css = loadCSS(nextCSS)\n        }\n    }\n    async function importPrismJS() {\n        try {\n            if (!window.Prism) {\n                const { default: Prism } = await import('prismjs')\n                window.Prism = Prism\n            }\n            //必备插件全家桶\n            loadCSS(new URL('plugins/toolbar/prism-toolbar.min.css', PrismBaseUrl).toString())\n            loadCSS(new URL('plugins/previewers/prism-previewers.min.css', PrismBaseUrl).toString())\n            loadPrismCSS(isInDarkMode())\n            document.addEventListener('darkmode', (e) => {\n                loadPrismCSS(e.detail)\n            })\n            await Promise.all([\n                import('prismjs/plugins/autoloader/prism-autoloader'),\n                import('prismjs/plugins/previewers/prism-previewers'),\n                import('prismjs/plugins/toolbar/prism-toolbar')\n                    .then(() => import('prismjs/plugins/show-language/prism-show-language'))\n            ])\n            Prism.plugins.autoloader.languages_path = new URL('components/', PrismBaseUrl).toString()\n        } catch (reason) {\n            console.warn(reason)\n        }\n    }\n    function loadPrismPluginLineNumbers() {\n        loadCSS(new URL('plugins/line-numbers/prism-line-numbers.min.css', PrismBaseUrl).toString())\n        return import('prismjs/plugins/line-numbers/prism-line-numbers')\n    }\n    /**\n     * \n     * @param {NodeListOf<HTMLElement>} code document.querySelectorAll(\"pre code\")\n     */\n    async function prism_process(code) {\n        try {\n            await importPrismJS()\n            if (mashiro_option.code_highlight_prism.line_number_all) {\n                document.querySelector('.entry-content').classList.add('line-numbers')\n                await loadPrismPluginLineNumbers()\n            }\n            code.forEach(async ele => {\n                if (ele.parentElement.classList.contains('line-numbers')) {\n                    await loadPrismPluginLineNumbers()\n                }\n                if (ele.classList.contains('match-braces')) {\n                    await import('prismjs/plugins/match-braces/prism-match-braces')\n                    loadCSS(new URL('plugins/match-braces/prism-match-braces.min.css', PrismBaseUrl).toString())\n                }\n                Prism.highlightElement(ele)\n            })\n            Prism.plugins.fileHighlight && Prism.plugins.fileHighlight.highlight()\n        } catch (error) {\n            console.warn(error)\n        }\n    }\n\n    return async function code_highlight_style() {\n        //hljs.requireLanguage('javascript',await import('highlight.js/lib/languages/javascript'))\n        const pre = document.getElementsByTagName(\"pre\"),\n            code = document.querySelectorAll(\"pre code\");\n        if (!pre.length) return;\n        switch (mashiro_option.code_highlight) {\n            case 'hljs':\n                return hljs_process(pre, code)\n            case 'prism':\n                return prism_process(code)\n            case 'custom': return\n            default:\n                console.warn(`mashiro_option.code_highlight这咋填的是个${mashiro_option.code_highlight}啊🤔`)\n        }\n    }\n})()\n\nfunction slideToggle(el, duration = 1000, mode = '', callback) {\n    let dom = el;\n    dom.status = dom.status || getComputedStyle(dom, null)['display'];\n    const flag = dom.status != 'none';\n    if ((flag == true && mode == \"show\") || (flag == false && mode == \"hide\")) return;\n    dom.status = flag ? 'none' : 'block';\n    dom.style.transition = 'height ' + duration / 1000 + 's';\n    dom.style.overflow = 'hidden';\n    clearTimeout(dom.tagTimer);\n    dom.tagTimer = dom.tagTimer || null;\n    dom.style.display = 'block';\n    dom.tagHeight = dom.tagHeight || dom.clientHeight + 'px';\n    dom.style.display = '';\n    dom.style.height = flag ? dom.tagHeight : \"0px\";\n    setTimeout(() => {\n        dom.style.height = flag ? \"0px\" : dom.tagHeight\n    }, 0);\n    dom.tagTimer = setTimeout(() => {\n        dom.style.display = flag ? 'none' : 'block';\n        dom.style.transition = '';\n        dom.style.overflow = '';\n        dom.style.height = '';\n        dom.status = dom.tagHeight = null;\n    }, duration);\n    if (callback) callback();\n}\n\nfunction post_list_show_animation() {\n    if (document.querySelector('article') && document.querySelector('article').classList.contains(\"post-list-thumb\")) {\n        const options = {\n            root: null,\n            threshold: [0.66]\n        },\n            callback = (entries) => {\n                entries.forEach((article) => {\n                    if (!window.IntersectionObserver) {\n                        article.target.style.willChange = 'auto';\n                        if (article.target.classList.contains(\"post-list-show\") === false) {\n                            article.target.classList.add(\"post-list-show\");\n                        }\n                    } else {\n                        if (article.target.classList.contains(\"post-list-show\")) {\n                            article.target.style.willChange = 'auto';\n                            io.unobserve(article.target)\n                        } else {\n                            if (article.isIntersecting) {\n                                article.target.classList.add(\"post-list-show\");\n                                article.target.style.willChange = 'auto';\n                                io.unobserve(article.target)\n                            }\n                        }\n                    }\n                })\n            },\n            io = new IntersectionObserver(callback, options),\n            articles = document.getElementsByClassName('post-list-thumb');\n        for (let a = 0; a < articles.length; a++) {\n            io.observe(articles[a]);\n        }\n    }\n}\nimport { initFontControl, loadFontSetting } from './font_control'\n\ncode_highlight_style();\n/**\n * 上传图片提示\n */\nfunction attach_image() {\n    let cached = document.getElementsByClassName(\"insert-image-tips\")[0],\n        upload_img = document.getElementById('upload-img-file');\n    if (!upload_img) return;\n    upload_img.addEventListener(\"change\", (function () {\n        if (this.files.length > 10) {\n            createButterbar(\"每次上传上限为10张.<br>10 files max per request.\");\n            return 0;\n        }\n        for (let i = 0; i < this.files.length; i++) {\n            if (this.files[i].size >= 5242880) {\n                alert('图片上传大小限制为5 MB.\\n5 MB max per file.\\n\\n「' + this.files[i].name + '」\\n\\n这张图太大啦~请重新上传噢！\\nThis image is too large~Please reupload!');\n                return;\n            }\n        }\n        for (let i = 0; i < this.files.length; i++) {\n            let f = this.files[i],\n                formData = new FormData(),\n                xhr = new XMLHttpRequest();\n            formData.append('cmt_img_file', f);\n            xhr.addEventListener('loadstart', function () {\n                cached.innerHTML = '<i class=\"fa fa-spinner rotating\" aria-hidden=\"true\"></i>';\n                createButterbar(\"上传中...<br>Uploading...\");\n            });\n            xhr.open(\"POST\", buildAPI(Poi.api + 'sakura/v1/image/upload'), true);\n            xhr.send(formData);\n            xhr.onreadystatechange = function () {\n                if (xhr.readyState == 4 && (xhr.status == 200 || xhr.status == 304)) {\n                    cached.innerHTML = '<i class=\"fa fa-check\" aria-hidden=\"true\"></i>';\n                    setTimeout(function () {\n                        cached.innerHTML = '<i class=\"fa fa-picture-o\" aria-hidden=\"true\"></i>';\n                    }, 1000);\n                    let res = JSON.parse(xhr.responseText);\n                    if (res.status == 200) {\n                        let get_the_url = res.proxy;\n                        document.getElementById(\"upload-img-show\").insertAdjacentHTML('afterend', '<img class=\"lazyload upload-image-preview\" src=\"https://cdn.jsdelivr.net/gh/Fuukei/Public_Repository@latest/vision/theme/colorful/load/inload.svg\" data-src=\"' + get_the_url + '\" onclick=\"window.open(\\'' + get_the_url + '\\')\" onerror=\"imgError(this)\" />');\n                        lazyload();\n                        createButterbar(\"图片上传成功~<br>Uploaded successfully~\");\n                        grin(get_the_url, type = 'Img');\n                    } else {\n                        createButterbar(\"上传失败！<br>Uploaded failed!<br> 文件名/Filename: \" + f.name + \"<br>code: \" + res.status + \"<br>\" + res.message, 3000);\n                    }\n                } else if (xhr.readyState == 4) {\n                    cached.innerHTML = '<i class=\"fa fa-times\" aria-hidden=\"true\" style=\"color:red\"></i>';\n                    alert(\"上传失败，请重试.\\nUpload failed, please try again.\");\n                    setTimeout(function () {\n                        cached.innerHTML = '<i class=\"fa fa-picture-o\" aria-hidden=\"true\"></i>';\n                    }, 1000);\n                }\n            }\n        };\n    }));\n}\n\n\nfunction clean_upload_images() {\n    document.getElementById(\"upload-img-show\").innerHTML = '';\n}\n/**\n * 添加上传图片的提示\n */\nfunction add_upload_tips() {\n    const form_submit = document.querySelector('.form-submit #submit');\n    if (form_submit == null) return;\n    if (!mashiro_option.comment_upload_img) {\n        form_submit.style.width = '100%'\n        return\n    }\n    form_submit.insertAdjacentHTML('afterend', '<div class=\"insert-image-tips popup\"><i class=\"fa fa-picture-o\" aria-hidden=\"true\"></i><span class=\"insert-img-popuptext\" id=\"uploadTipPopup\">上传图片</span></div><input id=\"upload-img-file\" type=\"file\" accept=\"image/*\" multiple=\"multiple\" class=\"insert-image-button\">');\n    attach_image();\n\n    const file_submit = document.getElementById('upload-img-file'),\n        hover = document.getElementsByClassName('insert-image-tips')[0],\n        Tip = document.getElementById('uploadTipPopup');\n    if (!file_submit) return;\n    file_submit.addEventListener(\"mouseenter\", function () {\n        hover.classList.toggle('insert-image-tips-hover');\n        Tip.classList.toggle('show');\n    });\n    file_submit.addEventListener(\"mouseleave\", function () {\n        hover.classList.toggle('insert-image-tips-hover');\n        Tip.classList.toggle('show');\n    });\n}\n\nfunction click_to_view_image() {\n    const comment_inline = document.getElementsByClassName('comment_inline_img');\n    if (!comment_inline.length) return;\n    document.getElementsByClassName(\"comments-main\")[0].addEventListener(\"click\", function (e) {\n        if (e.target.classList.contains(\"comment_inline_img\")) {\n            window.open(e.target.src);\n        }\n    })\n}\nclick_to_view_image();\n\n\nfunction original_emoji_click() {\n    const emoji = document.getElementsByClassName('emoji-item');\n    if (!emoji.length) return;\n    document.querySelector(\".menhera-container\").addEventListener(\"click\", function (e) {\n        if (e.target.classList.contains(\"emoji-item\")) {\n            grin(e.target.innerText, \"custom\", \"`\", \"` \");\n        }\n    })\n}\noriginal_emoji_click();\n\nfunction scrollBar() {\n    if (document.body.clientWidth > 860) {\n        window.addEventListener(\"scroll\", () => {\n            let s = document.documentElement.scrollTop || document.body.scrollTop,\n                a = document.documentElement.scrollHeight || document.body.scrollHeight,\n                b = window.innerHeight, c,\n                result = parseInt(s / (a - b) * 100),\n                cached = document.getElementById('bar');\n            cached.style.width = result + \"%\";\n            /* switch (true) {\n                case (result <= 19): c = '#cccccc'; break;\n                case (result <= 39): c = '#50bcb6'; break;\n                case (result <= 59): c = '#85c440'; break;\n                case (result <= 79): c = '#f2b63c'; break;\n                case (result <= 99): c = '#FF0000'; break;\n                case (result == 100): c = '#5aaadb'; break;\n                default: c = \"orange\";\n            }\n            cached.style.background = c; */\n            //炫彩scrollbar好像不是很好看，又被php那边的样式强制覆盖了，就先注释掉\n            let toc_container = document.querySelector(\".toc-container\"),\n                sc = document.querySelector(\".site-content\"),\n                skinMenu = document.querySelector(\".skin-menu\");\n            if (toc_container && sc) {\n                toc_container.style.height = min(sc.getBoundingClientRect()[\"height\"], document.documentElement.offsetHeight - toc_container.offsetTop) + \"px\";\n            }\n            skinMenu && skinMenu.classList.remove(\"show\");\n        })\n    }\n}\n\nfunction checkSkinSecter() {\n    if (mashiro_global.variables.skinSecter === false) {\n        const pattern = document.querySelector(\".pattern-center\"),\n            headertop = document.querySelector(\".headertop-bar\");\n        if (pattern) {\n            pattern.classList.remove(\"pattern-center\");\n            pattern.classList.add(\"pattern-center-sakura\");\n        }\n        if (headertop) {\n            headertop.classList.remove(\"headertop-bar\");\n            headertop.classList.add(\"headertop-bar-sakura\");\n        }\n    } else {\n        const pattern = document.querySelector(\".pattern-center-sakura\"),\n            headertop = document.querySelector(\".headertop-bar-sakura\");\n        if (pattern) {\n            pattern.classList.remove(\"pattern-center-sakura\");\n            pattern.classList.add(\"pattern-center\");\n        }\n        if (headertop) {\n            headertop.classList.remove(\"headertop-bar-sakura\");\n            headertop.classList.add(\"headertop-bar\");\n        }\n    }\n}\nimport { checkDarkModeSetting, turnOnDarkMode, turnOffDarkMode, isInDarkMode } from './darkmode'\nfunction no_right_click() {\n    const pri = document.getElementById(\"primary\");\n    if (pri) pri.addEventListener(\"contextmenu\", function (e) {\n        if (e.target.nodeName.toLowerCase() == \"img\") {\n            e.preventDefault();\n            e.stopPropagation();\n        }\n    })\n}\nno_right_click();\n\nasync function changeBG(bgid) {\n    //@sideeffect\n    mashiro_global.variables.skinSecter = bgid == \"white-bg\" || bgid == \"dark-bg\";\n    checkSkinSecter();\n    const now_bg_url = document.body.style.backgroundImage\n    let bg_url;\n    switch (bgid) {\n        case \"white-bg\":\n            if (mashiro_option.site_bg_as_cover) {\n                //if(mashiro_option.cache_cover && now_bg_url.match(/^url\\(\"blob:/)) return\n                bg_url = await getCoverPath()\n            } else {\n                bg_url = mashiro_option.skin_bg0;\n            }\n            break;\n        case \"diy1-bg\":\n            bg_url = mashiro_option.skin_bg1;\n            break;\n        case \"diy2-bg\":\n            bg_url = mashiro_option.skin_bg2;\n            break;\n        case \"diy3-bg\":\n            bg_url = mashiro_option.skin_bg3;\n            break;\n        case \"diy4-bg\":\n            bg_url = mashiro_option.skin_bg4;\n            break;\n    }\n    if (now_bg_url != bg_url) {\n            document.body.style.backgroundImage = bg_url ? `url(${bg_url})` : '';\n    }\n}\n\nfunction bgButtonAddListener() {\n    const next = document.getElementById(\"bg-next\"),\n        pre = document.getElementById(\"bg-pre\");\n    if (next) { next.onclick = () => { nextBG() } };\n    if (pre) { pre.onclick = () => { preBG() } };\n}\n\nfunction topFunction() {\n    window.scrollTo({\n        top: 0,\n        behavior: \"smooth\"\n    });\n}\n\nfunction timeSeriesReload(flag) {\n    let archives = document.getElementById('archives');\n    if (archives == null) return;\n    let al_li = archives.getElementsByClassName('al_mon');\n    if (flag == true) {\n        archives.addEventListener(\"click\", function (e) {\n            if (e.target.classList.contains(\"al_mon\")) {\n                slideToggle(e.target.nextElementSibling, 500);\n                e.preventDefault();\n            }\n        })\n        lazyload();\n    } else {\n        (function () {\n            let al_expand_collapse = document.getElementById('al_expand_collapse');\n            al_expand_collapse.style.cursor = \"s-resize\";\n            for (let i = 0; i < al_li.length; i++) {\n                let a = al_li[i],\n                    num = a.nextElementSibling.getElementsByTagName('li').length;\n                a.style.cursor = \"s-resize\";\n                a.querySelector('#post-num').textContent = num;\n            }\n            let al_post_list = archives.getElementsByClassName(\"al_post_list\"),\n                al_post_list_f = al_post_list[0];\n            for (let i = 0; i < al_post_list.length; i++) {\n                slideToggle(al_post_list[i], 500, 'hide', function () {\n                    slideToggle(al_post_list_f, 500, 'show');\n                })\n            }\n            archives.addEventListener(\"click\", function (e) {\n                if (e.target.classList.contains(\"al_mon\")) {\n                    slideToggle(e.target.nextElementSibling, 500);\n                    e.preventDefault();\n                }\n            })\n            if (document.body.clientWidth > 860) {\n                for (let i = 0; i < al_post_list.length; i++) {\n                    let el = al_post_list[i];\n                    el.parentNode.addEventListener('mouseover', function () {\n                        slideToggle(el, 500, 'show');\n                        return false;\n                    })\n                }\n                if (false) {\n                    for (let i = 0; i < al_post_list.length; i++) {\n                        let el = al_post_list[i];\n                        el.parentNode.addEventListener('mouseover', function () {\n                            slideToggle(el, 500, 'hide');\n                            return false;\n                        })\n                    }\n                }\n                let al_expand_collapse_click = 0;\n                al_expand_collapse.addEventListener('click', function () {\n                    if (al_expand_collapse_click == 0) {\n                        for (let i = 0; i < al_post_list.length; i++) {\n                            let el = al_post_list[i];\n                            slideToggle(el, 500, 'show');\n                        };\n                        al_expand_collapse_click++;\n                    } else if (al_expand_collapse_click == 1) {\n                        for (let i = 0; i < al_post_list.length; i++) {\n                            let el = al_post_list[i];\n                            slideToggle(el, 500, 'hide');\n                        };\n                        al_expand_collapse_click--;\n                    }\n                });\n            }\n        })();\n    }\n}\n\ntimeSeriesReload();\n\nfunction loadHls() {\n    const video = document.getElementById('coverVideo'),\n        video_src = document.getElementById(\"coverVideo\").getAttribute(\"data-src\");\n    if (Hls.isSupported()) {\n        const hls = new Hls();\n        hls.loadSource(video_src);\n        hls.attachMedia(video);\n        hls.on(Hls.Events.MANIFEST_PARSED, function () {\n            video.play();\n        });\n    } else if (video.canPlayType('application/vnd.apple.mpegurl')) {\n        video.src = video_src;\n        video.addEventListener('loadedmetadata', function () {\n            video.play();\n        });\n    }\n}\n/* function loadJS(url, callback) {\n    let script = document.createElement(\"script\"),\n        fn = callback || function () { };\n    script.type = \"text/javascript\";\n    script.onload = function () {\n        fn();\n    };\n    script.src = url;\n    document.head.appendChild(script);\n} */\n\nfunction coverVideoIni() {\n    let video = document.getElementsByTagName('video')[0];\n    if (video && video.classList.contains('hls')) {\n        if (mashiro_global.variables.has_hls) {\n            loadHls();\n        } else {\n            /*             //不保证可用 需测试\n                        loadJS(\"https://cdn.jsdelivr.net/gh/mashirozx/Sakura@3.3.3/cdn/js/src/16.hls.js\", function () {\n                            loadHls();\n                            mashiro_global.variables.has_hls = true;\n                        }) */\n            import('hls.js')\n                .then(hls => {\n                    //export to GLOBAL\n                    window.Hls = hls.default\n                    loadHls();\n                    mashiro_global.variables.has_hls = true;\n                })\n                .catch(reason => console.warn('Hls load failed: ', reason))\n        }\n    }\n}\n\nfunction copy_code_block() {\n    const ele = document.querySelectorAll(\"pre code\");\n    if (ele.length > 0) {\n        for (let j = 0; j < ele.length; j++) {\n            ele[j].setAttribute('id', 'code-block-' + j);\n            ele[j].insertAdjacentHTML('afterend', '<a class=\"copy-code\" href=\"javascript:\" data-clipboard-target=\"#code-block-' + j + '\" title=\"拷贝代码\"><i class=\"fa fa-clipboard\" aria-hidden=\"true\"></i>');\n        };\n        import('clipboard').then(({ default: ClipboardJS }) => {\n            new ClipboardJS('.copy-code');\n        })\n    }\n}\n\nfunction tableOfContentScroll(flag) {\n    if (document.body.clientWidth <= 1200) {\n        return;\n    } else if (!document.querySelector(\"div.have-toc\") && !document.querySelector(\"div.has-toc\")) {\n        let ele = document.getElementsByClassName(\"toc-container\")[0];\n        if (ele) {\n            ele.remove();\n            ele = null;\n        }\n    } else {\n        if (flag) {\n            let id = 1,\n                heading_fix = mashiro_option.entry_content_theme == \"sakura\" ? (document.querySelector(\"article.type-post\") ? (document.querySelector(\"div.pattern-attachment-img\") ? -75 : 200) : 375) : window.innerHeight / 2;\n            let _els = document.querySelectorAll('.entry-content,.links');\n            for (let i = 0; i < _els.length; i++) {\n                let _el = _els[i].querySelectorAll('h1,h2,h3,h4,h5');\n                for (let j = 0; j < _el.length; j++) {\n                    _el[j].id = \"toc-head-\" + id;\n                    id++;\n                }\n            }\n            import('tocbot').then(({ default: tocbot }) => {\n                tocbot.init({\n                    tocSelector: '.toc',\n                    contentSelector: ['.entry-content', '.links'],\n                    headingSelector: 'h1, h2, h3, h4, h5',\n                    headingsOffset: heading_fix - window.innerHeight / 2,\n                });\n            })\n        }\n    }\n}\ntableOfContentScroll(true);\nconst pjaxInit = function () {\n    add_upload_tips();\n    no_right_click();\n    click_to_view_image();\n    original_emoji_click();\n    loadFontSetting()\n    let _p = document.getElementsByTagName(\"p\");\n    for (let i = 0; i < _p.length; i++) {\n        _p[i].classList.remove(\"head-copyright\");\n    }\n    try {\n        code_highlight_style();\n    } catch (e) {\n        console.warn(e)\n    };\n    try {\n        getqqinfo();\n    } catch (e) {\n        console.warn(e)\n    };\n    lazyload();\n    let _div = document.getElementsByTagName(\"div\"),\n        tla = document.getElementById(\"to-load-aplayer\");\n    tla && tla.addEventListener(\"click\", () => {\n        /* try {\n            reloadHermit();\n        } catch (e) { }; */\n        for (let i = 0; i < _div.length; i++) {\n            _div[i].classList.remove(\"load-aplayer\");\n        }\n    });\n    /* for (let i = 0; i < _div.length; i++) {\n        if (_div[i].classList.contains(\"aplayer\")) {\n            try {\n                reloadHermit();\n            } catch { };\n        }\n    } */\n    let iconflat = document.getElementsByClassName(\"iconflat\");\n    if (iconflat.length != 0) {\n        iconflat[0].style.width = '50px';\n        iconflat[0].style.height = '50px';\n    }\n    let openNav = document.getElementsByClassName(\"openNav\");\n    if (openNav.length != 0) {\n        openNav[0].style.height = '50px';\n    }\n    bgButtonAddListener()\n    smileBoxToggle();\n    timeSeriesReload();\n    add_copyright();\n    tableOfContentScroll(true);\n}\n\nfunction sm() {\n    let sm = document.getElementsByClassName('sm'),\n        cm = document.querySelector(\".comments-main\");\n    if (!sm.length) return;\n    if (Poi.reply_link_version == 'new') {\n        if (cm) cm.addEventListener(\"click\", function (e) {\n            if (e.target.classList.contains(\"comment-reply-link\")) {\n                e.preventDefault();\n                e.stopPropagation();\n                let data_commentid = e.target.getAttribute(\"data-commentid\");\n                addComment.moveForm(\"comment-\" + data_commentid, data_commentid, \"respond\", this.getAttribute(\"data-postid\"));\n            }\n        })\n    }\n    cm && cm.addEventListener(\"click\", (e) => {\n        let list = e.target.parentNode;\n        if (list.classList.contains(\"sm\")) {\n            let msg = \"您真的要设为私密吗？\";\n            if (confirm(msg) == true) {\n                if (list.classList.contains('private_now')) {\n                    alert('您之前已设过私密评论');\n                    return false;\n                } else {\n                    list.classList.add('private_now');\n                    let idp = list.getAttribute(\"data-idp\"),\n                        actionp = list.getAttribute(\"data-actionp\"),\n                        rateHolderp = list.getElementsByClassName('has_set_private')[0];\n                    let ajax_data = \"action=siren_private&p_id=\" + idp + \"&p_action=\" + actionp;\n                    let request = new XMLHttpRequest();\n                    request.onreadystatechange = function () {\n                        if (this.readyState == 4 && this.status == 200) {\n                            rateHolderp.innerHTML = request.responseText;\n                        }\n                    };\n                    request.open('POST', '/wp-admin/admin-ajax.php', true);\n                    request.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\n                    request.send(ajax_data);\n                    return false;\n                }\n            } else {\n                alert(\"已取消\");\n            }\n        }\n    })\n}\n\nlet comt = document.getElementsByClassName(\"comt-addsmilies\");\nif (comt.length > 0) {\n    Array.from(comt, (e) => {\n        e.addEventListener(\"click\", () => {\n            if (e.stlye.display == \"block\") {\n                e.style.display = \"none\";\n            } else {\n                e.style.display = \"block\";\n            }\n        })\n    })\n}\nlet comta = document.querySelectorAll(\".comt-smilies a\");\ncomta.forEach((e) => {\n    e.addEventListener(\"click\", () => {\n        e.parentNode.style.display = \"none\";\n    })\n})\nfunction smileBoxToggle() {\n    let et = document.getElementById(\"emotion-toggle\");\n    et && et.addEventListener('click', function () {\n        document.querySelector('.emotion-toggle-off').classList.toggle(\"emotion-hide\");\n        document.querySelector('.emotion-toggle-on').classList.toggle(\"emotion-show\");\n        document.querySelector('.emotion-box').classList.toggle(\"emotion-box-show\");\n    })\n}\nsmileBoxToggle();\n\nadd_copyright()\n\n\nif (mashiro_option.float_player_on) {\n    if (document.body.clientWidth > 860) {\n        import('./aplayer').then(({ aplayerInit }) => aplayerInit())\n    }\n}\n\nfunction getqqinfo() {\n    let is_get_by_qq = false;\n    const i_author = document.querySelector(\"input#author\"),\n        i_qq = document.querySelector(\"input#qq\"),\n        i_email = document.querySelector(\"input#email\"),\n        i_url = document.querySelector(\"input#url\"),\n        qq_check = document.querySelector(\".qq-check\"),\n        gravatar_check = document.querySelector(\".gravatar-check\"),\n        user_avatar_img = document.querySelector(\"div.comment-user-avatar img\");\n    if (i_author == null) return;\n    if (!localStorage.getItem('user_qq') && !localStorage.getItem('user_qq_email') && !localStorage.getItem('user_author')) {\n        i_qq.value = i_author.value = i_email.value = i_url.value = \"\";\n    }\n    if (localStorage.getItem('user_avatar') && localStorage.getItem('user_qq') && localStorage.getItem('user_qq_email')) {\n        user_avatar_img.setAttribute('src', localStorage.getItem('user_avatar'));\n        i_author.value = localStorage.getItem('user_author');\n        i_email.value = localStorage.getItem('user_qq') + '@qq.com';\n        i_qq.value = localStorage.getItem('user_qq');\n        if (mashiro_option.qzone_autocomplete) {\n            i_url.value = 'https://user.qzone.qq.com/' + localStorage.getItem('user_qq');\n        }\n        if (i_qq.value) {\n            qq_check.style.display = \"block\";\n            gravatar_check.style.display = \"none\";\n        }\n    }\n    let emailAddressFlag = i_email.value;\n    //var emailAddressFlag = cached.filter('#email').val();\n    i_author.addEventListener('blur', () => {\n        // })\n        //cached.filter('#author').on('blur', function () {\n        const qq = i_author.value,\n            reg_QQ = /^[1-9]\\d{4,9}$/;\n        if (reg_QQ.test(qq)) {\n            const whileFailed = () => {\n                i_qq.value = '';\n                qq_check.style.display = 'none';\n                gravatar_check.style.display = 'block';\n                user_avatar_img.setAttribute('src', get_gravatar(i_email.value, 80));\n                localStorage.setItem('user_qq', '');\n                localStorage.setItem('user_email', i_email.value);\n                localStorage.setItem('user_avatar', get_gravatar(i_email.value, 80));\n                /***/\n                /*         qq.value = email.value = url.value = \"\";\n                        if (!qq.value) {\n                            qq_check.style.display = 'none';\n                            gravatar_check.style.display = 'block';\n                            setCookie('user_qq', '', 30);\n                            user_avatar_img.setAttribute('src', get_gravatar(email.value, 80));\n                            setCookie('user_avatar', get_gravatar(email.value, 80), 30);\n                        } */\n            }\n            fetch(buildAPI(mashiro_option.qq_api_url, { qq: qq }))\n                .then(async resp => {\n                    if (resp.ok) {\n                        //success\n                        try {\n                            const data = await resp.json()\n                            i_author.value = data.name;\n                            i_email.value = qq.trim() + '@qq.com';\n                            if (mashiro_option.qzone_autocomplete) {\n                                i_url.value = 'https://user.qzone.qq.com/' + qq.trim();\n                            }\n                            user_avatar_img.setAttribute('src', 'https://q2.qlogo.cn/headimg_dl?dst_uin=' + qq + '&spec=100');\n                            is_get_by_qq = true;\n                            i_qq.value = qq.trim();\n                            if (i_qq.value) {\n                                qq_check.style.display = 'block';\n                                gravatar_check.style.display = 'none';\n                            }\n                            localStorage.setItem('user_author', data.name);\n                            localStorage.setItem('user_qq', qq);\n                            localStorage.setItem('is_user_qq', 'yes');\n                            localStorage.setItem('user_qq_email', qq + '@qq.com');\n                            localStorage.setItem('user_email', qq + '@qq.com');\n                            emailAddressFlag = i_email.value;\n                            /***/\n                            user_avatar_img.setAttribute('src', data.avatar);\n                            localStorage.setItem('user_avatar', data.avatar);\n                        } catch (e) {\n                            console.warn(e)\n                            whileFailed()\n                        }\n                    } else {\n                        whileFailed()\n                    }\n                })\n        }\n    });\n    if (localStorage.getItem('user_avatar') && localStorage.getItem('user_email') && localStorage.getItem('is_user_qq') == 'no' && !localStorage.getItem('user_qq_email')) {\n        user_avatar_img.setAttribute(\"src\", localStorage.getItem('user_avatar'));\n        i_email.value = localStorage.getItem('user_mail');\n        i_qq.value = '';\n        if (!i_qq.value) {\n            qq_check.style.display = \"none\";\n            gravatar_check.style.display = \"block\";\n        }\n        // $('div.comment-user-avatar img').attr('src', getCookie('user_avatar'));\n        // cached.filter('#email').val(getCookie('user_email'));\n        // cached.filter('#qq').val('');\n        // if (!cached.filter('#qq').val()) {\n        //     $('.qq-check').css('display', 'none');\n        //     $('.gravatar-check').css('display', 'block');\n        // }\n    }\n    i_email.addEventListener(\"blur\", function () {\n        //cached.filter('#email').on('blur', function () {\n        let emailAddress = i_email.value;\n        // var emailAddress = cached.filter('#email').val();\n        if ((is_get_by_qq == false || emailAddressFlag != emailAddress) && emailAddress != '') {\n            user_avatar_img.setAttribute(\"src\", get_gravatar(emailAddress, 80));\n            //$('div.comment-user-avatar img').attr('src', get_gravatar(emailAddress, 80));\n            localStorage.setItem('user_avatar', get_gravatar(emailAddress, 80));\n            localStorage.setItem('user_email', emailAddress);\n            localStorage.setItem('user_qq_email', '');\n            localStorage.setItem('is_user_qq', 'no');\n            i_qq.value = '';\n            // cached.filter('#qq').val('');\n            if (!i_qq.value) {\n                qq_check.style.display = \"none\";\n                gravatar_check.style.display = \"block\";\n                // $('.qq-check').css('display', 'none');\n                // $('.gravatar-check').css('display', 'block');\n            }\n        }\n    });\n    if (localStorage.getItem('user_url')) {\n        i_url.value = localStorage.getItem(\"user_url\");\n        // cached.filter('#url').val(getCookie('user_url'));\n    }\n    i_url.addEventListener(\"blur\", function () {\n        //cached.filter('#url').on('blur', function () {\n        let URL_Address = i_url.value;\n        i_url.value = URL_Address;\n        // var URL_Address = cached.filter('#url').val();\n        // cached.filter('#url').val(URL_Address);\n        localStorage.setItem('user_url', URL_Address);\n    });\n    if (localStorage.getItem('user_author')) {\n        i_author.value = localStorage.getItem('user_author');\n        // cached.filter('#author').val(getCookie('user_author'));\n    }\n    i_author.addEventListener(\"blur\", function () {\n        // cached.filter('#author').on('blur', function () {\n        let user_name = i_author.value;\n        i_author.value = user_name;\n        // var user_name = cached.filter('#author').val();\n        // cached.filter('#author').val(user_name);\n        localStorage.setItem('user_author', user_name);\n    });\n}\n\nfunction activate_widget() {\n    let secondary = document.getElementById(\"secondary\");\n    if (document.body.clientWidth > 860) {\n        let show_hide = document.querySelector(\".show-hide\");\n        show_hide && show_hide.addEventListener(\"click\", function () {\n            secondary && secondary.classList.toggle(\"active\");\n        });\n    } else {\n        secondary && secondary.remove();\n    }\n}\nsetTimeout(function () {\n    activate_widget();\n}, 100);\n\nfunction load_bangumi() {\n    const sections = document.getElementsByTagName(\"section\")\n    let _flag = false;\n    for (let i = 0; i < sections.length; i++) {\n        if (sections[i].classList.contains(\"bangumi\")) {\n            _flag = true;\n            break\n        }\n    }\n    if (_flag) {\n        document.addEventListener('click', function (e) {\n            const target = e.target;\n            if (target === document.querySelector(\"#bangumi-pagination a\")) {\n                e.preventDefault();\n                e.stopPropagation();\n                target.classList.add(\"loading\");\n                target.textContent = \"\";\n                const xhr = new XMLHttpRequest();\n                xhr.open('POST', target.href + \"&_wpnonce=\" + Poi.nonce, true);\n                xhr.onreadystatechange = function () {\n                    if (xhr.readyState == 4 && xhr.status == 200) {\n                        let html = JSON.parse(xhr.responseText),\n                            bfan = document.getElementById(\"bangumi-pagination\"),\n                            row = document.getElementsByClassName(\"row\")[0];\n                        bfan.remove();\n                        row.insertAdjacentHTML('beforeend', html);\n                    } else {\n                        target.classList.remove(\"loading\");\n                        target.innerHTML = '<i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> ERROR ';\n                    }\n                };\n                xhr.send();\n            }\n        });\n    }\n}\n\nmashiro_global.ini.normalize();\nloadCSS(mashiro_option.jsdelivr_css_src);\nloadCSS(mashiro_option.entry_content_style_src);\nloadCSS(\"https://at.alicdn.com/t/font_679578_qyt5qzzavdo39pb9.css\");\n\nfunction article_attach() {\n    //收缩、展开\n    /* jQuery(document).ready(\n    function(jQuery){\n        jQuery('.collapseButton').click(function(){\n        jQuery(this).parent().parent().find('.xContent').slideToggle('slow');\n        });\n        }) */\n    const collapseButton = document.getElementsByClassName('collapseButton')\n    if (collapseButton.length > 0) {\n        const collapseListener = (e) => {\n            slideToggle(e.target.parentNode.parentNode.parentNode.querySelector(\".xContent\"));\n            // e.parentNode.parentNode.querySelector(\".xContent\")\n        }\n        for (const ele of collapseButton) {\n            ele.addEventListener(\"click\", collapseListener)\n        }\n        // import('jquery').then(({ default: jQuery }) => {\n        //     jQuery('.collapseButton').on(\"click\", function () {\n        //         jQuery(this).parent().parent().find('.xContent').slideToggle('slow');\n        //     })\n        // })\n    }\n    //init lightbox\n    if (mashiro_option.baguetteBoxON) {\n        loadCSS('https://cdn.jsdelivr.net/npm/baguettebox.js@1.11.1/dist/baguetteBox.min.css')\n        import('baguettebox.js').then(({ default: baguetteBox }) => {\n            baguetteBox.run('.entry-content', {\n                captions: function (element) {\n                    return element.getElementsByTagName('img')[0].alt;\n                },\n                ignoreClass: 'fancybox',\n            });\n        })\n    } else if (mashiro_option.fancybox) {\n        loadCSS('https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css')\n        import('jquery').then((jQuery) => {\n            window.jQuery = jQuery.default\n            window.$ = jQuery.default\n            import('@fancyapps/fancybox')\n        })\n    }\n}\n//#region Siren\nconst s = document.getElementById(\"bgvideo\");\nfunction MN() {\n    let iconflat = document.querySelector(\".iconflat\");\n    iconflat && iconflat.addEventListener(\"click\", function () {\n        document.body.classList.toggle(\"navOpen\");\n        document.getElementById(\"main-container\").classList.toggle(\"open\");\n        document.getElementById(\"mo-nav\").classList.toggle(\"open\");\n        document.querySelector(\".openNav\").classList.toggle(\"open\");\n    });\n}\nfunction MNH() {\n    if (document.body.classList.contains(\"navOpen\")) {\n        document.body.classList.toggle(\"navOpen\");\n        document.getElementById(\"main-container\").classList.toggle(\"open\");\n        document.getElementById(\"mo-nav\").classList.toggle(\"open\");\n        document.querySelector(\".openNav\").classList.toggle(\"open\");\n    }\n}\nfunction splay() {\n    let video_btn = document.getElementById(\"video-btn\");\n    if (video_btn) {\n        video_btn.classList.add(\"video-pause\");\n        video_btn.classList.remove(\"video-play\");\n        video_btn.style.display = \"\";\n    }\n    try {\n        document.querySelector(\".video-stu\").style.bottom = \"-100px\";\n        document.querySelector(\".focusinfo\").style.top = \"-999px\";\n        if (mashiro_option.float_player_on) {\n            import('./aplayer').then(({ destroyAllAplayer }) => {\n                destroyAllAplayer()\n                s.play();\n            })\n            return\n        }\n    } catch (e) {\n        console.warn(e)\n    }\n    s.play();\n} function spause() {\n    let video_btn = document.getElementById(\"video-btn\");\n    if (video_btn) {\n        video_btn.classList.add(\"video-play\");\n        video_btn.classList.remove(\"video-pause\");\n    }\n    try {\n        document.querySelector(\".focusinfo\").style.top = \"49.3%\";\n    } catch { }\n    s.pause();\n}\nfunction liveplay() {\n    if (s.oncanplay != undefined && document.querySelector(\".haslive\")) {\n        if (document.querySelector(\".videolive\")) {\n            splay();\n        }\n    }\n}\nfunction livepause() {\n    if (s.oncanplay != undefined && document.querySelector(\".haslive\")) {\n        spause();\n        let video_stu = document.getElementsByClassName(\"video-stu\")[0];\n        video_stu.style.bottom = \"0px\";\n        video_stu.innerHTML = \"已暂停 ...\";\n    }\n}\nfunction addsource() {\n    let video_stu = document.getElementsByClassName(\"video-stu\")[0];\n    video_stu.innerHTML = \"正在载入视频 ...\";\n    video_stu.style.bottom = \"0px\";\n    let t = Poi.movies.name.split(\",\"),\n        _t = t[Math.floor(Math.random() * t.length)],\n        bgvideo = document.getElementById(\"bgvideo\");\n    bgvideo.setAttribute(\"src\", Poi.movies.url + '/' + _t + '.mp4');\n    bgvideo.setAttribute(\"video-name\", _t);\n}\nfunction LV() {\n    let video_btn = document.getElementById(\"video-btn\");\n    if (video_btn) video_btn.addEventListener(\"click\", function () {\n        if (this.classList.contains(\"loadvideo\")) {\n            this.classList.add(\"video-pause\");\n            this.classList.remove(\"loadvideo\");\n            addsource();\n            s.oncanplay = function () {\n                splay();\n                document.getElementById(\"video-add\").style.display = \"block\";\n                video_btn.classList.add(\"videolive\", \"haslive\");\n            }\n        } else {\n            if (this.classList.contains(\"video-pause\")) {\n                spause();\n                video_btn.classList.remove(\"videolive\");\n                document.getElementsByClassName(\"video-stu\")[0].style.bottom = \"0px\";\n                document.getElementsByClassName(\"video-stu\")[0].innerHTML = \"已暂停 ...\";\n            } else {\n                splay();\n                video_btn.classList.add(\"videolive\");\n            }\n        }\n        s.onended = function () {\n            s.setAttribute(\"src\", \"\");\n            document.getElementById(\"video-add\").style.display = \"none\";\n            video_btn && video_btn.classList.add(\"loadvideo\");\n            video_btn && video_btn.classList.remove(\"video-pause\", \"videolive\", \"haslive\");\n            document.querySelector(\".focusinfo\").style.top = \"49.3%\";\n        }\n    });\n    const video_add = document.getElementById(\"video-add\")\n    if (video_add) video_add.addEventListener(\"click\", function () {\n        addsource();\n    });\n}\nfunction auto_height() {\n    if (Poi.windowheight == 'auto') {\n        if (document.querySelector(\"h1.main-title\")) {\n            //let _height = document.documentElement.clientHeight + \"px\";\n            const centerbg = document.getElementById(\"centerbg\")\n            const bgvideo = document.getElementById(\"bgvideo\")\n            if (centerbg) centerbg.style.height = \"100vh\";\n            if (bgvideo) bgvideo.style.minHeight = \"100vh\";\n        }\n    } else {\n        document.querySelector(\".headertop\") && document.querySelector(\".headertop\").classList.add(\"headertop-bar\");\n    }\n}\nfunction PE() {\n    if (document.querySelector(\".headertop\")) {\n        let headertop = document.querySelector(\".headertop\"),\n            blank = document.querySelector(\".blank\");\n        if (document.querySelector(\".main-title\")) {\n            try {\n                blank.style.paddingTop = \"0px\";\n            } catch (e) { }\n            headertop.style.height = \"auto\";\n            headertop.style.display = \"\";\n            if (Poi.movies.live == 'open') liveplay();\n        } else {\n            try {\n                blank.style.paddingTop = \"75px\";\n            } catch (e) { }\n            headertop.style.height = \"0px\";\n            headertop.style.display = \"none\";\n            livepause();\n        }\n    }\n}\nfunction CE() {\n    let comments_hidden = document.querySelector(\".comments-hidden\");\n    let comments_main = document.querySelector(\".comments-main\");\n    if (comments_hidden != null) {\n        comments_hidden.style.display = \"block\";\n        comments_main.style.display = \"none\";\n        comments_hidden.addEventListener(\"click\", function () {\n            slideToggle(comments_main, 500, 'show');\n            comments_hidden.style.display = \"none\";\n        });\n    }\n    let archives = document.getElementsByClassName(\"archives\");\n    if (archives.length > 0) {\n        for (let i = 0; i < archives.length; i++) {\n            archives[i].style.display = \"none\";\n        }\n        archives[0].style.display = \"\";\n        let h3 = document.getElementById(\"archives-temp\").getElementsByTagName(\"h3\");\n        for (let i = 0; i < h3.length; i++) {\n            h3[i].addEventListener(\"click\", (e) => {\n                e.preventDefault();\n                e.stopPropagation();\n                slideToggle(e.target.nextElementSibling, 300);\n            })\n        }\n    }\n    // $('.comments-hidden').show();\n    // $('.comments-main').hide();\n    // $('.comments-hidden').click(function () {\n    //     $('.comments-main').slideDown(500);\n    //     $('.comments-hidden').hide();\n    // });\n    // $('.archives').hide();\n    // $('.archives:first').show();\n    // $('#archives-temp h3').click(function () {\n    //     $(this).next().slideToggle('fast');\n    //     return false;\n    // });\n    /*if (mashiro_option.baguetteBoxON) {\n        baguetteBox.run('.entry-content', {\n            captions: function (element) {\n                return element.getElementsByTagName('img')[0].alt;\n            },\n            ignoreClass: 'fancybox',\n        });\n    }*/\n    article_attach()\n    const callback = function () {\n        //$('.js-toggle-search').toggleClass('is-active');\n        document.getElementsByClassName('js-toggle-search')[0].classList.toggle('is-active')\n        //$('.js-search').toggleClass('is-visible');\n        document.getElementsByClassName('js-search')[0].classList.toggle('is-visible')\n        //$('html').css('overflow-y', 'hidden');\n        document.documentElement.style.overflowY = 'hidden'\n        if (mashiro_option.live_search) {\n            var QueryStorage = [];\n            search_a(buildAPI(Poi.api + \"sakura/v1/cache_search/json\"));\n\n            var otxt = document.getElementById(\"search-input\"),\n                list = document.getElementById(\"PostlistBox\"),\n                Record = list.innerHTML,\n                searchFlag = null;\n            otxt.oninput = function () {\n                if (searchFlag == null) {\n                    clearTimeout(searchFlag);\n                }\n                searchFlag = setTimeout(function () {\n                    query(QueryStorage, otxt.value, Record);\n                    div_href();\n                }, 250);\n            };\n\n            function search_a(val) {\n                if (sessionStorage.getItem('search') != null) {\n                    QueryStorage = JSON.parse(sessionStorage.getItem('search'));\n                    query(QueryStorage, document.getElementById(\"search-input\").value, Record);\n                    div_href();\n                } else {\n                    fetch(val)\n                        .then(async resp => {\n                            if (resp.ok) {\n                                const json = await resp.text()\n                                if (json != \"\") {\n                                    sessionStorage.setItem('search', json);\n                                    QueryStorage = JSON.parse(json);\n                                    query(QueryStorage, otxt.value, Record);\n                                    div_href();\n                                }\n                            } else {\n                                console.warn('HTTP ' + resp.status)\n                            }\n                        })\n                        .catch(reason => console.warn(reason))\n                }\n            }\n            /*                     if (!Object.values) Object.values = function (obj) {\n                                    if (obj !== Object(obj))\n                                        throw new TypeError('Object.values called on a non-object');\n                                    var val = [],\n                                        key;\n                                    for (key in obj) {\n                                        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n                                            val.push(obj[key]);\n                                        }\n                                    }\n                                    return val;\n                                } */\n\n            function Cx(array, query) {\n                for (let s = 0; s < query.length; s++) {\n                    if (['.', '?', '*'].indexOf(query[s]) != -1) {\n                        query = query.slice(0, s) + \"\\\\\" + query.slice(s);\n                        s++;\n                    }\n                }\n                query = query.replace(query, \"^(?=.*?\" + query + \").+$\").replace(/\\s/g, \")(?=.*?\");\n                return array.filter(\n                    v => Object.values(v).some(\n                        v => new RegExp(query + '').test(v)\n                    )\n                );\n            }\n\n            function div_href() {\n                const search_close = document.querySelector(\".search_close\")\n                const Ty = document.getElementById('Ty')\n                for (const ele of document.getElementsByClassName('ins-selectable')) {\n                    ele.addEventListener(\"click\", () => {\n                        Ty.href = ele.getAttribute('href')\n                        Ty.click()\n                        search_close.click()\n                    });\n                }\n                /* $(\".ins-selectable\").each(function () {\n                    $(this).click(function () {\n                        $(\"#Ty\").attr('href', $(this).attr('href'));\n                        $(\"#Ty\").click();\n                        $(\".search_close\").click();\n                    });\n                }); */\n            }\n\n            function search_result(keyword, link, fa, title, iconfont, comments, text) {\n                if (keyword) {\n                    var s = keyword.trim().split(\" \"),\n                        a = title.indexOf(s[s.length - 1]),\n                        b = text.indexOf(s[s.length - 1]);\n                    title = a < 60 ? title.slice(0, 80) : title.slice(a - 30, a + 30);\n                    title = title.replace(s[s.length - 1], '<mark class=\"search-keyword\"> ' + s[s.length - 1].toUpperCase() + ' </mark>');\n                    text = b < 60 ? text.slice(0, 80) : text.slice(b - 30, b + 30);\n                    text = text.replace(s[s.length - 1], '<mark class=\"search-keyword\"> ' + s[s.length - 1].toUpperCase() + ' </mark>');\n                }\n                return '<div class=\"ins-selectable ins-search-item\" href=\"' + link + '\"><header><i class=\"fa fa-' + fa + '\" aria-hidden=\"true\"></i>' + title + '<i class=\"iconfont icon-' + iconfont + '\"> ' + comments + '</i>' + '</header><p class=\"ins-search-preview\">' + text + '</p></div>';\n            }\n\n            function query(B, A, z) {\n                var x, v, s, y = \"\",\n                    w = \"\",\n                    u = \"\",\n                    r = \"\",\n                    p = \"\",\n                    F = \"\",\n                    H = \"\",\n                    G = '<section class=\"ins-section\"><header class=\"ins-section-header\">',\n                    D = \"</section>\",\n                    E = \"</header>\",\n                    C = Cx(B, A.trim());\n                for (x = 0; x < Object.keys(C).length; x++) {\n                    H = C[x];\n                    switch (v = H.type) {\n                        case \"post\":\n                            w = w + search_result(A, H.link, \"file\", H.title, \"mark\", H.comments, H.text);\n                            break;\n                        case \"tag\":\n                            p = p + search_result(\"\", H.link, \"tag\", H.title, \"none\", \"\", \"\");\n                            break;\n                        case \"category\":\n                            r = r + search_result(\"\", H.link, \"folder\", H.title, \"none\", \"\", \"\");\n                            break;\n                        case \"page\":\n                            u = u + search_result(A, H.link, \"file\", H.title, \"mark\", H.comments, H.text);\n                            break;\n                        case \"comment\":\n                            F = F + search_result(A, H.link, \"comment\", H.title, \"none\", \"\", H.text);\n                            break\n                    }\n                }\n                w && (y = y + G + \"文章\" + E + w + D), u && (y = y + G + \"页面\" + E + u + D), r && (y = y + G + \"分类\" + E + r + D), p && (y = y + G + \"标签\" + E + p + D), F && (y = y + G + \"评论\" + E + F + D), s = document.getElementById(\"PostlistBox\"), s.innerHTML = y\n            }\n        }\n    }\n    for (const ele of document.getElementsByClassName('js-toggle-search')) {\n        ele.addEventListener('click', callback);\n    }\n\n    const sc = document.querySelector(\".search_close\");\n    sc && sc.addEventListener(\"click\", function () {\n        let js_search = document.getElementsByClassName(\"js-search\")[0];\n        if (js_search.classList.contains(\"is-visible\")) {\n            document.getElementsByClassName(\"js-toggle-search\")[0].classList.toggle(\"is-active\");\n            js_search.classList.toggle(\"is-visible\");\n            document.documentElement.style.overflowY = \"unset\";\n        }\n    });\n    try {\n        let show_Nav = document.getElementById(\"show-nav\");\n        show_Nav.addEventListener(\"click\", function () {\n            if (show_Nav.classList.contains(\"showNav\")) {\n                show_Nav.classList.remove(\"showNav\");\n                show_Nav.classList.add(\"hideNav\");\n                let sln = document.querySelector(\".site-top .lower nav\");\n                sln && sln.classList.add(\"navbar\");\n            } else {\n                show_Nav.classList.remove(\"hideNav\");\n                show_Nav.classList.add(\"showNav\");\n                let sln = document.querySelector(\".site-top .lower nav\");\n                sln && sln.classList.remove(\"navbar\");\n            }\n        });\n        document.getElementById(\"loading\").addEventListener(\"click\", function () {\n            let loading = document.getElementById(\"loading\");\n            loading.classList.add(\"hide\");\n            loading.classList.remove(\"show\");\n        });\n    } catch (e) { }\n}\nfunction NH() {\n    const thresold = 0,\n        siteHeader = document.querySelector(\".site-header\")\n    window.addEventListener(\"scroll\", () => {\n        const scrollTop = document.documentElement.scrollTop || window.pageYOffset;\n        if (scrollTop > thresold) {\n            siteHeader.classList.add(\"yya\");\n        } else {\n            siteHeader.classList.remove(\"yya\");\n        }\n    })\n    //     $(window).scroll(function () {\n    //         var s = $(document).scrollTop(),\n    //             cached = $('.site-header');\n    //         if (s == h1) {\n    //             cached.removeClass('yya');\n    //         }\n    //         if (s > h1) {\n    //             cached.addClass('yya');\n    //         }\n    // });\n}\nconst load_post = onlyOnceATime(function load_post() {\n    const now_href = document.location.href\n    const pagination_a = document.querySelector('#pagination a');\n    pagination_a.classList.add(\"loading\");\n    pagination_a.innerText = \"\";\n\n    // $('#pagination a').addClass(\"loading\").text(\"\");\n    fetch(pagination_a.getAttribute(\"href\") + \"#main\")\n        .then(async resp => {\n            const text = await resp.text()\n            const parser = new DOMParser(),\n                DOM = parser.parseFromString(text, \"text/html\"),\n                result = DOM.querySelectorAll(\"#main .post\"),\n                paga = DOM.querySelector(\"#pagination a\"),\n                paga_innerText = paga && paga.innerText,\n                nextHref = paga && paga.getAttribute(\"href\"),\n                main = document.getElementById(\"main\")\n            //在进行DOM操作前检查页面是否已经变化，防止错误加载到其他页面上\n            if (now_href != document.location.href) return /**如果页面状态发生了变化，那么也应该不用理加载提示符 */\n            for (let i = 0; i < result.length; i++) {\n                main.append(result[i])\n            }\n            if (Poi.pjax) (await pjax).refresh(document.querySelector(\"#content\"));\n            //if (resp.ok) {\n            // result = $(data).find(\"#main .post\");\n            // nextHref = $(data).find(\"#pagination a\").attr(\"href\");\n            // $(\"#main\").append(result.fadeIn(500));\n            const dpga = document.querySelector(\"#pagination a\"),\n                addps = document.querySelector(\"#add_post span\");\n            if (dpga) {\n                dpga.classList.remove(\"loading\");\n                dpga.innerText = paga_innerText;\n            }\n            if (addps) {\n                addps.classList.remove(\"loading\");\n                addps.innerText = \"\";\n            }\n            // $(\"#pagination a\").removeClass(\"loading\").text(\"Previous\");\n            // $('#add_post span').removeClass(\"loading\").text(\"\");\n            lazyload();\n            post_list_show_animation();\n            if (nextHref != undefined) {\n                pagination_a.setAttribute(\"href\", nextHref);\n                // $(\"#pagination a\").attr(\"href\", nextHref);\n                //加载完成上滑\n                let tempScrollTop = document.documentElement.scrollTop || window.pageYOffset || document.body.scrollTop;;\n                // window.scrollTo(tempScrollTop);\n                // $(window).scrollTop(tempScrollTop);\n                window.scrollTo({\n                    top: tempScrollTop + 300,\n                    behavior: 'smooth'\n                })\n                // $body.animate({\n                //     scrollTop: tempScrollTop + 300\n                //\n                // }, 666)\n            } else {\n                document.getElementById(\"pagination\").innerHTML = \"<span>很高兴你翻到这里，但是真的没有了...</span>\";\n                // $(\"#pagination\").html(\"<span>很高兴你翻到这里，但是真的没有了...</span>\");\n            }\n            //}\n\n        })\n    /*  $.ajax({\n         type: \"POST\",\n         url: $('#pagination a').attr(\"href\") + \"#main\",\n         success: function (data) {\n             result = $(data).find(\"#main .post\");\n             nextHref = $(data).find(\"#pagination a\").attr(\"href\");\n             $(\"#main\").append(result.fadeIn(500));\n             $(\"#pagination a\").removeClass(\"loading\").text(\"Previous\");\n             $('#add_post span').removeClass(\"loading\").text(\"\");\n             lazyload();\n             post_list_show_animation();\n             if (nextHref != undefined) {\n                 $(\"#pagination a\").attr(\"href\", nextHref);\n                 //加载完成上滑\n                 var tempScrollTop = $(window).scrollTop();\n                 $(window).scrollTop(tempScrollTop);\n                 $body.animate({\n                     scrollTop: tempScrollTop + 300\n\n                 }, 666)\n             } else {\n                 $(\"#pagination\").html(\"<span>很高兴你翻到这里，但是真的没有了...</span>\");\n             }\n         }\n     }); */\n})\n\nfunction XLS() {\n    let load_post_timer;\n    const intersectionObserver = new IntersectionObserver(function (entries) {\n        if (entries[0].intersectionRatio <= 0) return;\n        // var page_next = $('#pagination a').attr(\"href\");\n        const _page_next = document.querySelector('#pagination a')\n        if (_page_next) {\n            const page_next = _page_next.getAttribute(\"href\"),\n                load_key = document.getElementById(\"add_post_time\");\n            if (page_next != undefined && load_key) {\n                const load_time = document.getElementById(\"add_post_time\").title;\n                if (load_time != \"233\") {\n                    console.log(\"%c 自动加载时倒计时 %c\", \"background:#9a9da2; color:#ffffff; border-radius:4px;\", \"\", \"\", load_time);\n                    load_post_timer = setTimeout(function () {\n                        load_post();\n                    }, load_time * 1000);\n                }\n            }\n        }\n    });\n    intersectionObserver.observe(\n        document.querySelector('.footer-device')\n    );\n    //TODO:fix:监听器重复挂载\n    document.body.addEventListener(\"click\", function (e) {\n        if (e.target == document.querySelector(\"#pagination a\")) {\n            e.preventDefault();\n            e.stopPropagation();\n            clearTimeout(load_post_timer);\n            load_post();\n        }\n    })\n}\nfunction XCS() {\n    const __list = 'commentwrap';\n    const form = document.getElementById(\"commentform\")\n    if (form) {\n        let statusSubmitting = false\n        form.addEventListener('submit', function (event) {\n            event.stopPropagation()\n            event.preventDefault();\n            if (statusSubmitting) return\n            const butterBarRef = createButterbar(\"提交中(Commiting)....\", true)\n            const form = new FormData(this)\n            form.append('action', 'ajax_comment')\n            statusSubmitting = true\n            fetch(Poi.ajaxurl, {\n                method: this.attributes.method.value,\n                body: form\n            }).then(async resp => {\n                const data = await resp.text()\n                if (resp.ok) {\n                    Array.from(document.getElementsByTagName('textarea'))\n                        .forEach((e) => e.value = '')\n                    const cancel = document.getElementById('cancel-comment-reply-link'),\n                        temp = document.getElementById('wp-temp-form-div'),\n                        respond = document.getElementById(addComment.respondId),\n                        //post = document.getElementById('comment_post_ID').value,\n                        parent = document.getElementById('comment_parent').value;\n                    if (parent != '0') {\n                        //jQuery('#respond').before('<ol class=\"children\">' + data + '</ol>');\n                        document.getElementById(\"respond\").insertAdjacentHTML('beforebegin', '<ol class=\"children\">' + data + '</ol>');\n                    } else if (!document.getElementsByClassName(__list).length) {\n                        if (Poi.formpostion == 'bottom') {\n                            document.getElementById(\"respond\").insertAdjacentHTML('beforebegin', '<ol class=\"' + __list + '\">' + data + '</ol>');\n                            //jQuery('#respond').before('<ol class=\"' + __list + '\">' + data + '</ol>');\n                        } else {\n                            document.getElementById(\"respond\").insertAdjacentHTML('afterend', '<ol class=\"' + __list + '\">' + data + '</ol>');\n                            //jQuery('#respond').after('<ol class=\"' + __list + '\">' + data + '</ol>');\n                        }\n                    } else {\n                        if (Poi.order == 'asc') {\n                            document.getElementsByClassName(\"commentwrap\")[1].insertAdjacentHTML('beforeend', data);\n                            //jQuery('.' + __list).append(data);\n                        } else {\n                            document.getElementsByClassName(\"commentwrap\")[1].insertAdjacentHTML('afterbegin', data);\n                            //jQuery('.' + __list).prepend(data);\n                        }\n                    }\n                    createButterbar(\"提交成功(Succeed)\");\n                    lazyload();\n                    code_highlight_style();\n                    click_to_view_image();\n                    clean_upload_images();\n                    cancel.style.display = 'none';\n                    cancel.onclick = null;\n                    document.getElementById('comment_parent').value = '0';\n                    if (temp && respond) {\n                        temp.parentNode.insertBefore(respond, temp);\n                        temp.remove();\n                        //temp.parentNode.removeChild(temp)\n                    }\n                } else {\n                    createButterbar(data ?? 'HTTP' + resp.status + ':' + resp.statusText);\n                }\n            }).catch(reason => {\n                createButterbar(reason);\n            }).finally(() => {\n                butterBarRef.remove()\n                statusSubmitting = false\n            })\n            /* jQuery.ajax({\n                url: Poi.ajaxurl,\n                data: jQuery(this).serialize() + \"&action=ajax_comment\",\n                type: jQuery(this).attr('method'),\n                beforeSend: createButterbar(\"提交中(Commiting)....\"),\n                error: function (request) {\n                    var t = addComment;\n                    t.createButterbar(request.responseText);\n                },\n                success: function (data) {\n                    jQuery('textarea').each(function () {\n                        this.value = ''\n                    });\n                    var t = addComment,\n                        cancel = t.I('cancel-comment-reply-link'),\n                        temp = t.I('wp-temp-form-div'),\n                        respond = t.I(t.respondId),\n                        post = t.I('comment_post_ID').value,\n                        parent = t.I('comment_parent').value;\n                    if (parent != '0') {\n                        jQuery('#respond').before('<ol class=\"children\">' + data + '</ol>');\n                    } else if (!jQuery('.' + __list).length) {\n                        if (Poi.formpostion == 'bottom') {\n                            jQuery('#respond').before('<ol class=\"' + __list + '\">' + data + '</ol>');\n                        } else {\n                            jQuery('#respond').after('<ol class=\"' + __list + '\">' + data + '</ol>');\n                        }\n                    } else {\n                        if (Poi.order == 'asc') {\n                            jQuery('.' + __list).append(data);\n                        } else {\n                            jQuery('.' + __list).prepend(data);\n                        }\n                    }\n                    t.createButterbar(\"提交成功(Succeed)\");\n                    lazyload();\n                    code_highlight_style();\n                    click_to_view_image();\n                    clean_upload_images();\n                    cancel.style.display = 'none';\n                    cancel.onclick = null;\n                    t.I('comment_parent').value = '0';\n                    if (temp && respond) {\n                        temp.parentNode.insertBefore(respond, temp);\n                        temp.remove();\n                        //temp.parentNode.removeChild(temp)\n                    }\n                }\n            }); */\n        })\n    }\n}\nfunction XCP() {\n    document.body.addEventListener('click', function (e) {\n        if (e.target.parentNode == document.getElementById(\"comments-navi\") && e.target.nodeName.toLowerCase() == \"a\") {\n            e.preventDefault();\n            e.stopPropagation();\n            let _this = e.target,\n                path = _this.pathname,\n                _xhr = new XMLHttpRequest();\n            _xhr.open(\"GET\", _this.getAttribute('href'), true);\n            _xhr.responseType = \"document\";\n            _xhr.onloadstart = () => {\n                let comments_navi = document.getElementById(\"comments-navi\"),\n                    commentwrap = document.querySelector(\"ul.commentwrap\"),\n                    loading_comments = document.getElementById(\"loading-comments\"),\n                    comments_list = document.getElementById(\"comments-list-title\");\n                comments_navi.remove();\n                commentwrap.remove();\n                //comments_navi.parentNode.removeChild(comments_navi);\n                //commentwrap.parentNode.removeChild(commentwrap);\n                loading_comments.style.display = \"block\";\n                slideToggle(loading_comments, 500, \"show\");\n                window.scrollTo({\n                    top: comments_list.getBoundingClientRect().top + window.pageYOffset - comments_list.clientTop - 65,\n                    behavior: \"smooth\"\n                });\n            }\n            _xhr.onreadystatechange = function () {\n                if (_xhr.readyState == 4 && _xhr.status == 200) {\n                    let json = _xhr.response,\n                        result = json.querySelector(\"ul.commentwrap\"),\n                        nextlink = json.getElementById(\"comments-navi\"),\n                        loading_comments = document.getElementById(\"loading-comments\");\n                    slideToggle(loading_comments, 200, \"hide\");\n                    document.getElementById(\"loading-comments\").insertAdjacentHTML('afterend', result.outerHTML);\n                    document.querySelector(\"ul.commentwrap\").insertAdjacentHTML('afterend', nextlink.outerHTML);\n                    lazyload();\n                    if (window.gtag) {\n                        gtag('config', Poi.google_analytics_id, {\n                            'page_path': path\n                        });\n                    }\n                    code_highlight_style();\n                    click_to_view_image();\n                    let commentwrap = document.querySelector(\"ul.commentwrap\");\n                    window.scrollTo({\n                        top: commentwrap && (commentwrap.getBoundingClientRect().top + window.pageYOffset - commentwrap.clientTop - 200),\n                        behavior: \"smooth\"\n                    });\n                }\n            }\n            _xhr.send();\n        }\n    });\n}\nasync function IA() {\n    const POWERMODE = (await import('activate-power-mode')).default\n    POWERMODE.colorful = true;\n    POWERMODE.shake = false;\n    document.body.addEventListener('input', POWERMODE)\n}\nfunction GT() {\n    let mb_to_top = document.querySelector(\"#moblieGoTop\"),\n        changskin = document.querySelector(\"#changskin\");\n    window.addEventListener(\"scroll\", () => {\n        let scroll = document.documentElement.scrollTop || document.body.scrollTop;\n        if (scroll > 20) {\n            mb_to_top.style.transform = \"scale(1)\";\n            changskin.style.transform = \"scale(1)\";\n        } else {\n            mb_to_top.style.transform = \"scale(0)\";\n            changskin.style.transform = \"scale(0)\";\n        }\n    })\n    mb_to_top.onclick = function () {\n        topFunction();\n    }\n}\n\n//#endregion Siren\nfunction hitokoto(){\n    if (mashiro_option.yiyan) {\n        const yiyan = document.getElementById(\"footer_yiyan\");\n        if (yiyan) {\n            fetch(\"https://api.maho.cc/yiyan/\")\n                .then(async res => {\n                    const data = await res.json()\n                    yiyan.innerText = data['hitokoto'] + \"——\" + data['from']\n                })\n        }\n    }\n}\nif (Poi.pjax) {\n    document.addEventListener(\"pjax:send\", () => {\n        for (const element of document.getElementsByClassName(\"normal-cover-video\")) {\n            element.pause();\n            element.src = '';\n            element.load = '';\n        }\n        document.getElementById(\"bar\").style.width = \"0%\";\n        if (mashiro_option.NProgressON) import('nprogress').then(({ default: NProgress }) => { NProgress.start() })\n        MNH();\n    });\n    document.addEventListener(\"pjax:complete\", function () {\n        auto_height();\n        hitokoto()\n        PE();\n        CE();\n        if (mashiro_option.land_at_home) XLS();\n        if (mashiro_option.NProgressON) import('nprogress').then(({ default: NProgress }) => { NProgress.done() })\n        mashiro_global.ini.pjax();\n        let loading = document.getElementById(\"loading\");\n        if (loading) {\n            loading.classList.add(\"hide\");\n            loading.classList.remove(\"show\");\n        }\n        //未实际使用的选项\n        /* if (Poi.codelamp == 'open') {\n            self.Prism.highlightAll(event)\n        }; */\n        if (document.querySelector(\".js-search.is-visible\")) {\n            document.getElementsByClassName(\"js-toggle-search\")[0].classList.toggle(\"is-active\");\n            document.getElementsByClassName(\"js-search\")[0].classList.toggle(\"is-visible\");\n            document.documentElement.style.overflowY = \"unset\";\n        }\n    });\n    document.addEventListener(\"pjax:success\", function () {\n        if (window.gtag) {\n            gtag('config', Poi.google_analytics_id, {\n                'page_path': window.location.pathname\n            });\n        }\n    });\n    document.addEventListener(\"pjax:error\", (e) => {\n        createButterbar('文章加载出错了 HTTP ' + e.request.status)\n    })\n    window.addEventListener('popstate', function (e) {\n        auto_height();\n        hitokoto()\n        PE();\n        CE();\n        sm();\n        timeSeriesReload(true);\n        post_list_show_animation();\n    }, false);\n}\n\nlet isWebkit = navigator.userAgent.toLowerCase().indexOf('webkit') > -1,\n    isOpera = navigator.userAgent.toLowerCase().indexOf('opera') > -1,\n    isIe = navigator.userAgent.toLowerCase().indexOf('msie') > -1;\nif ((isWebkit || isOpera || isIe) && document.getElementById && window.addEventListener) {\n    window.addEventListener('hashchange', function () {\n        let id = location.hash.substring(1),\n            element;\n        if (!(/^[A-z0-9_-]+$/.test(id))) {\n            return;\n        }\n        element = document.getElementById(id);\n        if (element) {\n            if (!(/^(?:a|select|input|button|textarea)$/i.test(element.tagName))) {\n                element.tabIndex = -1;\n            }\n            element.focus();\n        }\n    }, false);\n}\n\nfunction web_audio() {\n    if (mashiro_option.audio) {\n        window.AudioContext = window.AudioContext || window.webkitAudioContext\n        if (window.AudioContext) {\n            let ctx = new AudioContext,\n                t = \"880 987 1046 987 1046 1318 987 659 659 880 784 880 1046 784 659 659 698 659 698 1046 659 1046 1046 1046 987 698 698 987 987 880 987 1046 987 1046 1318 987 659 659 880 784 880 1046 784 659 698 1046 987 1046 1174 1174 1174 1046 1046 880 987 784 880 1046 1174 1318 1174 1318 1567 1046 987 1046 1318 1318 1174 784 784 880 1046 987 1174 1046 784 784 1396 1318 1174 659 1318 1046 1318 1760 1567 1567 1318 1174 1046 1046 1174 1046 1174 1567 1318 1318 1760 1567 1318 1174 1046 1046 1174 1046 1174 987 880 880 987 880\".split(\" \"),//天空之城\n                /*t = \"329.628 329.628 349.228 391.995 391.995 349.228 329.628 293.665 261.626 261.626 293.665 329.628 329.628 293.665 293.665 329.628 329.628 349.228 391.995 391.995 349.228 329.628 293.665 261.626 261.626 293.665 329.628 293.665 261.626 261.626 293.665 293.665 329.628 261.626 293.665 329.628 349.228 329.628 261.626 293.665 329.628 349.228 329.628 293.665 261.626 293.665 195.998 329.628 329.628 349.228 391.995 391.995 349.228 329.628 293.665 261.626 261.626 293.665 329.628 293.665 261.626 261.626\".split(\" \"),欢乐颂*/\n                i = 0,\n                o = 1,\n                dom,\n                a = \"♪ ♩ ♫ ♬ ♭ € § ¶ ♯\".split(\" \"),\n                selects = document.querySelectorAll(\".site-title, #moblieGoTop, .site-branding, .searchbox, .changeSkin-gear, .menu-list li\");\n            selects.forEach((select) => {\n                select.addEventListener(\"mouseenter\", (e) => {\n                    if (dom) return;\n                    let r = t[i]\n                    if (!r) {\n                        (i = 0, r = t[i])\n                    }\n                    i += o\n                    const c = ctx.createOscillator(),\n                        l = ctx.createGain();\n                    c.connect(l)\n                    l.connect(ctx.destination)\n                    c.type = \"sine\"\n                    c.frequency.value = r\n                    l.gain.setValueAtTime(0, ctx.currentTime)\n                    l.gain.linearRampToValueAtTime(1, ctx.currentTime + .01)\n                    c.start(ctx.currentTime)\n                    l.gain.exponentialRampToValueAtTime(.001, ctx.currentTime + 1)\n                    c.stop(ctx.currentTime + 1)\n                    const d = Math.round(7 * Math.random());\n                    const h = e.pageX\n                    const p = e.pageY - 5\n                    dom = document.createElement(\"b\");\n                    dom.textContent = a[d]\n                    dom.style.zIndex = \"99999\";\n                    dom.style.top = p - 100 + \"px\";\n                    dom.style.left = h + \"px\";\n                    dom.style.position = \"absolute\";\n                    dom.style.color = \"#FF6EB4\";\n                    document.body.appendChild(dom);\n                    dom.animate([\n                        { top: p + \"px\" },\n                        { opacity: 0 }\n                    ], {\n                        duration: 500\n                    })\n                    setTimeout(() => {\n                        dom.remove();\n                        dom = null;\n                    }, 500)\n                    e.stopPropagation();\n\n                })\n            })\n        }\n    }\n}\nconst preload = document.getElementById(\"preload\");\nif (preload) {\n    window.addEventListener('load', () => {\n        document.documentElement.style.overflowY = 'unset';\n        if (mashiro_option.preload_blur != 0) {\n            try {\n                preload.animate(\n                    [\n                        { filter: \"blur(0px)\", backdropFilter: \"blur(10px)\", opacity: 1 },\n                        { backdropFilter: \"blur(0px)grayscale(0)\", opacity: 0.1 },\n                        { opacity: 0, filter: \"blur(100px)\", }\n                    ],\n                    { duration: mashiro_option.preload_blur, fill: \"forwards\", easing: \"ease\" }\n                ).onfinish = () => {\n                    preload.remove()\n                }\n                return\n            } catch (error) {\n                console.warn(error)\n            }\n        }\n        preload.classList.add('hide');\n        preload.classList.remove('show');\n        setTimeout(() => preload.remove(), 233);\n    })\n}\n//afterDOMContentLoaded\nready(function () {\n    initCoverBG()\n    //let checkskin_bg = (a) => a == \"none\" ? \"\" : a;\n    function addChangeBackgroundListener() {\n        const cached = document.querySelectorAll(\".menu-list li\");\n        cached.forEach(e => {\n            e.addEventListener(\"click\", function () {\n                const tagid = this.id;\n                if (tagid == \"dark-bg\") {\n                    turnOnDarkMode(true)\n                } else {\n                    turnOffDarkMode(true)\n                    changeBG(tagid)\n                    localStorage.setItem(\"bgImgSetting\", tagid)\n                }\n                closeSkinMenu();\n            });\n        });\n    }\n    function checkBgImgCookie() {\n        const bgurl = localStorage.getItem(\"bgImgSetting\");\n        if (bgurl) {\n            changeBG(bgurl);\n        }\n    }\n    function closeSkinMenu() {\n        document.querySelector(\".skin-menu\").classList.remove(\"show\");\n        setTimeout(function () {\n            if (document.querySelector(\".changeSkin-gear\") != null) {\n                document.querySelector(\".changeSkin-gear\").style.visibility = \"visible\";\n            }\n        }, 300);\n    }\n    addChangeBackgroundListener();\n    checkBgImgCookie()\n    checkDarkModeSetting();\n\n    let changskin = document.querySelector(\"#changskin\"),\n        close_SkinMenu = document.querySelector(\".skin-menu #close-skinMenu\");\n    changskin && changskin.addEventListener(\"click\", function () {\n        document.querySelector(\".skin-menu\").classList.toggle(\"show\");\n    })\n    close_SkinMenu && close_SkinMenu.addEventListener(\"click\", function () {\n        closeSkinMenu();\n    })\n    add_upload_tips();\n});\nready(function () {\n    auto_height();\n    PE();\n    NH();\n    GT();\n    XLS();\n    XCS();\n    XCP();\n    CE();\n    MN();\n    IA();\n    LV();\n    hitokoto()\n    initFontControl()\n    getqqinfo()\n    bgButtonAddListener()\n    web_audio()\n    console.log(\"%c Mashiro %c\", \"background:#24272A; color:#ffffff\", \"\", \"https://2heng.xin/\");\n    console.log(\"%c Github %c\", \"background:#24272A; color:#ffffff\", \"\", \"https://github.com/mashirozx\");\n});","export const onlyOnceATime = (func) => {\n    let isRunning = false;\n    return (...args) => {\n        if (!isRunning) {\n            isRunning = true;\n            try {\n                const result = func(...args);\n                if (result instanceof Promise) {\n                    result.finally(() => isRunning = false);\n                }\n                else {\n                    isRunning = false;\n                }\n                return result;\n            }\n            catch (e) {\n                console.warn(e);\n                isRunning = false;\n            }\n        }\n    };\n};\nexport const max = (a, b) => a > b ? a : b;\nexport const min = (a, b) => a < b ? a : b;\n"],"sourceRoot":""}