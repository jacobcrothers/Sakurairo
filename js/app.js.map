{"version":3,"sources":["webpack://sakurairo-scripts/webpack/runtime/create fake namespace object","webpack://sakurairo-scripts/webpack/runtime/load script","webpack://sakurairo-scripts/./src/entries/sakura-app/AddComment.ts","webpack://sakurairo-scripts/./src/entries/sakura-app/AplayerInit.ts","webpack://sakurairo-scripts/./src/entries/sakura-app/api.ts","webpack://sakurairo-scripts/./src/entries/sakura-app/copyright.ts","webpack://sakurairo-scripts/./src/entries/sakura-app/darkmode.ts","webpack://sakurairo-scripts/./src/module/cookie.ts","webpack://sakurairo-scripts/webpack/bootstrap","webpack://sakurairo-scripts/webpack/runtime/define property getters","webpack://sakurairo-scripts/webpack/runtime/ensure chunk","webpack://sakurairo-scripts/webpack/runtime/get javascript chunk filename","webpack://sakurairo-scripts/webpack/runtime/global","webpack://sakurairo-scripts/webpack/runtime/hasOwnProperty shorthand","webpack://sakurairo-scripts/webpack/runtime/make namespace object","webpack://sakurairo-scripts/webpack/runtime/publicPath","webpack://sakurairo-scripts/webpack/runtime/jsonp chunk loading","webpack://sakurairo-scripts/./src/entries/sakura-app/index.js"],"names":["leafPrototypes","getProto","inProgress","dataWebpackPrefix","AddComment","respondId","moveForm","commId","parentId","comm","document","getElementById","respond","cancel","parent","div","this","createElement","id","style","display","parentNode","insertBefore","nextSibling","temp","value","remove","_respond","window","scrollTo","top","getBoundingClientRect","pageYOffset","clientTop","behavior","onclick","e","t","focus","clearButterbar","butterBar","getElementsByClassName","length","i","createButterbar","message","showtime","body","insertAdjacentHTML","setTimeout","exports","Object","defineProperty","aplayerInit","aplayers","initAplayer","a","b","default_option","container","audio","mini","fixed","autoplay","mutex","lrcType","listFolded","preload","theme","loop","order","volume","listMaxHeight","customAudioType","storageName","lrc","d","key","key_lowercase","toLowerCase","dataset","hasOwnProperty","push","APlayer","f","hide","console","log","lrcTag","querySelector","addEventListener","show","apSwitchTag","aplayer_body","aplayer_minisw","classList","add","loadMeting","meting_api_path","meting_api","URL","mashiro_option","meting_api_url","searchParams","set","Poi","nonce","destroy","collection","element","api_path","api","params","server","type","fetch","toString","then","async","resp","ok","json","warn","status","statusText","catch","error","xhr","XMLHttpRequest","onreadystatechange","readyState","JSON","parse","responseText","open","send","url","playlist_info","name","title","artist","author","cover","pic","apiPath","path","entries","txt","author_name","location","href","site_name","copytext","selection","getSelection","selectionText","event","selectionTxt","preventDefault","htmlData","join","replace","textData","clipboardData","setData","setClipboardText","addComment","clipboardCopyright","removeEventListener","checkDarkModeCookie","ifDarkmodeShouldOn","turnOffDarkMode","turnOnDarkMode","cookie_1","mediaQuery","matchMedia","mediaQueryCallback","getCookie","matches","darkmode","userTriggered","documentElement","background","backgroundColor","setCookie","bgSetting","clientWidth","backgroundImage","skin_bg0","moblieDarkLight","innerHTML","checkTime","today","Date","getHours","dm_strategy","dark","shouldDarkModeOn","removeCookie","_version_ctrl","cookie_version_control","days","expires","now","toUTCString","cookie","nameEQ","ca","split","c","charAt","substring","indexOf","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","module","__webpack_modules__","call","m","getPrototypeOf","obj","mode","__esModule","ns","create","r","def","current","getOwnPropertyNames","forEach","definition","o","enumerable","get","chunkId","Promise","all","keys","reduce","promises","u","g","globalThis","Function","prop","prototype","l","done","script","needAttach","scripts","getElementsByTagName","s","getAttribute","charset","timeout","nc","setAttribute","src","onScriptComplete","prev","onerror","onload","clearTimeout","doneFns","removeChild","fn","bind","target","head","appendChild","Symbol","toStringTag","scriptUrl","importScripts","currentScript","Error","p","installedChunks","143","j","installedChunkData","promise","resolve","reject","errorType","realSrc","request","webpackJsonpCallback","parentChunkLoadingFunction","data","chunkIds","moreModules","runtime","chunkLoadingGlobal","self","add_copyright","require","UA","navigator","userAgent","reg","version","match","pjax","Firefox","Edg","Chrome","Opera","Version","mashiro_global","variables","has_hls","skinSecter","ini","normalize","lazyload","post_list_show_animation","copy_code_block","web_audio","coverVideoIni","checkSkinSecter","scrollTop","scrollHeight","innerHeight","result","parseInt","cached","width","sc","skinMenu","height","outerHeight","load_bangumi","sm","pjaxInit","buildAPI","slideToogle","el","duration","callback","dom","getComputedStyle","flag","transition","overflow","tagTimer","tagHeight","clientHeight","contains","io","IntersectionObserver","article","willChange","unobserve","isIntersecting","root","threshold","articles","observe","code_highlight_style","pre","code","querySelectorAll","gen_top_bar","attributes","ele_name","children","className","lang","substr","code_a","toUpperCase","hljs","highlightBlock","initLineNumbersOnLoad","ec","toggle","font_control","cbs","cbss","change_font","reply_link_version","cm","stopPropagation","data_commentid","ready","add_upload_tips","form_subit","upload_img","files","size","alert","formData","FormData","append","res","get_the_url","proxy","grin","attach_image","file_subit","hover","Tip","click_to_view_image","original_emoji_click","innerText","pattern","headertop","no_right_click","pri","nodeName","centerbg","type_mobile","random_graphs_mts","cover_api","changeCoverBG","closeSkinMenu","visibility","tagid","skin_bg1","skin_bg2","skin_bg3","skin_bg4","bgurl","click","checkBgImgCookie","changskin","close_SkinMenu","bgn","setBG","cover_api_url","search","bgButtonAddListener","next","timeSeriesReload","archives","al_li","nextElementSibling","al_expand_collapse","cursor","num","textContent","al_post_list","al_post_list_f","al_expand_collapse_click","loadHls","video","video_src","Hls","isSupported","hls","loadSource","attachMedia","on","Events","MANIFEST_PARSED","play","canPlayType","default","ele","ClipboardJS","tableOfContentScroll","heading_fix","entry_content_theme","_els","_el","tocbot","init","tocSelector","contentSelector","headingSelector","headingsOffset","_p","getqqinfo","_div","tla","reloadHermit","iconflat","openNav","smileBoxToggle","list","confirm","idp","actionp","rateHolderp","ajax_data","setRequestHeader","POWERMODE","colorful","shake","comt","et","tag","before","after","myField","sel","createRange","text","selectionStart","startPos","endPos","selectionEnd","cursorPos","Array","from","stlye","float_player_on","is_get_by_qq","qq","email","qq_check","gravatar_check","user_avatar_img","qzone_autocomplete","emailAddressFlag","test","$","ajax","qq_api_url","dataType","success","trim","avatar","get_gravatar","emailAddress","URL_Address","user_name","sections","_flag","html","bfan","row","secondary","show_hide","activate_widget","loadCSS","jsdelivr_css_src","entry_content_style_src","Siren","MN","MNH","splay","video_btn","bottom","ap","hermitInit","spause","pause","liveplay","oncanplay","livepause","video_stu","addsource","movies","_t","Math","floor","random","bgvideo","LV","onended","video_add","AH","windowheight","minHeight","PE","blank","paddingTop","live","CE","comments_hidden","comments_main","h3","overflowY","live_search","QueryStorage","val","sessionStorage","getItem","query","Record","div_href","_xhr","setItem","otxt","search_a","searchFlag","search_close","Ty","search_result","keyword","link","fa","iconfont","comments","slice","B","A","z","x","arr","q","y","w","F","H","G","D","E","C","filter","v","values","some","RegExp","oninput","TypeError","js_search","show_Nav","sln","loading","NH","XLS","load_post_timer","$body","opera","compatMode","load_post","pagination_a","method","find","nextHref","attr","fadeIn","tempScrollTop","intersectionRatio","page_next","load_key","load_time","XCS","__list","form","ajaxurl","formpostion","reason","XCP","_this","pathname","responseType","onloadstart","comments_navi","commentwrap","loading_comments","comments_list","response","nextlink","outerHTML","gtag","google_analytics_id","IA","GT","mb_to_top","transform","Pjax","selectors","elements","history","cacheBust","load","NProgressON","NProgress","start","codelamp","Prism","highlightAll","isWebkit","isOpera","isIe","AudioContext","webkitAudioContext","n","createOscillator","createGain","connect","destination","frequency","gain","setValueAtTime","currentTime","linearRampToValueAtTime","exponentialRampToValueAtTime","stop","round","h","pageX","pageY","zIndex","left","position","color","animate","opacity","hash","tagName","tabIndex"],"mappings":"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","file":"app.js","sourcesContent":["var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","var inProgress = {};\nvar dataWebpackPrefix = \"sakurairo-scripts:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\t;\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst AddComment = {\n    respondId: '',\n    moveForm: function (commId, parentId, respondId) {\n        const t = this, comm = document.getElementById(commId), respond = document.getElementById(respondId), cancel = document.getElementById('cancel-comment-reply-link'), parent = document.getElementById('comment_parent');\n        let div;\n        //post = document.getElementById('comment_post_ID');\n        t.respondId = respondId;\n        if (!document.getElementById('wp-temp-form-div')) {\n            div = document.createElement('div');\n            div.id = 'wp-temp-form-div';\n            div.style.display = 'none';\n            respond.parentNode.insertBefore(div, respond);\n        }\n        if (!comm) {\n            const temp = document.getElementById('wp-temp-form-div');\n            document.getElementById('comment_parent').value = '0';\n            temp.parentNode.insertBefore(respond, temp);\n            temp.remove();\n        }\n        else {\n            comm.parentNode.insertBefore(respond, comm.nextSibling);\n        }\n        const _respond = document.getElementById(\"respond\");\n        window.scrollTo({\n            top: _respond.getBoundingClientRect().top + window.pageYOffset - _respond.clientTop - 100,\n            behavior: \"smooth\"\n        });\n        parent.value = parentId;\n        cancel.style.display = '';\n        cancel.onclick = function (e) {\n            var t = AddComment, temp = document.getElementById('wp-temp-form-div'), respond = document.getElementById(t.respondId);\n            document.getElementById('comment_parent').value = '0';\n            if (temp && respond) {\n                temp.parentNode.insertBefore(respond, temp);\n                temp.remove();\n                //temp.parentNode.removeChild(temp);\n            }\n            this.style.display = 'none';\n            this.onclick = null;\n            return false;\n        };\n        try {\n            document.getElementById('comment').focus();\n        }\n        catch (e) { }\n        return false;\n    },\n    clearButterbar: function () {\n        const butterBar = document.getElementsByClassName(\"butterBar\");\n        if (butterBar.length > 0) {\n            for (let i = 0; i < butterBar.length; i++) {\n                butterBar[i].remove();\n            }\n        }\n    },\n    createButterbar: function (message, showtime) {\n        const t = this;\n        t.clearButterbar();\n        document.body.insertAdjacentHTML('beforeend', '<div class=\"butterBar butterBar--center\"><p class=\"butterBar-message\">' + message + '</p></div>');\n        setTimeout(() => { t.clearButterbar(); }, showtime > 0 ? showtime : 6000);\n    }\n};\nexports.default = AddComment;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.aplayerInit = void 0;\nlet aplayers = [];\nfunction aplayerInit() {\n    document.addEventListener('DOMContentLoaded', loadMeting);\n}\nexports.aplayerInit = aplayerInit;\nfunction initAplayer(a, b) {\n    const default_option = {\n        container: a,\n        audio: b,\n        mini: null,\n        fixed: null,\n        autoplay: !1,\n        mutex: !0,\n        lrcType: 3,\n        listFolded: 1,\n        preload: 'auto',\n        theme: '#2980b9',\n        loop: 'all',\n        order: 'list',\n        volume: null,\n        listMaxHeight: null,\n        customAudioType: null,\n        storageName: 'metingjs'\n    };\n    if (b.length) {\n        b[0].lrc || (default_option.lrcType = 0);\n        let d = {};\n        for (const key in default_option) {\n            let key_lowercase = key.toLowerCase();\n            if (a.dataset.hasOwnProperty(key_lowercase) || a.dataset.hasOwnProperty(key) || default_option[key] !== null) {\n                d[key] = a.dataset[key_lowercase] || a.dataset[key] || default_option[key];\n                if ('true' === d[key] || 'false' === d[key]) {\n                    d[key] = 'true' == d[key];\n                }\n            }\n        }\n        aplayers.push(new APlayer(d));\n    }\n    for (let f = 0; f < aplayers.length; f++)\n        try {\n            aplayers[f].lrc.hide();\n        }\n        catch (a) {\n            console.log(a);\n        }\n    let lrcTag = 1;\n    document.querySelector(\".aplayer.aplayer-fixed\").addEventListener(\"click\", () => {\n        if (lrcTag == 1) {\n            for (let f = 0; f < aplayers.length; f++)\n                try {\n                    aplayers[f].lrc.show();\n                }\n                catch (a) {\n                    console.log(a);\n                }\n        }\n        lrcTag = 2;\n    });\n    let apSwitchTag = 0, aplayer_body = document.querySelector(\".aplayer.aplayer-fixed .aplayer-body\"), aplayer_minisw = document.querySelector(\".aplayer-miniswitcher\");\n    aplayer_body && aplayer_body.classList.add(\"ap-hover\");\n    aplayer_minisw && aplayer_minisw.addEventListener(\"click\", () => {\n        if (apSwitchTag == 0) {\n            aplayer_body && aplayer_body.classList.remove(\"ap-hover\");\n            document.getElementById(\"secondary\") && document.getElementById(\"secondary\").classList.add(\"active\");\n            apSwitchTag = 1;\n        }\n        else {\n            aplayer_body && aplayer_body.classList.add(\"ap-hover\");\n            document.getElementById(\"secondary\") && document.getElementById(\"secondary\").classList.remove(\"active\");\n            apSwitchTag = 0;\n        }\n    });\n}\nfunction loadMeting() {\n    let meting_api_path;\n    if (typeof meting_api == 'string') {\n        meting_api_path = new URL(meting_api);\n    }\n    else {\n        meting_api_path = new URL(mashiro_option.meting_api_url);\n        meting_api_path.searchParams.set('_wpnonce', Poi.nonce);\n    }\n    for (let f = 0; f < aplayers.length; f++)\n        try {\n            aplayers[f].destroy();\n        }\n        catch (a) {\n            console.log(a);\n        }\n    aplayers = [];\n    let collection = document.getElementsByClassName('aplayer');\n    for (let e = 0; e < collection.length; e++) {\n        let element = collection[e], id = element.dataset.id;\n        if (id) {\n            const api_path = element.dataset.api ? new URL(element.dataset.api) : meting_api_path;\n            const params = api_path.searchParams;\n            params.set('server', element.dataset.server);\n            params.set('type', element.dataset.type);\n            params.set('id', element.dataset.id);\n            if (fetch) {\n                fetch(api_path.toString())\n                    .then(async (resp) => {\n                    if (resp.ok) {\n                        initAplayer(element, await resp.json());\n                    }\n                    else {\n                        console.warn(`(APlayer) HTTP ${resp.status}:${resp.statusText}`);\n                    }\n                }).catch(console.error);\n            }\n            else {\n                const xhr = new XMLHttpRequest;\n                xhr.onreadystatechange = function () {\n                    if (4 === xhr.readyState && (200 <= xhr.status && 300 > xhr.status || 304 === xhr.status)) {\n                        const b = JSON.parse(xhr.responseText);\n                        initAplayer(element, b);\n                    }\n                },\n                    xhr.open('get', api_path.toString(), !0);\n                xhr.send();\n            }\n        }\n        else if (element.dataset.url) {\n            const playlist_info = [{\n                    name: element.dataset.name || element.dataset.title || 'Audio name',\n                    artist: element.dataset.artist || element.dataset.author || 'Audio artist',\n                    url: element.dataset.url,\n                    cover: element.dataset.cover || element.dataset.pic,\n                    lrc: element.dataset.lrc,\n                    type: element.dataset.type || 'auto'\n                }];\n            initAplayer(element, playlist_info);\n        }\n    }\n}\n;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction default_1(apiPath, params = {}, nonce = true) {\n    const path = new URL(apiPath);\n    const { searchParams } = path;\n    for (const [key, value] of Object.entries(params)) {\n        searchParams.set(key, value);\n    }\n    if (nonce)\n        searchParams.set(\"_wpnonce\", Poi.nonce);\n    return path.toString();\n}\nexports.default = default_1;\n","\"use strict\";\n/**\n * sakura-app.js L943-963\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst txt = [\n    \"# 商业转载请联系作者获得授权，非商业转载请注明出处。\",\n    \"# For commercial use, please contact the author for authorization. For non-commercial use, please indicate the source.\",\n    \"# 协议(License)：署名-非商业性使用-相同方式共享 4.0 国际 (CC BY-NC-SA 4.0)\",\n    \"# 作者(Author)：\" + mashiro_option.author_name,\n    \"# 链接(URL)：\" + window.location.href,\n    \"# 来源(Source)：\" + mashiro_option.site_name,\n];\nfunction setClipboardText(event, selectionTxt) {\n    event.preventDefault();\n    const htmlData = txt.join('<br>') + \"<br><br>\" + selectionTxt.replace(/\\r\\n/g, \"<br>\"), textData = txt.join('\\n') + \"\\n\\n\" + selectionTxt.toString().replace(/\\r\\n/g, \"\\n\");\n    if (event.clipboardData) {\n        event.clipboardData.setData(\"text/html\", htmlData);\n        event.clipboardData.setData(\"text/plain\", textData);\n    }\n    else if (window.clipboardData) {\n        //deprecate?\n        return window.clipboardData.setData(\"text\", textData);\n    }\n}\nfunction copytext(e) {\n    const selection = window.getSelection();\n    if (selection) {\n        const selectionText = selection.toString();\n        if (selectionText.length > 30) {\n            setClipboardText(e, selectionText);\n            addComment.createButterbar(\"复制成功！<br>Copied to clipboard successfully!\", 1000);\n        }\n    }\n}\n/**\n * 添加复制时的版权提示\n */\nfunction add_copyright() {\n    if (mashiro_option.clipboardCopyright) {\n        document.body.removeEventListener(\"copy\", copytext);\n        document.body.addEventListener(\"copy\", copytext);\n    }\n}\nexports.default = add_copyright;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.checkDarkModeCookie = exports.ifDarkmodeShouldOn = exports.turnOffDarkMode = exports.turnOnDarkMode = void 0;\nconst cookie_1 = require(\"../../module/cookie\");\nconst mediaQuery = window.matchMedia('(prefers-color-scheme:dark)');\nfunction mediaQueryCallback() {\n    const dark = cookie_1.getCookie(\"dark\");\n    //仅在暗色模式不是用户主动设置时触发\n    if (!dark) {\n        if (mediaQuery.matches && mashiro_option.darkmode) {\n            turnOnDarkMode();\n        }\n        else {\n            turnOffDarkMode();\n        }\n    }\n}\nif (mashiro_option.dm_strategy === 'client') {\n    mediaQuery.removeEventListener('change', mediaQueryCallback);\n    mediaQuery.addEventListener('change', mediaQueryCallback);\n}\nfunction turnOnDarkMode(userTriggered) {\n    document.documentElement.style.background = \"#333333\";\n    document.getElementsByClassName(\"site-content\")[0].style.backgroundColor = \"#333333\";\n    document.body.classList.add(\"dark\");\n    if (userTriggered)\n        cookie_1.setCookie(\"dark\", \"1\", 0.33);\n    console.log('夜间模式开启');\n}\nexports.turnOnDarkMode = turnOnDarkMode;\nfunction turnOffDarkMode(userTriggered) {\n    const bgSetting = cookie_1.getCookie(\"bgImgSetting\");\n    if (!userTriggered && bgSetting && bgSetting !== \"white-bg\")\n        return;\n    if (document.body.clientWidth > 860) {\n        setTimeout(function () {\n            document.documentElement.style.background = \"unset\";\n            document.getElementsByClassName(\"site-content\")[0].style.backgroundColor = \"rgba(255, 255, 255, .8)\";\n            document.body.classList.remove(\"dark\");\n            if (userTriggered)\n                cookie_1.setCookie(\"dark\", \"0\", 0.33);\n            cookie_1.setCookie(\"bgImgSetting\", \"white-bg\", 30);\n            document.body.classList.remove(\"dynamic\");\n            document.body.style.backgroundImage = `url(${mashiro_option.skin_bg0})`;\n            console.log('夜间模式关闭');\n        }, 100);\n    }\n    else {\n        document.documentElement.style.background = \"unset\";\n        document.body.classList.remove(\"dark\");\n        const moblieDarkLight = document.getElementById(\"moblieDarkLight\");\n        if (moblieDarkLight) {\n            moblieDarkLight.innerHTML = '<i class=\"fa fa-moon-o\" aria-hidden=\"true\"></i>';\n        }\n        else {\n            console.warn('#moblieDarkLight not found');\n        }\n    }\n    if (userTriggered)\n        cookie_1.setCookie(\"dark\", \"0\", 0.33);\n}\nexports.turnOffDarkMode = turnOffDarkMode;\n/**\n * 检查是否在深色模式时间\n * @returns {boolean}\n */\nfunction checkTime() {\n    const today = new Date();\n    return (today.getHours() > 21 || today.getHours() < 7);\n}\nfunction ifDarkmodeShouldOn() {\n    switch (mashiro_option.dm_strategy) {\n        case 'time':\n            return checkTime();\n        case 'client':\n            return mediaQuery.matches;\n        case 'eien':\n            return true;\n        default:\n            return checkTime();\n    }\n}\nexports.ifDarkmodeShouldOn = ifDarkmodeShouldOn;\nfunction checkDarkModeCookie() {\n    const dark = cookie_1.getCookie(\"dark\"), shouldDarkModeOn = ifDarkmodeShouldOn();\n    if (!dark) {\n        if (shouldDarkModeOn && mashiro_option.darkmode) {\n            turnOnDarkMode();\n        }\n        else {\n            turnOffDarkMode();\n        }\n    }\n    else {\n        if (dark == '1' && shouldDarkModeOn && mashiro_option.darkmode) {\n            turnOnDarkMode();\n        }\n        else if (dark == '0' || !shouldDarkModeOn) {\n            turnOffDarkMode();\n        }\n    }\n}\nexports.checkDarkModeCookie = checkDarkModeCookie;\n/* function mobile_dark_light() {\n    if (document.body.classList.contains(\"dark\")) {\n        document.documentElement.style.background = \"unset\";\n        document.body.classList.remove(\"dark\");\n        document.getElementById(\"moblieDarkLight\").innerHTML = '<i class=\"fa fa-moon-o\" aria-hidden=\"true\"></i>';\n        setCookie(\"dark\", \"0\", 0.33);\n    } else {\n        document.documentElement.style.background = \"#333333\";\n        document.getElementById(\"moblieDarkLight\").innerHTML = '<i class=\"fa fa-sun-o\" aria-hidden=\"true\"></i>';\n        document.body.classList.add(\"dark\");\n        setCookie(\"dark\", \"1\", 0.33);\n    }\n} */ \n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.removeCookie = exports.getCookie = exports.setCookie = void 0;\n/**\n * Cookie\n * from github.com/mirai-mamori/Sakurairo ./js/sakura-app.js ,commit 71f5a0c\n * @license GPL-v2\n * @date 2021.03\n */\nlet _version_ctrl = mashiro_option.cookie_version_control ?? '';\nfunction setCookie(key, value, days) {\n    const expires = days ? \"; expires=\" + new Date(Date.now() + (days * 24 * 60 * 60 * 1000)).toUTCString() : \"\";\n    document.cookie = key + _version_ctrl + \"=\" + (value || \"\") + expires + \"; path=/\";\n}\nexports.setCookie = setCookie;\nfunction getCookie(key) {\n    const nameEQ = key + _version_ctrl + \"=\", ca = document.cookie.split(';');\n    for (let i = 0; i < ca.length; i++) {\n        let c = ca[i];\n        while (c.charAt(0) == ' ')\n            c = c.substring(1, c.length);\n        if (c.indexOf(nameEQ) == 0)\n            return c.substring(nameEQ.length, c.length);\n    }\n    return null;\n}\nexports.getCookie = getCookie;\nfunction removeCookie(key) {\n    document.cookie = key + _version_ctrl + '=; Max-Age=-99999999;';\n}\nexports.removeCookie = removeCookie;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".js\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) scriptUrl = scripts[scripts.length - 1].src\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t} else installedChunks[chunkId] = 0;\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tfor(moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) runtime(__webpack_require__);\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkIds[i]] = 0;\n\t}\n\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunksakurairo_scripts\"] = self[\"webpackChunksakurairo_scripts\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","/**\n * app.js - Client script bundle for Sakurairo, a WordPress theme.\n * @author bymoye\n * @author KotoriK\n * @license GPL-v2\n * Github Repository:\n * https://github.com/Fuukei/Sakurairo_Scripts\n * https://github.com/mirai-mamori/Sakurairo source from f7db3c5 \n * \n * modified from Mashiro's work.\n * *** original header ***\n * Sakura theme application bundle\n * @author Mashiro\n * @url https://2heng.xin\n * @date 2019.8.3\n * *** ***\n */\nconst add_copyright = require('./copyright').default;\n(() => {\n    const UA = navigator.userAgent,\n        version_list = { Firefox: 84, Edg: 88, Chrome: 88, Opera: 74, Version: 9 };\n    let reg;\n    if (UA.indexOf('Chrome') != -1) {\n        reg = /(Chrome)\\/(\\d+)/i;\n    } else {\n        reg = /(Firefox|Chrome|Version|Opera)\\/(\\d+)/i;\n    }\n    const version = UA.match(reg);\n    Poi.pjax = version && (version[2] >= version_list[version[1]]) && Poi.pjax\n})();\n\nmashiro_global.variables = new function () {\n    this.has_hls = false;\n    this.skinSecter = true;\n}\nmashiro_global.ini = new function () {\n    this.normalize = function () { // initial functions when page first load (首次加载页面时的初始化函数)\n        lazyload();\n        post_list_show_animation();\n        copy_code_block();\n        web_audio();\n        coverVideoIni();\n        checkSkinSecter();\n        scrollBar();\n        load_bangumi();\n        sm();\n    }\n    this.pjax = function () { // pjax reload functions (pjax 重载函数)\n        pjaxInit();\n        post_list_show_animation();\n        copy_code_block();\n        web_audio();\n        coverVideoIni();\n        checkSkinSecter();\n        load_bangumi();\n        sm();\n    }\n}\nconst buildAPI = require('./api').default\nconst { setCookie, getCookie, removeCookie, } = require('../../module/cookie')\n/* function imgError(ele, type) {\n    switch (type) {\n        case 1:\n            ele.src = 'https://view.moezx.cc/images/2017/12/30/Transparent_Akkarin.th.jpg';\n            break;\n        case 2:\n            ele.src = 'https://sdn.geekzu.org/avatar/?s=80&d=mm&r=g';\n            break;\n        default:\n            ele.src = 'https://view.moezx.cc/images/2018/05/13/image-404.png';\n    }\n} */\n\nfunction slideToogle(el, duration = 1000, mode = '', callback) {\n    let dom = el;\n    dom.status = dom.status || getComputedStyle(dom, null)['display'];\n    const flag = dom.status != 'none';\n    if ((flag == true && mode == \"show\") || (flag == false && mode == \"hide\")) return;\n    dom.status = flag ? 'none' : 'block';\n    dom.style.transition = 'height ' + duration / 1000 + 's';\n    dom.style.overflow = 'hidden';\n    clearTimeout(dom.tagTimer);\n    dom.tagTimer = dom.tagTimer || null;\n    dom.style.display = 'block';\n    dom.tagHeight = dom.tagHeight || dom.clientHeight + 'px';\n    dom.style.display = '';\n    dom.style.height = flag ? dom.tagHeight : \"0px\";\n    setTimeout(() => {\n        dom.style.height = flag ? \"0px\" : dom.tagHeight\n    }, 0);\n    dom.tagTimer = setTimeout(() => {\n        dom.style.display = flag ? 'none' : 'block';\n        dom.style.transition = '';\n        dom.style.overflow = '';\n        dom.style.height = '';\n        dom.status = dom.tagHeight = null;\n    }, duration);\n    if (callback) callback();\n}\n\nfunction post_list_show_animation() {\n    if (document.querySelector('article') && document.querySelector('article').classList.contains(\"post-list-thumb\")) {\n        const options = {\n            root: null,\n            threshold: [0.66]\n        },\n            callback = (entries) => {\n                entries.forEach((article) => {\n                    if (!window.IntersectionObserver) {\n                        article.target.style.willChange = 'auto';\n                        if (article.target.classList.contains(\"post-list-show\") === false) {\n                            article.target.classList.add(\"post-list-show\");\n                        }\n                    } else {\n                        if (article.target.classList.contains(\"post-list-show\")) {\n                            article.target.style.willChange = 'auto';\n                            io.unobserve(article.target)\n                        } else {\n                            if (article.isIntersecting) {\n                                article.target.classList.add(\"post-list-show\");\n                                article.target.style.willChange = 'auto';\n                                io.unobserve(article.target)\n                            }\n                        }\n                    }\n                })\n            },\n            io = new IntersectionObserver(callback, options),\n            articles = document.getElementsByClassName('post-list-thumb');\n        for (let a = 0; a < articles.length; a++) {\n            io.observe(articles[a]);\n        }\n    }\n}\nmashiro_global.font_control = new function () {\n    const cbs = document.getElementsByClassName(\"control-btn-serif\")[0],\n        cbss = document.getElementsByClassName(\"control-btn-sans-serif\")[0];\n    this.change_font = function () {\n        if (document.body.classList.contains(\"serif\")) {\n            document.body.classList.remove(\"serif\");\n            cbs && cbs.classList.remove(\"selected\");\n            cbss && cbss.classList.remove(\"selected\");\n            setCookie(\"font_family\", \"sans-serif\", 30);\n        } else {\n            document.body.classList.add(\"serif\");\n            cbs && cbs.classList.add(\"selected\");\n            cbss && cbss.classList.remove(\"selected\");\n            setCookie(\"font_family\", \"serif\", 30);\n            if (document.body.clientWidth <= 860) {\n                addComment.createButterbar(\"将从网络加载字体，流量请注意\");\n            }\n        }\n    }\n    this.ini = function () {\n        if (document.body.clientWidth > 860) {\n            if (!getCookie(\"font_family\") || getCookie(\"font_family\") == \"serif\")\n                document.body.classList.add(\"serif\");\n        }\n        if (getCookie(\"font_family\") == \"sans-serif\") {\n            document.body.classList.remove(\"sans-serif\");\n            cbs && cbs.classList.remove(\"selected\");\n            cbss && cbss.classList.add(\"selected\");\n        }\n    }\n}\nmashiro_global.font_control.ini();\n\nfunction code_highlight_style() {\n    const pre = document.getElementsByTagName(\"pre\"),\n        code = document.querySelectorAll(\"pre code\");\n    if (!pre.length) return;\n    function gen_top_bar(i) {\n        let attributes = {\n            'autocomplete': 'off',\n            'autocorrect': 'off',\n            'autocapitalize': 'off',\n            'spellcheck': 'false',\n            'contenteditable': 'false',\n            'design': 'by Mashiro'\n        },\n            ele_name = pre[i].children[0].className,\n            lang = ele_name.substr(0, ele_name.indexOf(\" \")).replace('language-', ''),\n            code_a = code[i];\n        if (lang.toLowerCase() == \"hljs\") lang = code_a.className.replace('hljs', '') ? code_a.className.replace('hljs', '') : \"text\";\n        pre[i].classList.add(\"highlight-wrap\");\n        for (let t in attributes) {\n            pre[i].setAttribute(t, attributes[t]);\n        }\n        code_a.setAttribute('data-rel', lang.toUpperCase());\n    }\n    for (let i = 0; i < code.length; i++) {\n        hljs.highlightBlock(code[i]);\n    }\n    for (let i = 0; i < pre.length; i++) {\n        gen_top_bar(i);\n    }\n    hljs.initLineNumbersOnLoad();\n    const ec = document.querySelector(\".entry-content\");\n    ec && ec.addEventListener(\"click\", function (e) {\n        if (!e.target.classList.contains(\"highlight-wrap\")) return;\n        e.target.classList.toggle(\"code-block-fullscreen\");\n        document.documentElement.classList.toggle('code-block-fullscreen-html-scroll');\n    })\n}\ntry {\n    code_highlight_style();\n} catch (e) { }\n\nif (Poi.reply_link_version == 'new') {\n    let cm = document.querySelector(\".comments-main\");\n    if (cm) cm.addEventListener(\"click\", function (e) {\n        if (e.target.classList.contains(\"comment-reply-link\")) {\n            e.preventDefault();\n            e.stopPropagation();\n            let data_commentid = e.target.getAttribute(\"data-commentid\");\n            addComment.moveForm(\"comment-\" + data_commentid, data_commentid, \"respond\", this.getAttribute(\"data-postid\"));\n        }\n    })\n}\nconst ready = function (fn) {\n    if (document.readyState === 'complete') {\n        return fn();\n    }\n    document.addEventListener('DOMContentLoaded', fn, false);\n};\n\nfunction attach_image() {\n    let cached = document.getElementsByClassName(\"insert-image-tips\")[0],\n        upload_img = document.getElementById('upload-img-file');\n    if (!upload_img) return;\n    upload_img.addEventListener(\"change\", (function () {\n        if (this.files.length > 10) {\n            addComment.createButterbar(\"每次上传上限为10张.<br>10 files max per request.\");\n            return 0;\n        }\n        for (let i = 0; i < this.files.length; i++) {\n            if (this.files[i].size >= 5242880) {\n                alert('图片上传大小限制为5 MB.\\n5 MB max per file.\\n\\n「' + this.files[i].name + '」\\n\\n这张图太大啦~请重新上传噢！\\nThis image is too large~Please reupload!');\n                return;\n            }\n        }\n        for (let i = 0; i < this.files.length; i++) {\n            let f = this.files[i],\n                formData = new FormData(),\n                xhr = new XMLHttpRequest();\n            formData.append('cmt_img_file', f);\n            xhr.addEventListener('loadstart', function () {\n                cached.innerHTML = '<i class=\"fa fa-spinner rotating\" aria-hidden=\"true\"></i>';\n                addComment.createButterbar(\"上传中...<br>Uploading...\");\n            });\n            xhr.open(\"POST\", buildAPI(Poi.api + 'sakura/v1/image/upload'), true);\n            xhr.send(formData);\n            xhr.onreadystatechange = function () {\n                if (xhr.readyState == 4 && (xhr.status == 200 || xhr.status == 304)) {\n                    cached.innerHTML = '<i class=\"fa fa-check\" aria-hidden=\"true\"></i>';\n                    setTimeout(function () {\n                        cached.innerHTML = '<i class=\"fa fa-picture-o\" aria-hidden=\"true\"></i>';\n                    }, 1000);\n                    let res = JSON.parse(xhr.responseText);\n                    if (res.status == 200) {\n                        let get_the_url = res.proxy;\n                        document.getElementById(\"upload-img-show\").insertAdjacentHTML('afterend', '<img class=\"lazyload upload-image-preview\" src=\"https://cdn.jsdelivr.net/gh/Fuukei/Public_Repository@latest/vision/theme/colorful/load/inload.svg\" data-src=\"' + get_the_url + '\" onclick=\"window.open(\\'' + get_the_url + '\\')\" onerror=\"imgError(this)\" />');\n                        lazyload();\n                        addComment.createButterbar(\"图片上传成功~<br>Uploaded successfully~\");\n                        grin(get_the_url, type = 'Img');\n                    } else {\n                        addComment.createButterbar(\"上传失败！<br>Uploaded failed!<br> 文件名/Filename: \" + f.name + \"<br>code: \" + res.status + \"<br>\" + res.message, 3000);\n                    }\n                } else if (xhr.readyState == 4) {\n                    cached.innerHTML = '<i class=\"fa fa-times\" aria-hidden=\"true\" style=\"color:red\"></i>';\n                    alert(\"上传失败，请重试.\\nUpload failed, please try again.\");\n                    setTimeout(function () {\n                        cached.innerHTML = '<i class=\"fa fa-picture-o\" aria-hidden=\"true\"></i>';\n                    }, 1000);\n                }\n            }\n        };\n    }));\n}\n\n\nfunction clean_upload_images() {\n    document.getElementById(\"upload-img-show\").innerHTML = '';\n}\n\nfunction add_upload_tips() {\n    let form_subit = document.querySelector('.form-submit #submit');\n    if (form_subit == null) return;\n    form_subit.insertAdjacentHTML('afterend', '<div class=\"insert-image-tips popup\"><i class=\"fa fa-picture-o\" aria-hidden=\"true\"></i><span class=\"insert-img-popuptext\" id=\"uploadTipPopup\">上传图片</span></div><input id=\"upload-img-file\" type=\"file\" accept=\"image/*\" multiple=\"multiple\" class=\"insert-image-button\">');\n    attach_image();\n    let file_subit = document.getElementById('upload-img-file'),\n        hover = document.getElementsByClassName('insert-image-tips')[0],\n        Tip = document.getElementById('uploadTipPopup');\n    if (!file_subit) return;\n    file_subit.addEventListener(\"mouseenter\", function () {\n        hover.classList.toggle('insert-image-tips-hover');\n        Tip.classList.toggle('show');\n    });\n    file_subit.addEventListener(\"mouseleave\", function () {\n        hover.classList.toggle('insert-image-tips-hover');\n        Tip.classList.toggle('show');\n    });\n}\n\nfunction click_to_view_image() {\n    const comment_inline = document.getElementsByClassName('comment_inline_img');\n    if (!comment_inline.length) return;\n    document.getElementsByClassName(\"comments-main\")[0].addEventListener(\"click\", function (e) {\n        if (e.target.classList.contains(\"comment_inline_img\")) {\n            window.open(e.target.src);\n        }\n    })\n}\nclick_to_view_image();\n\n\nfunction original_emoji_click() {\n    const emoji = document.getElementsByClassName('emoji-item');\n    if (!emoji.length) return;\n    document.querySelector(\".menhera-container\").addEventListener(\"click\", function (e) {\n        if (e.target.classList.contains(\"emoji-item\")) {\n            grin(e.target.innerText, \"custom\", \"`\", \"` \");\n        }\n    })\n}\noriginal_emoji_click();\n\n\nfunction cmt_showPopup(ele) {\n    let popup = ele.querySelector(\"#thePopup\");\n    popup.classList.add(\"show\");\n    ele.querySelector(\"input\").onblur = () => {\n        popup.classList.remove(\"show\");\n    }\n}\n\nfunction scrollBar() {\n    if (document.body.clientWidth > 860) {\n        window.addEventListener(\"scroll\", () => {\n            let s = document.documentElement.scrollTop || document.body.scrollTop,\n                a = document.documentElement.scrollHeight || document.body.scrollHeight,\n                b = window.innerHeight, c,\n                result = parseInt(s / (a - b) * 100),\n                cached = document.getElementById('bar');\n            cached.style.width = result + \"%\";\n            switch (true) {\n                case (result <= 19): c = '#cccccc'; break;\n                case (result <= 39): c = '#50bcb6'; break;\n                case (result <= 59): c = '#85c440'; break;\n                case (result <= 79): c = '#f2b63c'; break;\n                case (result <= 99): c = '#FF0000'; break;\n                case (result == 100): c = '#5aaadb'; break;\n                default: c = \"orange\";\n            }\n            cached.style.background = c;\n            let f = document.querySelector(\".toc-container\"),\n                sc = document.querySelector(\".site-content\"),\n                skinMenu = document.querySelector(\".skin-menu\");\n            if (f && sc) {\n                f.style.height = sc.getBoundingClientRect(outerHeight)[\"height\"] + \"px\";\n            }\n            skinMenu && skinMenu.classList.remove(\"show\");\n        })\n    }\n}\n\nfunction checkSkinSecter() {\n    if (mashiro_global.variables.skinSecter === false) {\n        const pattern = document.querySelector(\".pattern-center\"),\n            headertop = document.querySelector(\".headertop-bar\");\n        if (pattern) {\n            pattern.classList.remove(\"pattern-center\");\n            pattern.classList.add(\"pattern-center-sakura\");\n        }\n        if (headertop) {\n            headertop.classList.remove(\"headertop-bar\");\n            headertop.classList.add(\"headertop-bar-sakura\");\n        }\n    } else {\n        const pattern = document.querySelector(\".pattern-center-sakura\"),\n            headertop = document.querySelector(\".headertop-bar-sakura\");\n        if (pattern) {\n            pattern.classList.remove(\"pattern-center-sakura\");\n            pattern.classList.add(\"pattern-center\");\n        }\n        if (headertop) {\n            headertop.classList.remove(\"headertop-bar-sakura\");\n            headertop.classList.add(\"headertop-bar\");\n        }\n    }\n}\nconst { checkDarkModeCookie, ifDarkmodeShouldOn, turnOnDarkMode, turnOffDarkMode } = require('./darkmode')\n\nfunction no_right_click() {\n    const pri = document.getElementById(\"primary\");\n    if (pri) pri.addEventListener(\"contextmenu\", function (e) {\n        if (e.target.nodeName.toLowerCase() == \"img\") {\n            e.preventDefault();\n            e.stopPropagation();\n        }\n    })\n}\n\nno_right_click();\nfunction changeCoverBG() {\n    const centerbg = document.querySelector(\".centerbg\")\n    if (centerbg) {\n        const type_mobile = document.body.clientWidth < 860 && mashiro_option.random_graphs_mts == true\n        const cover_api = new URL(mashiro_option.cover_api)\n        if (type_mobile) cover_api.searchParams.set('type', 'mobile')\n        centerbg.style.backgroundImage = \"url(\" + cover_api.toString() + \")\";\n    }\n}\nready(function () {\n    changeCoverBG();\n    let checkskin_bg = (a) => a == \"none\" ? \"\" : a;\n    function changeBG() {\n        const cached = document.querySelectorAll(\".menu-list li\");\n        cached.forEach(e => {\n            e.addEventListener(\"click\", function () {\n                const tagid = this.id;\n                mashiro_global.variables.skinSecter = tagid == \"white-bg\" || tagid == \"dark-bg\";\n                checkSkinSecter();\n                if (tagid == \"dark-bg\") {\n                    /* document.documentElement.style.background = \"#333333\";\n                    document.getElementsByClassName(\"site-content\")[0].style.backgroundColor = \"#333333\";\n                    document.body.classList.add(\"dark\");\n                    setCookie(\"dark\", \"1\", 0.33); */\n                    turnOnDarkMode(true)\n                } else if (tagid == \"white-bg\") {\n                    turnOffDarkMode(true)\n                } else {\n                    document.documentElement.style.background = \"unset\";\n                    document.getElementsByClassName(\"site-content\")[0].style.backgroundColor = \"rgba(255, 255, 255, .8)\";\n                    document.body.classList.remove(\"dark\");\n                    setCookie(\"dark\", \"0\", 0.33);\n                    setCookie(\"bgImgSetting\", tagid, 30);\n                    let temp;\n                    switch (tagid) {\n                        /* case \"white-bg\":\n                            temp = mashiro_option.skin_bg0;\n                            document.body.classList.remove(\"dynamic\");\n                            break; */\n                        case \"diy1-bg\":\n                            temp = mashiro_option.skin_bg1;\n                            break;\n                        case \"diy2-bg\":\n                            temp = mashiro_option.skin_bg2;\n                            break;\n                        case \"diy3-bg\":\n                            temp = mashiro_option.skin_bg3;\n                            break;\n                        case \"diy4-bg\":\n                            temp = mashiro_option.skin_bg4;\n                            break;\n                    }\n                    document.body.style.backgroundImage = `url(${temp})`;\n                }\n                closeSkinMenu();\n            });\n        });\n    }\n    changeBG();\n    function checkBgImgCookie() {\n        const bgurl = getCookie(\"bgImgSetting\");\n        if (!bgurl || bgurl === 'white-bg') {\n            return\n        } else {\n            document.getElementById(bgurl).click();\n        }\n    }\n    checkBgImgCookie()\n    if (!getCookie(\"darkcache\") && ifDarkmodeShouldOn) {\n        removeCookie(\"dark\");\n        setCookie(\"darkcache\", \"cached\", 0.4);\n    }\n    setTimeout(function () {\n        checkDarkModeCookie();\n    }, 100);\n\n    function closeSkinMenu() {\n        document.querySelector(\".skin-menu\").classList.remove(\"show\");\n        setTimeout(function () {\n            if (document.querySelector(\".changeSkin-gear\") != null) {\n                document.querySelector(\".changeSkin-gear\").style.visibility = \"visible\";\n            }\n        }, 300);\n    }\n    let changskin = document.querySelector(\"#changskin\"),\n        close_SkinMenu = document.querySelector(\".skin-menu #close-skinMenu\");\n    changskin && changskin.addEventListener(\"click\", function () {\n        document.querySelector(\".skin-menu\").classList.toggle(\"show\");\n    })\n    close_SkinMenu && close_SkinMenu.addEventListener(\"click\", function () {\n        closeSkinMenu();\n    })\n    add_upload_tips();\n});\nlet bgn = 1;\nfunction setBG() {\n    const cover_api_url = new URL(mashiro_option.cover_api)\n    if (document.body.clientWidth < 860 && mashiro_option.random_graphs_mts == true) {\n        cover_api_url.searchParams.set('type', 'mobile')\n        document.querySelector(\".centerbg\").style.backgroundImage = \"url(\" + cover_api_url.toString() + \"&\" + bgn + \")\";\n    } else {\n        document.querySelector(\".centerbg\").style.backgroundImage = \"url(\" + cover_api_url.toString() + (cover_api_url.search === '' ? \"?\" + bgn : '&' + bgn) + \")\";\n    }\n}\nfunction nextBG() {\n    setBG()\n    bgn++;\n}\n\nfunction preBG() {\n    bgn--;\n    setBG()\n}\nfunction bgButtonAddListener() {\n    const next = document.getElementById(\"bg-next\"),\n        pre = document.getElementById(\"bg-pre\");\n    if (next) { next.onclick = () => { nextBG() } };\n    if (pre) { pre.onclick = () => { preBG() } };\n}\nready(bgButtonAddListener);\n\nfunction topFunction() {\n    window.scrollTo({\n        top: 0,\n        behavior: \"smooth\"\n    });\n}\n\nfunction timeSeriesReload(flag) {\n    let archives = document.getElementById('archives');\n    if (archives == null) return;\n    let al_li = archives.getElementsByClassName('al_mon');\n    if (flag == true) {\n        archives.addEventListener(\"click\", function (e) {\n            if (e.target.classList.contains(\"al_mon\")) {\n                slideToogle(e.target.nextElementSibling, 500);\n                e.preventDefault();\n            }\n        })\n        lazyload();\n    } else {\n        (function () {\n            let al_expand_collapse = document.getElementById('al_expand_collapse');\n            al_expand_collapse.style.cursor = \"s-resize\";\n            for (let i = 0; i < al_li.length; i++) {\n                let a = al_li[i],\n                    num = a.nextElementSibling.getElementsByTagName('li').length;\n                a.style.cursor = \"s-resize\";\n                a.querySelector('#post-num').textContent = num;\n            }\n            let al_post_list = archives.getElementsByClassName(\"al_post_list\"),\n                al_post_list_f = al_post_list[0];\n            for (let i = 0; i < al_post_list.length; i++) {\n                slideToogle(al_post_list[i], 500, 'hide', function () {\n                    slideToogle(al_post_list_f, 500, 'show');\n                })\n            }\n            archives.addEventListener(\"click\", function (e) {\n                if (e.target.classList.contains(\"al_mon\")) {\n                    slideToogle(e.target.nextElementSibling, 500);\n                    e.preventDefault();\n                }\n            })\n            if (document.body.clientWidth > 860) {\n                for (let i = 0; i < al_post_list.length; i++) {\n                    let el = al_post_list[i];\n                    el.parentNode.addEventListener('mouseover', function () {\n                        slideToogle(el, 500, 'show');\n                        return false;\n                    })\n                }\n                if (false) {\n                    for (let i = 0; i < al_post_list.length; i++) {\n                        let el = al_post_list[i];\n                        el.parentNode.addEventListener('mouseover', function () {\n                            slideToogle(el, 500, 'hide');\n                            return false;\n                        })\n                    }\n                }\n                let al_expand_collapse_click = 0;\n                al_expand_collapse.addEventListener('click', function () {\n                    if (al_expand_collapse_click == 0) {\n                        for (let i = 0; i < al_post_list.length; i++) {\n                            let el = al_post_list[i];\n                            slideToogle(el, 500, 'show');\n                        };\n                        al_expand_collapse_click++;\n                    } else if (al_expand_collapse_click == 1) {\n                        for (let i = 0; i < al_post_list.length; i++) {\n                            let el = al_post_list[i];\n                            slideToogle(el, 500, 'hide');\n                        };\n                        al_expand_collapse_click--;\n                    }\n                });\n            }\n        })();\n    }\n}\n\ntimeSeriesReload();\n\n/*视频feature*/\nfunction coverVideo() {\n    let video = document.getElementById(\"coverVideo\"),\n        btn = document.getElementById(\"coverVideo-btn\");\n\n    if (video.paused) {\n        video.play();\n        try {\n            btn.innerHTML = '<i class=\"fa fa-pause\" aria-hidden=\"true\"></i>';\n        } catch { };\n        //console.info('play:coverVideo()');\n    } else {\n        video.pause();\n        try {\n            btn.innerHTML = '<i class=\"fa fa-play\" aria-hidden=\"true\"></i>';\n        } catch { };\n        //console.info('pause:coverVideo()');\n    }\n}\n\nfunction killCoverVideo() {\n    var video = document.getElementById(\"coverVideo\");\n    var btn = document.getElementById(\"coverVideo-btn\");\n\n    if (video.paused) {\n        //console.info('none:killCoverVideo()');\n    } else {\n        video.pause();\n        try {\n            btn.innerHTML = '<i class=\"fa fa-play\" aria-hidden=\"true\"></i>';\n        } catch (e) { };\n        //console.info('pause:killCoverVideo()');\n    }\n}\n\nfunction loadHls() {\n    const video = document.getElementById('coverVideo'),\n        video_src = document.getElementById(\"coverVideo\").getAttribute(\"data-src\");\n    if (Hls.isSupported()) {\n        const hls = new Hls();\n        hls.loadSource(video_src);\n        hls.attachMedia(video);\n        hls.on(Hls.Events.MANIFEST_PARSED, function () {\n            video.play();\n        });\n    } else if (video.canPlayType('application/vnd.apple.mpegurl')) {\n        video.src = video_src;\n        video.addEventListener('loadedmetadata', function () {\n            video.play();\n        });\n    }\n}\n/* function loadJS(url, callback) {\n    let script = document.createElement(\"script\"),\n        fn = callback || function () { };\n    script.type = \"text/javascript\";\n    script.onload = function () {\n        fn();\n    };\n    script.src = url;\n    document.head.appendChild(script);\n} */\n\nfunction coverVideoIni() {\n    let video = document.getElementsByTagName('video')[0];\n    if (video && video.classList.contains('hls')) {\n        if (mashiro_global.variables.has_hls) {\n            loadHls();\n        } else {\n            /*             //不保证可用 需测试\n                        loadJS(\"https://cdn.jsdelivr.net/gh/mashirozx/Sakura@3.3.3/cdn/js/src/16.hls.js\", function () {\n                            loadHls();\n                            mashiro_global.variables.has_hls = true;\n                        }) */\n            import('hls.js').then(hls => {\n                //export to GLOBAL\n                window.Hls = hls.default\n                loadHls();\n                mashiro_global.variables.has_hls = true;\n            })\n        }\n    }\n}\n\nfunction copy_code_block() {\n    let ele = document.querySelectorAll(\"pre code\");\n    for (let j = 0; j < ele.length; j++) {\n        ele[j].setAttribute('id', 'hljs-' + j);\n        ele[j].insertAdjacentHTML('afterend', '<a class=\"copy-code\" href=\"javascript:\" data-clipboard-target=\"#hljs-' + j + '\" title=\"拷贝代码\"><i class=\"fa fa-clipboard\" aria-hidden=\"true\"></i>');\n    };\n    let clipboard = new ClipboardJS('.copy-code');\n}\n\n\nfunction tableOfContentScroll(flag) {\n    if (document.body.clientWidth <= 1200) {\n        return;\n    } else if (!document.querySelector(\"div.have-toc\") && !document.querySelector(\"div.has-toc\")) {\n        let ele = document.getElementsByClassName(\"toc-container\")[0];\n        if (ele) {\n            ele.remove();\n            ele = null;\n        }\n    } else {\n        if (flag) {\n            let id = 1,\n                heading_fix = mashiro_option.entry_content_theme == \"sakura\" ? (document.querySelector(\"article.type-post\") ? (document.querySelector(\"div.pattern-attachment-img\") ? -75 : 200) : 375) : window.innerHeight / 2;\n            let _els = document.querySelectorAll('.entry-content,.links');\n            for (let i = 0; i < _els.length; i++) {\n                let _el = _els[i].querySelectorAll('h1,h2,h3,h4,h5');\n                for (let j = 0; j < _el.length; j++) {\n                    _el[j].id = \"toc-head-\" + id;\n                    id++;\n                }\n            }\n            tocbot.init({\n                tocSelector: '.toc',\n                contentSelector: ['.entry-content', '.links'],\n                headingSelector: 'h1, h2, h3, h4, h5',\n                headingsOffset: heading_fix - window.innerHeight / 2,\n            });\n        }\n    }\n}\ntableOfContentScroll(true);\nconst pjaxInit = function () {\n    add_upload_tips();\n    no_right_click();\n    click_to_view_image();\n    original_emoji_click();\n    mashiro_global.font_control.ini();\n    let _p = document.getElementsByTagName(\"p\");\n    for (let i = 0; i < _p.length; i++) {\n        _p[i].classList.remove(\"head-copyright\");\n    }\n    try {\n        code_highlight_style();\n    } catch { };\n    try {\n        getqqinfo();\n    } catch { };\n    lazyload();\n    let _div = document.getElementsByTagName(\"div\"),\n        tla = document.getElementById(\"to-load-aplayer\");\n    tla && tla.addEventListener(\"click\", () => {\n        try {\n            reloadHermit();\n        } catch (e) { };\n        for (let i = 0; i < _div.length; i++) {\n            _div[i].classList.remove(\"load-aplayer\");\n        }\n    });\n    for (let i = 0; i < _div.length; i++) {\n        if (_div[i].classList.contains(\"aplayer\")) {\n            try {\n                reloadHermit();\n            } catch { };\n        }\n    }\n    let iconflat = document.getElementsByClassName(\"iconflat\");\n    if (iconflat.length != 0) {\n        iconflat[0].style.width = '50px';\n        iconflat[0].style.height = '50px';\n    }\n    let openNav = document.getElementsByClassName(\"openNav\");\n    if (openNav.length != 0) {\n        openNav[0].style.height = '50px';\n    }\n    bgButtonAddListener()\n    smileBoxToggle();\n    timeSeriesReload();\n    add_copyright();\n    tableOfContentScroll(true);\n}\n\nfunction sm() {\n    let sm = document.getElementsByClassName('sm'),\n        cm = document.querySelector(\".comments-main\");\n    if (!sm.length) return;\n    cm && cm.addEventListener(\"click\", (e) => {\n        let list = e.target.parentNode;\n        if (list.classList.contains(\"sm\")) {\n            let msg = \"您真的要设为私密吗？\";\n            if (confirm(msg) == true) {\n                if (list.classList.contains('private_now')) {\n                    alert('您之前已设过私密评论');\n                    return false;\n                } else {\n                    list.classList.add('private_now');\n                    let idp = list.getAttribute(\"data-idp\"),\n                        actionp = list.getAttribute(\"data-actionp\"),\n                        rateHolderp = list.getElementsByClassName('has_set_private')[0];\n                    let ajax_data = \"action=siren_private&p_id=\" + idp + \"&p_action=\" + actionp;\n                    let request = new XMLHttpRequest();\n                    request.onreadystatechange = function () {\n                        if (this.readyState == 4 && this.status == 200) {\n                            rateHolderp.innerHTML = request.responseText;\n                        }\n                    };\n                    request.open('POST', '/wp-admin/admin-ajax.php', true);\n                    request.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\n                    request.send(ajax_data);\n                    return false;\n                }\n            } else {\n                alert(\"已取消\");\n            }\n        }\n    })\n}\n\n\nPOWERMODE.colorful = true;\nPOWERMODE.shake = false;\ndocument.body.addEventListener('input', POWERMODE);\n\nfunction motionSwitch(ele) {\n    let motionEles = [\".bili\", \".menhera\", \".tieba\"];\n    for (let i = 0; i < motionEles.length; i++) {\n        document.querySelector(motionEles[i] + '-bar').classList.remove('on-hover');\n        document.querySelector(motionEles[i] + '-container').style.display = 'none';\n    }\n    document.querySelector(ele + '-bar').classList.add(\"on-hover\");\n    document.querySelector(ele + '-container').style.display = 'block';\n}\nlet comt = document.getElementsByClassName(\"comt-addsmilies\");\nif (comt.length > 0) {\n    Array.from(comt, (e) => {\n        e.addEventListener(\"click\", () => {\n            if (e.stlye.display == \"block\") {\n                e.style.display = \"none\";\n            } else {\n                e.style.display = \"block\";\n            }\n        })\n    })\n}\nlet comta = document.querySelectorAll(\".comt-smilies a\");\ncomta.forEach((e) => {\n    e.addEventListener(\"click\", () => {\n        e.parentNode.style.display = \"none\";\n    })\n})\nfunction smileBoxToggle() {\n    let et = document.getElementById(\"emotion-toggle\");\n    et && et.addEventListener('click', function () {\n        document.querySelector('.emotion-toggle-off').classList.toggle(\"emotion-hide\");\n        document.querySelector('.emotion-toggle-on').classList.toggle(\"emotion-show\");\n        document.querySelector('.emotion-box').classList.toggle(\"emotion-box-show\");\n    })\n}\nsmileBoxToggle();\n\nfunction grin(tag, type, before, after) {\n    let myField;\n    switch (type) {\n        case \"custom\": tag = before + tag + after; break;\n        case \"Img\": tag = '[img]' + tag + '[/img]'; break;\n        case \"Math\": tag = ' {{' + tag + '}} '; break;\n        case \"tieba\": tag = ' ::' + tag + ':: '; break;\n        default: tag = ' :' + tag + ': ';\n    }\n    if (document.getElementById('comment') && document.getElementById('comment').type == 'textarea') {\n        myField = document.getElementById('comment');\n    } else {\n        return false;\n    }\n    if (document.selection) {\n        myField.focus();\n        sel = document.selection.createRange();\n        sel.text = tag;\n        myField.focus();\n    } else if (myField.selectionStart || myField.selectionStart == '0') {\n        let startPos = myField.selectionStart,\n            endPos = myField.selectionEnd,\n            cursorPos = endPos;\n        myField.value = myField.value.substring(0, startPos) + tag + myField.value.substring(endPos, myField.value.length);\n        cursorPos += tag.length;\n        myField.focus();\n        myField.selectionStart = cursorPos;\n        myField.selectionEnd = cursorPos;\n    } else {\n        myField.value += tag;\n        myField.focus();\n    }\n}\nadd_copyright()\nready(() => {\n    getqqinfo();\n});\n\nif (mashiro_option.float_player_on) {\n    if (document.body.clientWidth > 860) {\n        const { aplayerInit } = require('./AplayerInit')\n        aplayerInit()\n    }\n}\n\nfunction getqqinfo() {\n    let is_get_by_qq = false;\n    const author = document.querySelector(\"input#author\"),\n        qq = document.querySelector(\"input#qq\"),\n        email = document.querySelector(\"input#email\"),\n        url = document.querySelector(\"input#url\"),\n        qq_check = document.querySelector(\".qq-check\"),\n        gravatar_check = document.querySelector(\".gravatar-check\"),\n        user_avatar_img = document.querySelector(\"div.comment-user-avatar img\");\n    if (author == null) return;\n    if (!getCookie('user_qq') && !getCookie('user_qq_email') && !getCookie('user_author')) {\n        qq.value = author.value = email.value = url.value = \"\";\n    }\n    if (getCookie('user_avatar') && getCookie('user_qq') && getCookie('user_qq_email')) {\n        user_avatar_img.setAttribute('src', getCookie('user_avatar'));\n        author.value = getCookie('user_author');\n        email.value = getCookie('user_qq') + '@qq.com';\n        qq.value = getCookie('user_qq');\n        if (mashiro_option.qzone_autocomplete) {\n            url.value = 'https://user.qzone.qq.com/' + getCookie('user_qq');\n        }\n        if (qq.value) {\n            qq_check.style.display = \"block\";\n            gravatar_check.style.display = \"none\";\n        }\n    }\n    let emailAddressFlag = email.value;\n    //var emailAddressFlag = cached.filter('#email').val();\n    author.addEventListener('blur', () => {\n        // })\n        //cached.filter('#author').on('blur', function () {\n        let qq = author.value,\n            $reg = /^[1-9]\\d{4,9}$/;\n        if ($reg.test(qq)) {\n            $.ajax({\n                type: 'get',\n                url: buildAPI(mashiro_option.qq_api_url, { qq }),\n                dataType: 'json',\n                success: function (data) {\n                    author.value = data.name;\n                    email.value = qq.trim() + '@qq.com';\n                    //cached.filter('#author').val(data.name);\n                    // cached.filter('#email').val($.trim(qq) + '@qq.com');\n                    if (mashiro_option.qzone_autocomplete) {\n                        url.value = 'https://user.qzone.qq.com/' + qq.trim();\n                        // cached.filter('#url').val('https://user.qzone.qq.com/' + $.trim(qq));\n                    }\n                    user_avatar_img.setAttribute('src', 'https://q2.qlogo.cn/headimg_dl?dst_uin=' + qq + '&spec=100');\n                    // $('div.comment-user-avatar img').attr('src', 'https://q2.qlogo.cn/headimg_dl?dst_uin=' + qq + '&spec=100');\n                    is_get_by_qq = true;\n                    qq.value = qq.trim();\n                    // cached.filter('#qq').val($.trim(qq));\n                    // if (cached.filter('#qq').val()) {\n                    if (qq.value) {\n                        qq_check.style.display = 'block';\n                        gravatar_check.style.display = 'none';\n                        // $('.qq-check').css('display', 'block');\n                        // $('.gravatar-check').css('display', 'none');\n                    }\n                    setCookie('user_author', data.name, 30);\n                    setCookie('user_qq', qq, 30);\n                    setCookie('is_user_qq', 'yes', 30);\n                    setCookie('user_qq_email', qq + '@qq.com', 30);\n                    setCookie('user_email', qq + '@qq.com', 30);\n                    emailAddressFlag = email.value();\n                    // emailAddressFlag = cached.filter('#email').val();\n                    /***/\n                    user_avatar_img.setAttribute('src', data.avatar);\n                    // $('div.comment-user-avatar img').attr('src', data.avatar);\n                    setCookie('user_avatar', data.avatar, 30);\n                },\n                error: function () {\n                    qq.value = '';\n                    // cached.filter('#qq').val('');\n                    qq_check.style.display = 'none';\n                    gravatar_check.style.display = 'block';\n                    user_avatar_img.setAttribute('src', get_gravatar(email.value, 80));\n                    // $('.qq-check').css('display', 'none');\n                    // $('.gravatar-check').css('display', 'block');\n                    // $('div.comment-user-avatar img').attr('src', get_gravatar(cached.filter('#email').val(), 80));\n                    setCookie('user_qq', '', 30);\n                    setCookie('user_email', email.value, 30);\n                    setCookie('user_avatar', get_gravatar(email.value, 80), 30);\n                    // setCookie('user_email', cached.filter('#email').val(), 30);\n                    // setCookie('user_avatar', get_gravatar(cached.filter('#email').val(), 80), 30);\n                    /***/\n                    qq.value = email.value = url.value = \"\";\n                    // cached.filter('#qq,#email,#url').val('');\n                    // if (!cached.filter('#qq').val()) {\n                    if (!qq.value) {\n                        qq_check.style.display = 'none';\n                        gravatar_check.style.display = 'block';\n                        // $('.qq-check').css('display', 'none');\n                        // $('.gravatar-check').css('display', 'block');\n                        setCookie('user_qq', '', 30);\n                        user_avatar_img.setAttribute('src', get_gravatar(email.value, 80));\n                        // $('div.comment-user-avatar img').attr('src', get_gravatar(cached.filter('#email').val(), 80));\n                        setCookie('user_avatar', get_gravatar(email.value, 80), 30);\n                    }\n                }\n            });\n        }\n    });\n    if (getCookie('user_avatar') && getCookie('user_email') && getCookie('is_user_qq') == 'no' && !getCookie('user_qq_email')) {\n        user_avatar_img.setAttribute(\"src\", getCookie('user_avatar'));\n        email.value = getCookie('user_mail');\n        qq.value = '';\n        if (!qq.value) {\n            qq_check.style.display = \"none\";\n            gravatar_check.style.display = \"block\";\n        }\n        // $('div.comment-user-avatar img').attr('src', getCookie('user_avatar'));\n        // cached.filter('#email').val(getCookie('user_email'));\n        // cached.filter('#qq').val('');\n        // if (!cached.filter('#qq').val()) {\n        //     $('.qq-check').css('display', 'none');\n        //     $('.gravatar-check').css('display', 'block');\n        // }\n    }\n    email.addEventListener(\"blur\", function () {\n        //cached.filter('#email').on('blur', function () {\n        let emailAddress = email.value;\n        // var emailAddress = cached.filter('#email').val();\n        if ((is_get_by_qq == false || emailAddressFlag != emailAddress) && emailAddress != '') {\n            user_avatar_img.setAttribute(\"src\", get_gravatar(emailAddress, 80));\n            //$('div.comment-user-avatar img').attr('src', get_gravatar(emailAddress, 80));\n            setCookie('user_avatar', get_gravatar(emailAddress, 80), 30);\n            setCookie('user_email', emailAddress, 30);\n            setCookie('user_qq_email', '', 30);\n            setCookie('is_user_qq', 'no', 30);\n            qq.value = '';\n            // cached.filter('#qq').val('');\n            if (!qq.value) {\n                qq_check.style.display = \"none\";\n                gravatar_check.style.display = \"block\";\n                // $('.qq-check').css('display', 'none');\n                // $('.gravatar-check').css('display', 'block');\n            }\n        }\n    });\n    if (getCookie('user_url')) {\n        url.value = getCookie(\"user_url\");\n        // cached.filter('#url').val(getCookie('user_url'));\n    }\n    url.addEventListener(\"blur\", function () {\n        //cached.filter('#url').on('blur', function () {\n        let URL_Address = url.value;\n        url.value = URL_Address;\n        // var URL_Address = cached.filter('#url').val();\n        // cached.filter('#url').val(URL_Address);\n        setCookie('user_url', URL_Address, 30);\n    });\n    if (getCookie('user_author')) {\n        author.value = getCookie('user_author');\n        // cached.filter('#author').val(getCookie('user_author'));\n    }\n    author.addEventListener(\"blur\", function () {\n        // cached.filter('#author').on('blur', function () {\n        let user_name = author.value;\n        author.value = user_name;\n        // var user_name = cached.filter('#author').val();\n        // cached.filter('#author').val(user_name);\n        setCookie('user_author', user_name, 30);\n    });\n}\n\nfunction mail_me() {\n    var mail = \"mailto:\" + mashiro_option.email_name + \"@\" + mashiro_option.email_domain;\n    window.open(mail);\n}\n\nfunction activate_widget() {\n    let secondary = document.getElementById(\"secondary\");\n    if (document.body.clientWidth > 860) {\n        let show_hide = document.querySelector(\".show-hide\");\n        show_hide && show_hide.addEventListener(\"click\", function () {\n            secondary && secondary.classList.toggle(\"active\");\n        });\n    } else {\n        secondary && secondary.remove();\n    }\n}\nsetTimeout(function () {\n    activate_widget();\n}, 100);\n\nfunction load_bangumi() {\n    const sections = document.getElementsByTagName(\"section\")\n    let _flag = false;\n    for (let i = 0; i < sections.length; i++) {\n        if (sections[i].classList.contains(\"bangumi\")) {\n            _flag = true;\n            break\n        }\n    }\n    if (_flag) {\n        document.addEventListener('click', function (e) {\n            const target = e.target;\n            if (target === document.querySelector(\"#bangumi-pagination a\")) {\n                target.classList.add(\"loading\");\n                target.textContent = \"\";\n                const xhr = new XMLHttpRequest();\n                xhr.open('POST', target.href + \"&_wpnonce=\" + Poi.nonce, true);\n                xhr.onreadystatechange = function () {\n                    if (xhr.readyState == 4 && xhr.status == 200) {\n                        let html = JSON.parse(xhr.responseText),\n                            bfan = document.getElementById(\"bangumi-pagination\"),\n                            row = document.getElementsByClassName(\"row\")[0];\n                        bfan.remove();\n                        row.insertAdjacentHTML('beforeend', html);\n                    } else {\n                        target.classList.remove(\"loading\");\n                        target.innerHTML = '<i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> ERROR ';\n                    }\n                };\n                xhr.send();\n            }\n        });\n    }\n}\n\n\nmashiro_global.ini.normalize();\nloadCSS(mashiro_option.jsdelivr_css_src);\nloadCSS(mashiro_option.entry_content_style_src);\nloadCSS(\"https://at.alicdn.com/t/font_679578_qyt5qzzavdo39pb9.css\");\nloadCSS(\"https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css\");\n\nvar // s = $('#bgvideo')[0],\n    s = document.getElementById(\"bgvideo\"),\n    Siren = {\n        MN: function () {\n            let iconflat = document.querySelector(\".iconflat\");\n            iconflat && iconflat.addEventListener(\"click\", function () {\n                document.body.classList.toggle(\"navOpen\");\n                document.getElementById(\"main-container\").classList.toggle(\"open\");\n                document.getElementById(\"mo-nav\").classList.toggle(\"open\");\n                document.querySelector(\".openNav\").classList.toggle(\"open\");\n            });\n        },\n        MNH: function () {\n            if (document.body.classList.contains(\"navOpen\")) {\n                document.body.classList.toggle(\"navOpen\");\n                document.getElementById(\"main-container\").classList.toggle(\"open\");\n                document.getElementById(\"mo-nav\").classList.toggle(\"open\");\n                document.querySelector(\".openNav\").classList.toggle(\"open\");\n            }\n        },\n        splay: function () {\n            let video_btn = document.getElementById(\"video-btn\");\n            if (video_btn) {\n                video_btn.classList.add(\"video-pause\");\n                video_btn.classList.remove(\"video-play\");\n            }\n            try {\n                video_btn.style.display = \"\";\n                document.querySelector(\".video-stu\").style.bottom = \"-100px\";\n                document.querySelector(\".focusinfo\").style.top = \"-999px\";\n            } catch { }\n            try {\n                for (let i = 0; i < ap.length; i++) {\n                    try {\n                        ap[i].destroy()\n                    } catch { }\n                }\n            } catch { }\n            try {\n                hermitInit()\n            } catch { }\n            s.play();\n        },\n        spause: function () {\n            let video_btn = document.getElementById(\"video-btn\");\n            if (video_btn) {\n                video_btn.classList.add(\"video-play\");\n                video_btn.classList.remove(\"video-pause\");\n            }\n            try {\n                document.querySelector(\".focusinfo\").style.top = \"49.3%\";\n            } catch { }\n            s.pause();\n        },\n        liveplay: function () {\n            if (s.oncanplay != undefined && document.querySelector(\".haslive\")) {\n                if (document.querySelector(\".videolive\")) {\n                    Siren.splay();\n                }\n            }\n        },\n        livepause: function () {\n            if (s.oncanplay != undefined && document.querySelector(\".haslive\")) {\n                Siren.spause();\n                let video_stu = document.getElementsByClassName(\"video-stu\")[0];\n                video_stu.style.bottom = \"0px\";\n                video_stu.innerHTML = \"已暂停 ...\";\n            }\n        },\n        addsource: function () {\n            let video_stu = document.getElementsByClassName(\"video-stu\")[0];\n            video_stu.innerHTML = \"正在载入视频 ...\";\n            video_stu.style.bottom = \"0px\";\n            let t = Poi.movies.name.split(\",\"),\n                _t = t[Math.floor(Math.random() * t.length)],\n                bgvideo = document.getElementById(\"bgvideo\");\n            bgvideo.setAttribute(\"src\", Poi.movies.url + '/' + _t + '.mp4');\n            bgvideo.setAttribute(\"video-name\", _t);\n        },\n        LV: function () {\n            let video_btn = document.getElementById(\"video-btn\");\n            if (video_btn) video_btn.addEventListener(\"click\", function () {\n                if (this.classList.contains(\"loadvideo\")) {\n                    this.classList.add(\"video-pause\");\n                    this.classList.remove(\"loadvideo\");\n                    Siren.addsource();\n                    s.oncanplay = function () {\n                        Siren.splay();\n                        document.getElementById(\"video-add\").style.display = \"block\";\n                        video_btn.classList.add(\"videolive\", \"haslive\");\n                    }\n                } else {\n                    if (this.classList.contains(\"video-pause\")) {\n                        Siren.spause();\n                        video_btn.classList.remove(\"videolive\");\n                        document.getElementsByClassName(\"video-stu\")[0].style.bottom = \"0px\";\n                        document.getElementsByClassName(\"video-stu\")[0].innerHTML = \"已暂停 ...\";\n                    } else {\n                        Siren.splay();\n                        video_btn.classList.add(\"videolive\");\n                    }\n                }\n                s.onended = function () {\n                    s.setAttribute(\"src\", \"\");\n                    document.getElementById(\"video-add\").style.display = \"none\";\n                    video_btn && video_btn.classList.add(\"loadvideo\");\n                    video_btn && video_btn.classList.remove(\"video-pause\", \"videolive\", \"haslive\");\n                    document.querySelector(\".focusinfo\").style.top = \"49.3%\";\n                }\n            });\n            const video_add = document.getElementById(\"video-add\")\n            if (video_add) video_add.addEventListener(\"click\", function () {\n                Siren.addsource();\n            });\n        },\n        AH: function () {\n            if (Poi.windowheight == 'auto') {\n                if (document.querySelector(\"h1.main-title\")) {\n                    //let _height = document.documentElement.clientHeight + \"px\";\n                    const centerbg = document.getElementById(\"centerbg\")\n                    const bgvideo = document.getElementById(\"bgvideo\")\n                    if (centerbg) centerbg.style.height = \"100vh\";\n                    if (bgvideo) bgvideo.style.minHeight = \"100vh\";\n                }\n            } else {\n                document.querySelector(\".headertop\") && document.querySelector(\".headertop\").classList.add(\"headertop-bar\");\n            }\n        },\n        PE: function () {\n            if (document.querySelector(\".headertop\")) {\n                let headertop = document.querySelector(\".headertop\"),\n                    blank = document.querySelector(\".blank\");\n                if (document.querySelector(\".main-title\")) {\n                    try {\n                        blank.style.paddingTop = \"0px\";\n                    } catch (e) { }\n                    headertop.style.height = \"auto\";\n                    headertop.style.display = \"\";\n                    if (Poi.movies.live == 'open') Siren.liveplay();\n                } else {\n                    try {\n                        blank.style.paddingTop = \"75px\";\n                    } catch (e) { }\n                    headertop.style.height = \"0px\";\n                    headertop.style.display = \"none\";\n                    Siren.livepause();\n                }\n            }\n        },\n        CE: function () {\n            let comments_hidden = document.querySelector(\".comments-hidden\");\n            let comments_main = document.querySelector(\".comments-main\");\n            if (comments_hidden != null) {\n                comments_hidden.style.display = \"block\";\n                comments_main.style.display = \"none\";\n                comments_hidden.addEventListener(\"click\", function () {\n                    slideToogle(comments_main, 500, 'show');\n                    comments_hidden.style.display = \"none\";\n                });\n            }\n            let archives = document.getElementsByClassName(\"archives\");\n            if (archives.length > 0) {\n                for (let i = 0; i < archives.length; i++) {\n                    archives[i].style.display = \"none\";\n                }\n                archives[0].style.display = \"\";\n                let h3 = document.getElementById(\"archives-temp\").getElementsByTagName(\"h3\");\n                for (let i = 0; i < h3.length; i++) {\n                    h3[i].addEventListener(\"click\", (e) => {\n                        e.preventDefault();\n                        e.stopPropagation();\n                        slideToogle(e.target.nextElementSibling, 300);\n                    })\n                }\n            }\n            // $('.comments-hidden').show();\n            // $('.comments-main').hide();\n            // $('.comments-hidden').click(function () {\n            //     $('.comments-main').slideDown(500);\n            //     $('.comments-hidden').hide();\n            // });\n            // $('.archives').hide();\n            // $('.archives:first').show();\n            // $('#archives-temp h3').click(function () {\n            //     $(this).next().slideToggle('fast');\n            //     return false;\n            // });\n            /*if (mashiro_option.baguetteBoxON) {\n                baguetteBox.run('.entry-content', {\n                    captions: function (element) {\n                        return element.getElementsByTagName('img')[0].alt;\n                    },\n                    ignoreClass: 'fancybox',\n                });\n            }*/\n            const callback = function () {\n                //$('.js-toggle-search').toggleClass('is-active');\n                document.getElementsByClassName('js-toggle-search')[0].classList.toggle('is-active')\n                //$('.js-search').toggleClass('is-visible');\n                document.getElementsByClassName('js-search')[0].classList.toggle('is-visible')\n                //$('html').css('overflow-y', 'hidden');\n                document.documentElement.style.overflowY = 'hidden'\n                if (mashiro_option.live_search) {\n                    var QueryStorage = [];\n                    search_a(buildAPI(Poi.api + \"sakura/v1/cache_search/json\"));\n\n                    var otxt = document.getElementById(\"search-input\"),\n                        list = document.getElementById(\"PostlistBox\"),\n                        Record = list.innerHTML,\n                        searchFlag = null;\n                    otxt.oninput = function () {\n                        if (searchFlag == null) {\n                            clearTimeout(searchFlag);\n                        }\n                        searchFlag = setTimeout(function () {\n                            query(QueryStorage, otxt.value, Record);\n                            div_href();\n                        }, 250);\n                    };\n\n                    function search_a(val) {\n                        if (sessionStorage.getItem('search') != null) {\n                            QueryStorage = JSON.parse(sessionStorage.getItem('search'));\n                            query(QueryStorage, $(\"#search-input\").val(), Record);\n                            div_href();\n                        } else {\n                            var _xhr = new XMLHttpRequest();\n                            _xhr.open(\"GET\", val, true)\n                            _xhr.send();\n                            _xhr.onreadystatechange = function () {\n                                if (_xhr.readyState == 4 && _xhr.status == 200) {\n                                    json = _xhr.responseText;\n                                    if (json != \"\") {\n                                        sessionStorage.setItem('search', json);\n                                        QueryStorage = JSON.parse(json);\n                                        query(QueryStorage, otxt.value, Record);\n                                        div_href();\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    if (!Object.values) Object.values = function (obj) {\n                        if (obj !== Object(obj))\n                            throw new TypeError('Object.values called on a non-object');\n                        var val = [],\n                            key;\n                        for (key in obj) {\n                            if (Object.prototype.hasOwnProperty.call(obj, key)) {\n                                val.push(obj[key]);\n                            }\n                        }\n                        return val;\n                    }\n\n                    function Cx(arr, q) {\n                        q = q.replace(q, \"^(?=.*?\" + q + \").+$\").replace(/\\s/g, \")(?=.*?\");\n                        i = arr.filter(\n                            v => Object.values(v).some(\n                                v => new RegExp(q + '').test(v)\n                            )\n                        );\n                        return i;\n                    }\n\n                    function div_href() {\n                        const search_close = document.querySelector(\".search_close\")\n                        const Ty = document.getElementById('Ty')\n                        for (const ele of document.getElementsByClassName('ins-selectable')) {\n                            ele.addEventListener(\"click\", () => {\n                                Ty.href = ele.getAttribute('href')\n                                Ty.click()\n                                search_close.click()\n                            });\n                        }\n                        /* $(\".ins-selectable\").each(function () {\n                            $(this).click(function () {\n                                $(\"#Ty\").attr('href', $(this).attr('href'));\n                                $(\"#Ty\").click();\n                                $(\".search_close\").click();\n                            });\n                        }); */\n                    }\n\n                    function search_result(keyword, link, fa, title, iconfont, comments, text) {\n                        if (keyword) {\n                            var s = keyword.trim().split(\" \"),\n                                a = title.indexOf(s[s.length - 1]),\n                                b = text.indexOf(s[s.length - 1]);\n                            title = a < 60 ? title.slice(0, 80) : title.slice(a - 30, a + 30);\n                            title = title.replace(s[s.length - 1], '<mark class=\"search-keyword\"> ' + s[s.length - 1].toUpperCase() + ' </mark>');\n                            text = b < 60 ? text.slice(0, 80) : text.slice(b - 30, b + 30);\n                            text = text.replace(s[s.length - 1], '<mark class=\"search-keyword\"> ' + s[s.length - 1].toUpperCase() + ' </mark>');\n                        }\n                        return '<div class=\"ins-selectable ins-search-item\" href=\"' + link + '\"><header><i class=\"fa fa-' + fa + '\" aria-hidden=\"true\"></i>' + title + '<i class=\"iconfont icon-' + iconfont + '\"> ' + comments + '</i>' + '</header><p class=\"ins-search-preview\">' + text + '</p></div>';\n                    }\n\n                    function query(B, A, z) {\n                        var x, v, s, y = \"\",\n                            w = \"\",\n                            u = \"\",\n                            r = \"\",\n                            p = \"\",\n                            F = \"\",\n                            H = \"\",\n                            G = '<section class=\"ins-section\"><header class=\"ins-section-header\">',\n                            D = \"</section>\",\n                            E = \"</header>\",\n                            C = Cx(B, A.trim());\n                        for (x = 0; x < Object.keys(C).length; x++) {\n                            H = C[x];\n                            switch (v = H.type) {\n                                case \"post\":\n                                    w = w + search_result(A, H.link, \"file\", H.title, \"mark\", H.comments, H.text);\n                                    break;\n                                case \"tag\":\n                                    p = p + search_result(\"\", H.link, \"tag\", H.title, \"none\", \"\", \"\");\n                                    break;\n                                case \"category\":\n                                    r = r + search_result(\"\", H.link, \"folder\", H.title, \"none\", \"\", \"\");\n                                    break;\n                                case \"page\":\n                                    u = u + search_result(A, H.link, \"file\", H.title, \"mark\", H.comments, H.text);\n                                    break;\n                                case \"comment\":\n                                    F = F + search_result(A, H.link, \"comment\", H.title, \"none\", \"\", H.text);\n                                    break\n                            }\n                        }\n                        w && (y = y + G + \"文章\" + E + w + D), u && (y = y + G + \"页面\" + E + u + D), r && (y = y + G + \"分类\" + E + r + D), p && (y = y + G + \"标签\" + E + p + D), F && (y = y + G + \"评论\" + E + F + D), s = document.getElementById(\"PostlistBox\"), s.innerHTML = y\n                    }\n                }\n            }\n            for (const ele of document.getElementsByClassName('js-toggle-search')) {\n                ele.addEventListener('click', callback);\n            }\n\n            const sc = document.querySelector(\".search_close\");\n            sc && sc.addEventListener(\"click\", function () {\n                let js_search = document.getElementsByClassName(\"js-search\")[0];\n                if (js_search.classList.contains(\"is-visible\")) {\n                    document.getElementsByClassName(\"js-toggle-search\")[0].classList.toggle(\"is-active\");\n                    js_search.classList.toggle(\"is-visible\");\n                    document.documentElement.style.overflowY = \"unset\";\n                }\n            });\n            try {\n                let show_Nav = document.getElementById(\"show-nav\");\n                show_Nav.addEventListener(\"click\", function () {\n                    if (show_Nav.classList.contains(\"showNav\")) {\n                        show_Nav.classList.remove(\"showNav\");\n                        show_Nav.classList.add(\"hideNav\");\n                        let sln = document.querySelector(\".site-top .lower nav\");\n                        sln && sln.classList.add(\"navbar\");\n                    } else {\n                        show_Nav.classList.remove(\"hideNav\");\n                        show_Nav.classList.add(\"showNav\");\n                        let sln = document.querySelector(\".site-top .lower nav\");\n                        sln && sln.classList.remove(\"navbar\");\n                    }\n                });\n                document.getElementById(\"loading\").addEventListener(\"click\", function () {\n                    let loading = document.getElementById(\"loading\");\n                    loading.classList.add(\"hide\");\n                    loading.classList.remove(\"show\");\n                });\n            } catch (e) { }\n        },\n        NH: function () {\n            let h1 = 0;\n            window.addEventListener(\"scroll\", () => {\n                let s = document.documentElement.scrollTop || window.pageYOffset,\n                    cached = document.querySelector(\".site-header\");\n                if (s == h1) {\n                    cached.classList.remove(\"yya\");\n                }\n                if (s > h1) {\n                    cached.classList.add(\"yya\");\n                }\n            })\n            //     $(window).scroll(function () {\n            //         var s = $(document).scrollTop(),\n            //             cached = $('.site-header');\n            //         if (s == h1) {\n            //             cached.removeClass('yya');\n            //         }\n            //         if (s > h1) {\n            //             cached.addClass('yya');\n            //         }\n            // });\n        },\n        XLS: function () {\n            $body = (window.opera) ? (document.compatMode == \"CSS1Compat\" ? $('html') : $('body')) : $('html,body');\n            let load_post_timer;\n            const intersectionObserver = new IntersectionObserver(function (entries) {\n                if (entries[0].intersectionRatio <= 0) return;\n                var page_next = $('#pagination a').attr(\"href\");\n                var load_key = document.getElementById(\"add_post_time\");\n                if (page_next != undefined && load_key) {\n                    var load_time = document.getElementById(\"add_post_time\").title;\n                    if (load_time != \"233\") {\n                        console.log(\"%c 自动加载时倒计时 %c\", \"background:#9a9da2; color:#ffffff; border-radius:4px;\", \"\", \"\", load_time);\n                        load_post_timer = setTimeout(function () {\n                            load_post();\n                        }, load_time * 1000);\n                    }\n                }\n            });\n            intersectionObserver.observe(\n                document.querySelector('.footer-device')\n            );\n            $('body').on('click', '#pagination a', function () {\n                clearTimeout(load_post_timer);\n                load_post();\n                return false;\n            });\n\n            function load_post() {\n                const pagination_a = document.querySelector('#pagination a');\n                pagination_a.classList.add(\"loading\");\n                pagination_a.innerText = \"\";\n                // $('#pagination a').addClass(\"loading\").text(\"\");\n                fetch(pagination_a.attributes.href + \"#main\", { method: \"POST\" }).then(resp => {\n                    if (resp.ok) {\n                        result = $(data).find(\"#main .post\");\n                        nextHref = $(data).find(\"#pagination a\").attr(\"href\");\n                        $(\"#main\").append(result.fadeIn(500));\n                        pagination_a.classList.remove(\"loading\");\n                        pagination_a.innerText = \"Previous\";\n                        document.querySelector(\"#add_post span\").classList.remove(\"loading\");\n                        document.querySelector(\"#add_post span\").innerText = \"\";\n                        // $(\"#pagination a\").removeClass(\"loading\").text(\"Previous\");\n                        // $('#add_post span').removeClass(\"loading\").text(\"\");\n                        lazyload();\n                        post_list_show_animation();\n                        if (nextHref != undefined) {\n                            pagination_a.setAttribute(\"href\", nextHref);\n                            // $(\"#pagination a\").attr(\"href\", nextHref);\n                            //加载完成上滑\n                            let tempScrollTop = document.documentElement.scrollTop || window.pageYOffset || document.body.scrollTop;;\n                            // window.scrollTo(tempScrollTop);\n                            // $(window).scrollTop(tempScrollTop);\n                            window.scrollTo({\n                                top: tempScrollTop + 300,\n                                behavior: 'smooth'\n                            })\n                            // $body.animate({\n                            //     scrollTop: tempScrollTop + 300\n                            //\n                            // }, 666)\n                        } else {\n                            document.getElementById(\"pagination\").innerHTML = \"<span>很高兴你翻到这里，但是真的没有了...</span>\";\n                            // $(\"#pagination\").html(\"<span>很高兴你翻到这里，但是真的没有了...</span>\");\n                        }\n                    }\n                })\n                /*  $.ajax({\n                     type: \"POST\",\n                     url: $('#pagination a').attr(\"href\") + \"#main\",\n                     success: function (data) {\n                         result = $(data).find(\"#main .post\");\n                         nextHref = $(data).find(\"#pagination a\").attr(\"href\");\n                         $(\"#main\").append(result.fadeIn(500));\n                         $(\"#pagination a\").removeClass(\"loading\").text(\"Previous\");\n                         $('#add_post span').removeClass(\"loading\").text(\"\");\n                         lazyload();\n                         post_list_show_animation();\n                         if (nextHref != undefined) {\n                             $(\"#pagination a\").attr(\"href\", nextHref);\n                             //加载完成上滑\n                             var tempScrollTop = $(window).scrollTop();\n                             $(window).scrollTop(tempScrollTop);\n                             $body.animate({\n                                 scrollTop: tempScrollTop + 300\n \n                             }, 666)\n                         } else {\n                             $(\"#pagination\").html(\"<span>很高兴你翻到这里，但是真的没有了...</span>\");\n                         }\n                     }\n                 }); */\n                return false;\n            }\n        },\n        XCS: function () {\n            const __list = 'commentwrap';\n            const form = document.getElementById(\"commentform\")\n            if (form) form.addEventListener('submit', function () {\n                addComment.createButterbar(\"提交中(Commiting)....\")\n                const form = new FormData(this)\n                form.append('action', 'ajax_comment')\n                fetch(Poi.ajaxurl, {\n                    method: this.attributes.method.value,\n                    body: form\n                }).then(async resp => {\n                    const data = await resp.text()\n                    if (resp.ok) {\n                        Array.from(document.getElementsByTagName('textarea'))\n                            .forEach((e) => e.value = '')\n                        const cancel = document.getElementById('cancel-comment-reply-link'),\n                            temp = document.getElementById('wp-temp-form-div'),\n                            respond = document.getElementById(addComment.respondId),\n                            //post = document.getElementById('comment_post_ID').value,\n                            parent = document.getElementById('comment_parent').value;\n                        if (parent != '0') {\n                            //jQuery('#respond').before('<ol class=\"children\">' + data + '</ol>');\n                            document.getElementById(\"respond\").insertAdjacentHTML('beforebegin', '<ol class=\"children\">' + data + '</ol>');\n                        } else if (!document.getElementsByClassName(__list).length) {\n                            if (Poi.formpostion == 'bottom') {\n                                document.getElementById(\"respond\").insertAdjacentHTML('beforebegin', '<ol class=\"' + __list + '\">' + data + '</ol>');\n                                //jQuery('#respond').before('<ol class=\"' + __list + '\">' + data + '</ol>');\n                            } else {\n                                document.getElementById(\"respond\").insertAdjacentHTML('afterend', '<ol class=\"' + __list + '\">' + data + '</ol>');\n                                //jQuery('#respond').after('<ol class=\"' + __list + '\">' + data + '</ol>');\n                            }\n                        } else {\n                            if (Poi.order == 'asc') {\n                                document.getElementsByClassName(\"commentwrap\")[1].insertAdjacentHTML('beforeend', data);\n                                //jQuery('.' + __list).append(data);\n                            } else {\n                                document.getElementsByClassName(\"commentwrap\")[1].insertAdjacentHTML('afterbegin', data);\n                                //jQuery('.' + __list).prepend(data);\n                            }\n                        }\n                        addComment.createButterbar(\"提交成功(Succeed)\");\n                        lazyload();\n                        code_highlight_style();\n                        click_to_view_image();\n                        clean_upload_images();\n                        cancel.style.display = 'none';\n                        cancel.onclick = null;\n                        document.getElementById('comment_parent').value = '0';\n                        if (temp && respond) {\n                            temp.parentNode.insertBefore(respond, temp);\n                            temp.remove();\n                            //temp.parentNode.removeChild(temp)\n                        }\n                    } else {\n                        addComment.createButterbar(data ?? 'HTTP' + resp.status + ':' + resp.statusText);\n                    }\n                }).catch(reason => {\n                    addComment.createButterbar(reason);\n                })\n                /* jQuery.ajax({\n                    url: Poi.ajaxurl,\n                    data: jQuery(this).serialize() + \"&action=ajax_comment\",\n                    type: jQuery(this).attr('method'),\n                    beforeSend: addComment.createButterbar(\"提交中(Commiting)....\"),\n                    error: function (request) {\n                        var t = addComment;\n                        t.createButterbar(request.responseText);\n                    },\n                    success: function (data) {\n                        jQuery('textarea').each(function () {\n                            this.value = ''\n                        });\n                        var t = addComment,\n                            cancel = t.I('cancel-comment-reply-link'),\n                            temp = t.I('wp-temp-form-div'),\n                            respond = t.I(t.respondId),\n                            post = t.I('comment_post_ID').value,\n                            parent = t.I('comment_parent').value;\n                        if (parent != '0') {\n                            jQuery('#respond').before('<ol class=\"children\">' + data + '</ol>');\n                        } else if (!jQuery('.' + __list).length) {\n                            if (Poi.formpostion == 'bottom') {\n                                jQuery('#respond').before('<ol class=\"' + __list + '\">' + data + '</ol>');\n                            } else {\n                                jQuery('#respond').after('<ol class=\"' + __list + '\">' + data + '</ol>');\n                            }\n                        } else {\n                            if (Poi.order == 'asc') {\n                                jQuery('.' + __list).append(data);\n                            } else {\n                                jQuery('.' + __list).prepend(data);\n                            }\n                        }\n                        t.createButterbar(\"提交成功(Succeed)\");\n                        lazyload();\n                        code_highlight_style();\n                        click_to_view_image();\n                        clean_upload_images();\n                        cancel.style.display = 'none';\n                        cancel.onclick = null;\n                        t.I('comment_parent').value = '0';\n                        if (temp && respond) {\n                            temp.parentNode.insertBefore(respond, temp);\n                            temp.remove();\n                            //temp.parentNode.removeChild(temp)\n                        }\n                    }\n                }); */\n                return false;\n            })\n            window.addComment = require('./AddComment').default\n        },\n        XCP: function () {\n            document.body.addEventListener('click', function (e) {\n                if (e.target.parentNode == document.getElementById(\"comments-navi\") && e.target.nodeName.toLowerCase() == \"a\") {\n                    e.preventDefault();\n                    e.stopPropagation();\n                    let _this = e.target,\n                        path = _this.pathname,\n                        _xhr = new XMLHttpRequest();\n                    _xhr.open(\"GET\", _this.getAttribute('href'), true);\n                    _xhr.responseType = \"document\";\n                    _xhr.onloadstart = () => {\n                        let comments_navi = document.getElementById(\"comments-navi\"),\n                            commentwrap = document.querySelector(\"ul.commentwrap\"),\n                            loading_comments = document.getElementById(\"loading-comments\"),\n                            comments_list = document.getElementById(\"comments-list-title\");\n                        comments_navi.remove();\n                        commentwrap.remove();\n                        //comments_navi.parentNode.removeChild(comments_navi);\n                        //commentwrap.parentNode.removeChild(commentwrap);\n                        loading_comments.style.display = \"block\";\n                        slideToogle(loading_comments, 500, \"show\");\n                        window.scrollTo({\n                            top: comments_list.getBoundingClientRect().top + window.pageYOffset - comments_list.clientTop - 65,\n                            behavior: \"smooth\"\n                        });\n                    }\n                    _xhr.onreadystatechange = function () {\n                        if (_xhr.readyState == 4 && _xhr.status == 200) {\n                            let json = _xhr.response,\n                                result = json.querySelector(\"ul.commentwrap\"),\n                                nextlink = json.getElementById(\"comments-navi\"),\n                                loading_comments = document.getElementById(\"loading-comments\");\n                            slideToogle(loading_comments, 200, \"hide\");\n                            document.getElementById(\"loading-comments\").insertAdjacentHTML('afterend', result.outerHTML);\n                            document.querySelector(\"ul.commentwrap\").insertAdjacentHTML('afterend', nextlink.outerHTML);\n                            lazyload();\n                            if (window.gtag) {\n                                gtag('config', Poi.google_analytics_id, {\n                                    'page_path': path\n                                });\n                            }\n                            code_highlight_style();\n                            click_to_view_image();\n                            let commentwrap = document.querySelector(\"ul.commentwrap\");\n                            window.scrollTo({\n                                top: commentwrap && (commentwrap.getBoundingClientRect().top + window.pageYOffset - commentwrap.clientTop - 200),\n                                behavior: \"smooth\"\n                            });\n                        }\n                    }\n                    _xhr.send();\n                }\n            });\n        },\n        IA: function () {\n            POWERMODE.colorful = true;\n            POWERMODE.shake = false;\n            document.body.addEventListener('input', POWERMODE)\n        },\n        GT: function () {\n            let mb_to_top = document.querySelector(\"#moblieGoTop\"),\n                changskin = document.querySelector(\"#changskin\");\n            window.addEventListener(\"scroll\", () => {\n                let scroll = document.documentElement.scrollTop || document.body.scrollTop;\n                if (scroll > 20) {\n                    mb_to_top.style.transform = \"scale(1)\";\n                    changskin.style.transform = \"scale(1)\";\n                } else {\n                    mb_to_top.style.transform = \"scale(0)\";\n                    changskin.style.transform = \"scale(0)\";\n                }\n            })\n            mb_to_top.onclick = function () {\n                topFunction();\n            }\n        }\n    }\nif (Poi.pjax) {\n    new Pjax({\n        selectors: [\"#page\", \"title\", \".footer-device\"],\n        elements: [\n            \"a:not([target='_top']):not(.comment-reply-link):not(#pagination a):not(#comments-navi a):not(.user-menu-option a):not(.header-user-avatar a):not(.emoji-item)\",\n            \".search-form\",\n            \".s-search\",\n        ],\n        timeout: 8000,\n        history: true,\n        cacheBust: false,\n    });\n    document.addEventListener(\"pjax:send\", () => {\n        for (const element of document.getElementsByClassName(\"normal-cover-video\")) {\n            element.pause();\n            element.src = '';\n            element.load = '';\n        }\n        document.getElementById(\"bar\").style.width = \"0%\";\n        if (mashiro_option.NProgressON) NProgress.start();\n        Siren.MNH();\n    });\n    document.addEventListener(\"pjax:complete\", function () {\n        Siren.AH();\n        Siren.PE();\n        Siren.CE();\n        //Siren.XLS();\n        if (mashiro_option.NProgressON) NProgress.done();\n        mashiro_global.ini.pjax();\n        let loading = document.getElementById(\"loading\");\n        if (loading) {\n            loading.classList.add(\"hide\");\n            loading.classList.remove(\"show\");\n        }\n        if (Poi.codelamp == 'open') {\n            self.Prism.highlightAll(event)\n        };\n        if (document.querySelector(\".js-search.is-visible\")) {\n            document.getElementsByClassName(\"js-toggle-search\")[0].classList.toggle(\"is-active\");\n            document.getElementsByClassName(\"js-search\")[0].classList.toggle(\"is-visible\");\n            document.documentElement.style.overflowY = \"unset\";\n        }\n    });\n    document.addEventListener(\"pjax:success\", function () {\n        if (window.gtag) {\n            gtag('config', Poi.google_analytics_id, {\n                'page_path': window.location.pathname\n            });\n        }\n    });\n    window.addEventListener('popstate', function (e) {\n        Siren.AH();\n        Siren.PE();\n        Siren.CE();\n        sm();\n        timeSeriesReload(true);\n        post_list_show_animation();\n    }, false);\n}\nready(function () {\n    Siren.AH();\n    Siren.PE();\n    Siren.NH();\n    Siren.GT();\n    Siren.XLS();\n    Siren.XCS();\n    Siren.XCP();\n    Siren.CE();\n    Siren.MN();\n    Siren.IA();\n    Siren.LV();\n    console.log(\"%c Mashiro %c\", \"background:#24272A; color:#ffffff\", \"\", \"https://2heng.xin/\");\n    console.log(\"%c Github %c\", \"background:#24272A; color:#ffffff\", \"\", \"https://github.com/mashirozx\");\n});\nlet isWebkit = navigator.userAgent.toLowerCase().indexOf('webkit') > -1,\n    isOpera = navigator.userAgent.toLowerCase().indexOf('opera') > -1,\n    isIe = navigator.userAgent.toLowerCase().indexOf('msie') > -1;\nif ((isWebkit || isOpera || isIe) && document.getElementById && window.addEventListener) {\n    window.addEventListener('hashchange', function () {\n        let id = location.hash.substring(1),\n            element;\n        if (!(/^[A-z0-9_-]+$/.test(id))) {\n            return;\n        }\n        element = document.getElementById(id);\n        if (element) {\n            if (!(/^(?:a|select|input|button|textarea)$/i.test(element.tagName))) {\n                element.tabIndex = -1;\n            }\n            element.focus();\n        }\n    }, false);\n}\n\n/* 首页下拉箭头 */\nfunction headertop_down() {\n    let coverOffset = document.getElementById(\"content\").getBoundingClientRect().top + window.pageYOffset;\n    window.scrollTo({\n        top: coverOffset,\n        behavior: \"smooth\"\n    });\n}\n\nwindow.onload = function () {\n    document.documentElement.style.overflowY = \"unset\";\n    let preload = document.getElementById(\"preload\");\n    if (!preload) return;\n    preload.classList.add('hide');\n    preload.classList.remove('show');\n    setTimeout('preload.remove()', 666);\n}\n\n\n\nfunction web_audio() {\n    if (mashiro_option.audio) {\n        ready(() => {\n            window.AudioContext = window.AudioContext || window.webkitAudioContext,\n                function () {\n                    if (window.AudioContext) {\n                        let e = new AudioContext,\n                            t = \"880 987 1046 987 1046 1318 987 659 659 880 784 880 1046 784 659 659 698 659 698 1046 659 1046 1046 1046 987 698 698 987 987 880 987 1046 987 1046 1318 987 659 659 880 784 880 1046 784 659 698 1046 987 1046 1174 1174 1174 1046 1046 880 987 784 880 1046 1174 1318 1174 1318 1567 1046 987 1046 1318 1318 1174 784 784 880 1046 987 1174 1046 784 784 1396 1318 1174 659 1318 1046 1318 1760 1567 1567 1318 1174 1046 1046 1174 1046 1174 1567 1318 1318 1760 1567 1318 1174 1046 1046 1174 1046 1174 987 880 880 987 880\".split(\" \"),//天空之城\n                            /*t = \"329.628 329.628 349.228 391.995 391.995 349.228 329.628 293.665 261.626 261.626 293.665 329.628 329.628 293.665 293.665 329.628 329.628 349.228 391.995 391.995 349.228 329.628 293.665 261.626 261.626 293.665 329.628 293.665 261.626 261.626 293.665 293.665 329.628 261.626 293.665 329.628 349.228 329.628 261.626 293.665 329.628 349.228 329.628 293.665 261.626 293.665 195.998 329.628 329.628 349.228 391.995 391.995 349.228 329.628 293.665 261.626 261.626 293.665 329.628 293.665 261.626 261.626\".split(\" \"),欢乐颂*/\n                            i = 0,\n                            o = 1, dom,\n                            a = \"♪ ♩ ♫ ♬ ♭ € § ¶ ♯\".split(\" \"),\n                            n = !1,\n                            select = document.querySelectorAll(\".site-title, #moblieGoTop, .site-branding, .searchbox, .changeSkin-gear, .menu-list li\");\n                        select.forEach((s) => {\n                            s.addEventListener(\"mouseenter\", (y) => {\n                                if (dom) return;\n                                let r = t[i]\n                                r || (i = 0, r = t[i]), i += o\n                                let c = e.createOscillator(),\n                                    l = e.createGain();\n                                if (c.connect(l), l.connect(e.destination), c.type = \"sine\", c.frequency.value = r, l.gain.setValueAtTime(0, e.currentTime), l.gain.linearRampToValueAtTime(1, e.currentTime + .01), c.start(e.currentTime), l.gain.exponentialRampToValueAtTime(.001, e.currentTime + 1), c.stop(e.currentTime + 1), n = !0) {\n                                    let d = Math.round(7 * Math.random());\n                                    dom = document.createElement(\"b\");\n                                    dom.textContent = a[d],\n                                        h = y.pageX,\n                                        p = y.pageY - 5;\n                                    dom.style.zIndex = \"99999\";\n                                    dom.style.top = p - 100 + \"px\";\n                                    dom.style.left = h + \"px\";\n                                    dom.style.position = \"absolute\";\n                                    dom.style.color = \"#FF6EB4\";\n                                    document.body.appendChild(dom);\n                                    dom.animate([\n                                        { top: p + \"px\" },\n                                        { opacity: 0 }\n                                    ], {\n                                        duration: 500\n                                    })\n                                    setTimeout(() => {\n                                        dom.remove();\n                                        dom = null;\n                                    }, 500)\n                                    y.stopPropagation();\n                                }\n                                n = !1\n                            })\n                        })\n                    }\n                }()\n        })\n    }\n}"],"sourceRoot":""}