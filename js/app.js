/*! For license information please see app.js.LICENSE.txt */
(()=>{var e,t,n,o,r={5213:function(e){var t;t=function(){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){var o=document.createElement("canvas");o.width=window.innerWidth,o.height=window.innerHeight,o.style.cssText="position:fixed;top:0;left:0;pointer-events:none;z-index:999999",window.addEventListener("resize",(function(){o.width=window.innerWidth,o.height=window.innerHeight})),document.body.appendChild(o);var r=o.getContext("2d"),s=[],i=0,a=!1;function l(e,t){return Math.random()*(t-e)+e}function c(e){if(u.colorful){var t=l(0,360);return"hsla("+l(t-10,t+10)+", 100%, "+l(50,80)+"%, 1)"}return window.getComputedStyle(e).color}function d(e,t,n){return{x:e,y:t,alpha:1,color:n,velocity:{x:2*Math.random()-1,y:2*Math.random()-3.5}}}function u(){for(var e=function(){var e,t=document.activeElement;if("TEXTAREA"===t.tagName||"INPUT"===t.tagName&&"text"===t.getAttribute("type")){var o=n(1)(t,t.selectionEnd);return e=t.getBoundingClientRect(),{x:o.left+e.left,y:o.top+e.top,color:c(t)}}var r=window.getSelection();if(r.rangeCount){var s=r.getRangeAt(0),i=s.startContainer;return i.nodeType===document.TEXT_NODE&&(i=i.parentNode),{x:(e=s.getBoundingClientRect()).left,y:e.top,color:c(i)}}return{x:0,y:0,color:"transparent"}}(),t=5+Math.round(10*Math.random());t--;)s[i]=d(e.x,e.y,e.color),i=(i+1)%500;if(u.shake){var o=1+2*Math.random(),r=o*(Math.random()>.5?-1:1),l=o*(Math.random()>.5?-1:1);document.body.style.marginLeft=r+"px",document.body.style.marginTop=l+"px",setTimeout((function(){document.body.style.marginLeft="",document.body.style.marginTop=""}),75)}a||requestAnimationFrame(m)}function m(){a=!0,r.clearRect(0,0,o.width,o.height);for(var e=!1,t=o.getBoundingClientRect(),n=0;n<s.length;++n){var i=s[n];i.alpha<=.1||(i.velocity.y+=.075,i.x+=i.velocity.x,i.y+=i.velocity.y,i.alpha*=.96,r.globalAlpha=i.alpha,r.fillStyle=i.color,r.fillRect(Math.round(i.x-1.5)-t.left,Math.round(i.y-1.5)-t.top,3,3),e=!0)}e?requestAnimationFrame(m):a=!1}u.shake=!0,u.colorful=!1,e.exports=u},function(e,t){!function(){var t=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],n=null!=window.mozInnerScreenX;function o(e,o,r){var s=r&&r.debug||!1;if(s){var i=document.querySelector("#input-textarea-caret-position-mirror-div");i&&i.parentNode.removeChild(i)}var a=document.createElement("div");a.id="input-textarea-caret-position-mirror-div",document.body.appendChild(a);var l=a.style,c=window.getComputedStyle?getComputedStyle(e):e.currentStyle;l.whiteSpace="pre-wrap","INPUT"!==e.nodeName&&(l.wordWrap="break-word"),l.position="absolute",s||(l.visibility="hidden"),t.forEach((function(e){l[e]=c[e]})),n?e.scrollHeight>parseInt(c.height)&&(l.overflowY="scroll"):l.overflow="hidden",a.textContent=e.value.substring(0,o),"INPUT"===e.nodeName&&(a.textContent=a.textContent.replace(/\s/g,"Â "));var d=document.createElement("span");d.textContent=e.value.substring(o)||".",a.appendChild(d);var u={top:d.offsetTop+parseInt(c.borderTopWidth),left:d.offsetLeft+parseInt(c.borderLeftWidth)};return s?d.style.backgroundColor="#aaa":document.body.removeChild(a),u}void 0!==e&&void 0!==e.exports?e.exports=o:window.getCaretCoordinates=o}()}])},e.exports=t()},487:e=>{var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=t},1012:e=>{var t,n;t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,o=0;n<e.length;n++,o+=8)t[o>>>5]|=e[n]<<24-o%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],o=0;o<e.length;o+=3)for(var r=e[o]<<16|e[o+1]<<8|e[o+2],s=0;s<4;s++)8*o+6*s<=8*e.length?n.push(t.charAt(r>>>6*(3-s)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],o=0,r=0;o<e.length;r=++o%4)0!=r&&n.push((t.indexOf(e.charAt(o-1))&Math.pow(2,-2*r+8)-1)<<2*r|t.indexOf(e.charAt(o))>>>6-2*r);return n}},e.exports=n},8487:function(e,t,n){var o;o=void 0!==n.g?n.g:this,t.loadCSS=function(e,t,n,r){var s,i=o.document,a=i.createElement("link");if(t)s=t;else{var l=(i.body||i.getElementsByTagName("head")[0]).childNodes;s=l[l.length-1]}var c=i.styleSheets;if(r)for(var d in r)r.hasOwnProperty(d)&&a.setAttribute(d,r[d]);a.rel="stylesheet",a.href=e,a.media="only x",function e(t){if(i.body)return t();setTimeout((function(){e(t)}))}((function(){s.parentNode.insertBefore(a,t?s:s.nextSibling)}));var u=function(e){for(var t=a.href,n=c.length;n--;)if(c[n].href===t)return e();setTimeout((function(){u(e)}))};function m(){a.addEventListener&&a.removeEventListener("load",m),a.media=n||"all"}return a.addEventListener&&a.addEventListener("load",m),a.onloadcssdefined=u,u(m),a}},8738:e=>{function t(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(t(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&t(e.slice(0,0))}(e)||!!e._isBuffer)}},2568:(e,t,n)=>{var o,r,s,i,a;o=n(1012),r=n(487).utf8,s=n(8738),i=n(487).bin,(a=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?i.stringToBytes(e):r.stringToBytes(e):s(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var n=o.bytesToWords(e),l=8*e.length,c=1732584193,d=-271733879,u=-1732584194,m=271733878,h=0;h<n.length;h++)n[h]=16711935&(n[h]<<8|n[h]>>>24)|4278255360&(n[h]<<24|n[h]>>>8);n[l>>>5]|=128<<l%32,n[14+(l+64>>>9<<4)]=l;var p=a._ff,g=a._gg,f=a._hh,y=a._ii;for(h=0;h<n.length;h+=16){var v=c,b=d,w=u,E=m;c=p(c,d,u,m,n[h+0],7,-680876936),m=p(m,c,d,u,n[h+1],12,-389564586),u=p(u,m,c,d,n[h+2],17,606105819),d=p(d,u,m,c,n[h+3],22,-1044525330),c=p(c,d,u,m,n[h+4],7,-176418897),m=p(m,c,d,u,n[h+5],12,1200080426),u=p(u,m,c,d,n[h+6],17,-1473231341),d=p(d,u,m,c,n[h+7],22,-45705983),c=p(c,d,u,m,n[h+8],7,1770035416),m=p(m,c,d,u,n[h+9],12,-1958414417),u=p(u,m,c,d,n[h+10],17,-42063),d=p(d,u,m,c,n[h+11],22,-1990404162),c=p(c,d,u,m,n[h+12],7,1804603682),m=p(m,c,d,u,n[h+13],12,-40341101),u=p(u,m,c,d,n[h+14],17,-1502002290),c=g(c,d=p(d,u,m,c,n[h+15],22,1236535329),u,m,n[h+1],5,-165796510),m=g(m,c,d,u,n[h+6],9,-1069501632),u=g(u,m,c,d,n[h+11],14,643717713),d=g(d,u,m,c,n[h+0],20,-373897302),c=g(c,d,u,m,n[h+5],5,-701558691),m=g(m,c,d,u,n[h+10],9,38016083),u=g(u,m,c,d,n[h+15],14,-660478335),d=g(d,u,m,c,n[h+4],20,-405537848),c=g(c,d,u,m,n[h+9],5,568446438),m=g(m,c,d,u,n[h+14],9,-1019803690),u=g(u,m,c,d,n[h+3],14,-187363961),d=g(d,u,m,c,n[h+8],20,1163531501),c=g(c,d,u,m,n[h+13],5,-1444681467),m=g(m,c,d,u,n[h+2],9,-51403784),u=g(u,m,c,d,n[h+7],14,1735328473),c=f(c,d=g(d,u,m,c,n[h+12],20,-1926607734),u,m,n[h+5],4,-378558),m=f(m,c,d,u,n[h+8],11,-2022574463),u=f(u,m,c,d,n[h+11],16,1839030562),d=f(d,u,m,c,n[h+14],23,-35309556),c=f(c,d,u,m,n[h+1],4,-1530992060),m=f(m,c,d,u,n[h+4],11,1272893353),u=f(u,m,c,d,n[h+7],16,-155497632),d=f(d,u,m,c,n[h+10],23,-1094730640),c=f(c,d,u,m,n[h+13],4,681279174),m=f(m,c,d,u,n[h+0],11,-358537222),u=f(u,m,c,d,n[h+3],16,-722521979),d=f(d,u,m,c,n[h+6],23,76029189),c=f(c,d,u,m,n[h+9],4,-640364487),m=f(m,c,d,u,n[h+12],11,-421815835),u=f(u,m,c,d,n[h+15],16,530742520),c=y(c,d=f(d,u,m,c,n[h+2],23,-995338651),u,m,n[h+0],6,-198630844),m=y(m,c,d,u,n[h+7],10,1126891415),u=y(u,m,c,d,n[h+14],15,-1416354905),d=y(d,u,m,c,n[h+5],21,-57434055),c=y(c,d,u,m,n[h+12],6,1700485571),m=y(m,c,d,u,n[h+3],10,-1894986606),u=y(u,m,c,d,n[h+10],15,-1051523),d=y(d,u,m,c,n[h+1],21,-2054922799),c=y(c,d,u,m,n[h+8],6,1873313359),m=y(m,c,d,u,n[h+15],10,-30611744),u=y(u,m,c,d,n[h+6],15,-1560198380),d=y(d,u,m,c,n[h+13],21,1309151649),c=y(c,d,u,m,n[h+4],6,-145523070),m=y(m,c,d,u,n[h+11],10,-1120210379),u=y(u,m,c,d,n[h+2],15,718787259),d=y(d,u,m,c,n[h+9],21,-343485551),c=c+v>>>0,d=d+b>>>0,u=u+w>>>0,m=m+E>>>0}return o.endian([c,d,u,m])})._ff=function(e,t,n,o,r,s,i){var a=e+(t&n|~t&o)+(r>>>0)+i;return(a<<s|a>>>32-s)+t},a._gg=function(e,t,n,o,r,s,i){var a=e+(t&o|n&~o)+(r>>>0)+i;return(a<<s|a>>>32-s)+t},a._hh=function(e,t,n,o,r,s,i){var a=e+(t^n^o)+(r>>>0)+i;return(a<<s|a>>>32-s)+t},a._ii=function(e,t,n,o,r,s,i){var a=e+(n^(t|~o))+(r>>>0)+i;return(a<<s|a>>>32-s)+t},a._blocksize=16,a._digestsize=16,e.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);var n=o.wordsToBytes(a(e,t));return t&&t.asBytes?n:t&&t.asString?i.bytesToString(n):o.bytesToHex(n)}},4865:function(e,t,n){var o,r;void 0===(r="function"==typeof(o=function(){var e,t,n={version:"0.2.0"},o=n.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function r(e,t,n){return e<t?t:e>n?n:e}function s(e){return 100*(-1+e)}function i(e,t,n){var r;return(r="translate3d"===o.positionUsing?{transform:"translate3d("+s(e)+"%,0,0)"}:"translate"===o.positionUsing?{transform:"translate("+s(e)+"%,0)"}:{"margin-left":s(e)+"%"}).transition="all "+t+"ms "+n,r}n.configure=function(e){var t,n;for(t in e)void 0!==(n=e[t])&&e.hasOwnProperty(t)&&(o[t]=n);return this},n.status=null,n.set=function(e){var t=n.isStarted();e=r(e,o.minimum,1),n.status=1===e?null:e;var s=n.render(!t),c=s.querySelector(o.barSelector),d=o.speed,u=o.easing;return s.offsetWidth,a((function(t){""===o.positionUsing&&(o.positionUsing=n.getPositioningCSS()),l(c,i(e,d,u)),1===e?(l(s,{transition:"none",opacity:1}),s.offsetWidth,setTimeout((function(){l(s,{transition:"all "+d+"ms linear",opacity:0}),setTimeout((function(){n.remove(),t()}),d)}),d)):setTimeout(t,d)})),this},n.isStarted=function(){return"number"==typeof n.status},n.start=function(){n.status||n.set(0);var e=function(){setTimeout((function(){n.status&&(n.trickle(),e())}),o.trickleSpeed)};return o.trickle&&e(),this},n.done=function(e){return e||n.status?n.inc(.3+.5*Math.random()).set(1):this},n.inc=function(e){var t=n.status;return t?("number"!=typeof e&&(e=(1-t)*r(Math.random()*t,.1,.95)),t=r(t+e,0,.994),n.set(t)):n.start()},n.trickle=function(){return n.inc(Math.random()*o.trickleRate)},e=0,t=0,n.promise=function(o){return o&&"resolved"!==o.state()?(0===t&&n.start(),e++,t++,o.always((function(){0==--t?(e=0,n.done()):n.set((e-t)/e)})),this):this},n.render=function(e){if(n.isRendered())return document.getElementById("nprogress");d(document.documentElement,"nprogress-busy");var t=document.createElement("div");t.id="nprogress",t.innerHTML=o.template;var r,i=t.querySelector(o.barSelector),a=e?"-100":s(n.status||0),c=document.querySelector(o.parent);return l(i,{transition:"all 0 linear",transform:"translate3d("+a+"%,0,0)"}),o.showSpinner||(r=t.querySelector(o.spinnerSelector))&&h(r),c!=document.body&&d(c,"nprogress-custom-parent"),c.appendChild(t),t},n.remove=function(){u(document.documentElement,"nprogress-busy"),u(document.querySelector(o.parent),"nprogress-custom-parent");var e=document.getElementById("nprogress");e&&h(e)},n.isRendered=function(){return!!document.getElementById("nprogress")},n.getPositioningCSS=function(){var e=document.body.style,t="WebkitTransform"in e?"Webkit":"MozTransform"in e?"Moz":"msTransform"in e?"ms":"OTransform"in e?"O":"";return t+"Perspective"in e?"translate3d":t+"Transform"in e?"translate":"margin"};var a=function(){var e=[];function t(){var n=e.shift();n&&n(t)}return function(n){e.push(n),1==e.length&&t()}}(),l=function(){var e=["Webkit","O","Moz","ms"],t={};function n(e){return e.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,(function(e,t){return t.toUpperCase()}))}function o(t){var n=document.body.style;if(t in n)return t;for(var o,r=e.length,s=t.charAt(0).toUpperCase()+t.slice(1);r--;)if((o=e[r]+s)in n)return o;return t}function r(e){return e=n(e),t[e]||(t[e]=o(e))}function s(e,t,n){t=r(t),e.style[t]=n}return function(e,t){var n,o,r=arguments;if(2==r.length)for(n in t)void 0!==(o=t[n])&&t.hasOwnProperty(n)&&s(e,n,o);else s(e,r[1],r[2])}}();function c(e,t){return("string"==typeof e?e:m(e)).indexOf(" "+t+" ")>=0}function d(e,t){var n=m(e),o=n+t;c(n,t)||(e.className=o.substring(1))}function u(e,t){var n,o=m(e);c(e,t)&&(n=o.replace(" "+t+" "," "),e.className=n.substring(1,n.length-1))}function m(e){return(" "+(e.className||"")+" ").replace(/\s+/gi," ")}function h(e){e&&e.parentNode&&e.parentNode.removeChild(e)}return n})?o.call(t,n,t,e):o)||(e.exports=r)},8842:(e,t,n)=>{var o=n(1450),r=n(8025),s=n(194),i=n(7534),a=n(5265),l=n(8053),c=n(904),d=n(4982),u=n(1191),m=n(8666),h=n(2833),p=function(e){this.state={numPendingSwitches:0,href:null,options:null},this.options=s(e),this.log("Pjax options",this.options),this.options.scrollRestoration&&"scrollRestoration"in history&&(history.scrollRestoration="manual"),this.maxUid=this.lastUid=a(),this.parseDOM(document),l(window,"popstate",function(e){if(e.state){var t=d(this.options);t.url=e.state.url,t.title=e.state.title,t.history=!1,t.scrollPos=e.state.scrollPos,e.state.uid<this.lastUid?t.backward=!0:t.forward=!0,this.lastUid=e.state.uid,this.loadUrl(e.state.url,t)}}.bind(this))};if(p.switches=i,p.prototype={log:n(8251),getElements:function(e){return e.querySelectorAll(this.options.elements)},parseDOM:function(e){var t=n(6023);r(this.getElements(e),t,this)},refresh:function(e){this.parseDOM(e||document)},reload:function(){window.location.reload()},attachLink:n(5597),attachForm:n(6973),forEachSelectors:function(e,t,o){return n(9147).bind(this)(this.options.selectors,e,t,o)},switchSelectors:function(e,t,o,r){return n(8830).bind(this)(this.options.switches,this.options.switchesOptions,e,t,o,r)},latestChance:function(e){window.location=e},onSwitch:function(){c(window,"resize scroll"),this.state.numPendingSwitches--,0===this.state.numPendingSwitches&&this.afterAllSwitches()},loadContent:function(e,t){if("string"==typeof e){var n=document.implementation.createHTMLDocument("pjax"),o=e.match(/<html[^>]+>/gi);if(o&&o.length&&(o=o[0].match(/\s?[a-z:]+(?:=['"][^'">]+['"])*/gi)).length&&(o.shift(),o.forEach((function(e){var t=e.trim().split("=");1===t.length?n.documentElement.setAttribute(t[0],!0):n.documentElement.setAttribute(t[0],t[1].slice(1,-1))}))),n.documentElement.innerHTML=e,this.log("load content",n.documentElement.attributes,n.documentElement.innerHTML.length),document.activeElement&&u(document,this.options.selectors,document.activeElement))try{document.activeElement.blur()}catch(e){}this.switchSelectors(this.options.selectors,n,document,t)}else c(document,"pjax:complete pjax:error",t)},abortRequest:n(5986),doRequest:n(877),handleResponse:n(6364),loadUrl:function(e,t){t="object"==typeof t?m({},this.options,t):d(this.options),this.log("load href",e,t),this.abortRequest(this.request),c(document,"pjax:send",t),this.request=this.doRequest(e,t,this.handleResponse.bind(this))},afterAllSwitches:function(){var e=Array.prototype.slice.call(document.querySelectorAll("[autofocus]")).pop();e&&document.activeElement!==e&&e.focus(),this.options.selectors.forEach((function(e){r(document.querySelectorAll(e),(function(e){o(e)}))}));var t=this.state;if(t.options.history&&(window.history.state||(this.lastUid=this.maxUid=a(),window.history.replaceState({url:window.location.href,title:document.title,uid:this.maxUid,scrollPos:[0,0]},document.title)),this.lastUid=this.maxUid=a(),window.history.pushState({url:t.href,title:t.options.title,uid:this.maxUid,scrollPos:[0,0]},t.options.title,t.href)),this.forEachSelectors((function(e){this.parseDOM(e)}),this),c(document,"pjax:complete pjax:success",t.options),"function"==typeof t.options.analytics&&t.options.analytics(),t.options.history){var n=document.createElement("a");if(n.href=this.state.href,n.hash){var s=n.hash.slice(1);s=decodeURIComponent(s);var i=0,l=document.getElementById(s)||document.getElementsByName(s)[0];if(l&&l.offsetParent)do{i+=l.offsetTop,l=l.offsetParent}while(l);window.scrollTo(0,i)}else!1!==t.options.scrollTo&&(t.options.scrollTo.length>1?window.scrollTo(t.options.scrollTo[0],t.options.scrollTo[1]):window.scrollTo(0,t.options.scrollTo))}else t.options.scrollRestoration&&t.options.scrollPos&&window.scrollTo(t.options.scrollPos[0],t.options.scrollPos[1]);this.state={numPendingSwitches:0,href:null,options:null}}},p.isSupported=n(6747),p.isSupported())e.exports=p;else{var g=h;for(var f in p.prototype)p.prototype.hasOwnProperty(f)&&"function"==typeof p.prototype[f]&&(g[f]=h);e.exports=g}},5986:(e,t,n)=>{var o=n(2833);e.exports=function(e){e&&e.readyState<4&&(e.onreadystatechange=o,e.abort())}},4050:e=>{e.exports=function(e){var t=e.text||e.textContent||e.innerHTML||"",n=e.src||"",o=e.parentNode||document.querySelector("head")||document.documentElement,r=document.createElement("script");if(t.match("document.write"))return console&&console.log&&console.log("Script contains document.write. Canât be executed correctly. Code skipped ",e),!1;if(r.type="text/javascript",r.id=e.id,""!==n&&(r.src=n,r.async=!1),""!==t)try{r.appendChild(document.createTextNode(t))}catch(e){r.text=t}return o.appendChild(r),(o instanceof HTMLHeadElement||o instanceof HTMLBodyElement)&&o.contains(r)&&o.removeChild(r),!0}},8053:(e,t,n)=>{var o=n(8025);e.exports=function(e,t,n,r){(t="string"==typeof t?t.split(" "):t).forEach((function(t){o(e,(function(e){e.addEventListener(t,n,r)}))}))}},904:(e,t,n)=>{var o=n(8025);e.exports=function(e,t,n){(t="string"==typeof t?t.split(" "):t).forEach((function(t){var r;(r=document.createEvent("HTMLEvents")).initEvent(t,!0,!0),r.eventName=t,n&&Object.keys(n).forEach((function(e){r[e]=n[e]})),o(e,(function(e){var t=!1;e.parentNode||e===document||e===window||(t=!0,document.body.appendChild(e)),e.dispatchEvent(r),t&&e.parentNode.removeChild(e)}))}))}},1450:(e,t,n)=>{var o=n(8025),r=n(4050);e.exports=function(e){"script"===e.tagName.toLowerCase()&&r(e),o(e.querySelectorAll("script"),(function(e){e.type&&"text/javascript"!==e.type.toLowerCase()||(e.parentNode&&e.parentNode.removeChild(e),r(e))}))}},8025:e=>{e.exports=function(e,t,n){return e instanceof HTMLCollection||e instanceof NodeList||e instanceof Array?Array.prototype.forEach.call(e,t,n):t.call(n,e)}},9147:(e,t,n)=>{var o=n(8025);e.exports=function(e,t,n,r){r=r||document,e.forEach((function(e){o(r.querySelectorAll(e),t,n)}))}},6747:e=>{e.exports=function(){return window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]\D|WebApps\/.+CFNetwork)/)}},194:(e,t,n)=>{var o=n(7534);function r(){window._gaq&&_gaq.push(["_trackPageview"]),window.ga&&ga("send","pageview",{page:location.pathname,title:document.title})}e.exports=function(e){return(e=e||{}).elements=e.elements||"a[href], form[action]",e.selectors=e.selectors||["title",".js-Pjax"],e.switches=e.switches||{},e.switchesOptions=e.switchesOptions||{},e.history=void 0===e.history||e.history,e.analytics="function"==typeof e.analytics||!1===e.analytics?e.analytics:r,e.scrollTo=void 0===e.scrollTo?0:e.scrollTo,e.scrollRestoration=void 0===e.scrollRestoration||e.scrollRestoration,e.cacheBust=void 0===e.cacheBust||e.cacheBust,e.debug=e.debug||!1,e.timeout=e.timeout||0,e.currentUrlFullReload=void 0!==e.currentUrlFullReload&&e.currentUrlFullReload,e.switches.head||(e.switches.head=o.switchElementsAlt),e.switches.body||(e.switches.body=o.switchElementsAlt),e}},6973:(e,t,n)=>{var o=n(8053),r=n(4982),s="data-pjax-state",i=function(e,t){if(!a(t)){var n=r(this.options);n.requestOptions={requestUrl:e.getAttribute("action")||window.location.href,requestMethod:e.getAttribute("method")||"GET"};var o=document.createElement("a");o.setAttribute("href",n.requestOptions.requestUrl);var i=function(e,t){if(e.protocol!==window.location.protocol||e.host!==window.location.host)return"external";if(e.hash&&e.href.replace(e.hash,"")===window.location.href.replace(location.hash,""))return"anchor";if(e.href===window.location.href.split("#")[0]+"#")return"anchor-empty";if(t.currentUrlFullReload&&e.href===window.location.href.split("#")[0])return"reload"}(o,n);i?e.setAttribute(s,i):(t.preventDefault(),"multipart/form-data"===e.enctype?n.requestOptions.formData=new FormData(e):n.requestOptions.requestParams=function(e){for(var t=[],n=e.elements,o=0;o<n.length;o++){var r=n[o],s=r.tagName.toLowerCase();if(r.name&&void 0!==r.attributes&&"button"!==s){var i=r.attributes.type;if(!i||"checkbox"!==i.value&&"radio"!==i.value||r.checked){var a=[];if("select"===s)for(var l,c=0;c<r.options.length;c++)(l=r.options[c]).selected&&!l.disabled&&a.push(l.hasAttribute("value")?l.value:l.text);else a.push(r.value);for(var d=0;d<a.length;d++)t.push({name:encodeURIComponent(r.name),value:encodeURIComponent(a[d])})}}}return t}(e),e.setAttribute(s,"submit"),n.triggerElement=e,this.loadUrl(o.href,n))}};var a=function(e){return e.defaultPrevented||!1===e.returnValue};e.exports=function(e){var t=this;e.setAttribute(s,""),o(e,"submit",(function(n){i.call(t,e,n)}))}},5597:(e,t,n)=>{var o=n(8053),r=n(4982),s="data-pjax-state",i=function(e,t){if(!a(t)){var n=r(this.options),o=function(e,t){if(t.which>1||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey)return"modifier";if(e.protocol!==window.location.protocol||e.host!==window.location.host)return"external";if(e.hash&&e.href.replace(e.hash,"")===window.location.href.replace(location.hash,""))return"anchor";if(e.href===window.location.href.split("#")[0]+"#")return"anchor-empty"}(e,t);if(o)e.setAttribute(s,o);else{if(t.preventDefault(),this.options.currentUrlFullReload&&e.href===window.location.href.split("#")[0])return e.setAttribute(s,"reload"),void this.reload();e.setAttribute(s,"load"),n.triggerElement=e,this.loadUrl(e.href,n)}}};var a=function(e){return e.defaultPrevented||!1===e.returnValue};e.exports=function(e){var t=this;e.setAttribute(s,""),o(e,"click",(function(n){i.call(t,e,n)})),o(e,"keyup",function(n){13===n.keyCode&&i.call(t,e,n)}.bind(this))}},6364:(e,t,n)=>{var o=n(4982),r=n(5265),s=n(904);e.exports=function(e,t,n,i){if((i=o(i||this.options)).request=t,!1!==e){var a=window.history.state||{};window.history.replaceState({url:a.url||window.location.href,title:a.title||document.title,uid:a.uid||r(),scrollPos:[document.documentElement.scrollLeft||document.body.scrollLeft,document.documentElement.scrollTop||document.body.scrollTop]},document.title,window.location.href);var l=n;t.responseURL?n!==t.responseURL&&(n=t.responseURL):t.getResponseHeader("X-PJAX-URL")?n=t.getResponseHeader("X-PJAX-URL"):t.getResponseHeader("X-XHR-Redirected-To")&&(n=t.getResponseHeader("X-XHR-Redirected-To"));var c=document.createElement("a");c.href=l;var d=c.hash;c.href=n,d&&!c.hash&&(c.hash=d,n=c.href),this.state.href=n,this.state.options=i;try{this.loadContent(e,i)}catch(e){if(s(document,"pjax:error",i),this.options.debug)throw e;return console&&console.error&&console.error("Pjax switch fail: ",e),this.latestChance(n)}}else s(document,"pjax:complete pjax:error",i)}},8251:e=>{e.exports=function(){this.options.debug&&console&&("function"==typeof console.log?console.log.apply(console,arguments):console.log&&console.log(arguments))}},6023:e=>{var t="data-pjax-state";e.exports=function(e){switch(e.tagName.toLowerCase()){case"a":e.hasAttribute(t)||this.attachLink(e);break;case"form":e.hasAttribute(t)||this.attachForm(e);break;default:throw"Pjax can only be applied on <a> or <form> submit"}}},877:(e,t,n)=>{var o=n(2680);e.exports=function(e,t,n){var r,s=(t=t||{}).requestOptions||{},i=(s.requestMethod||"GET").toUpperCase(),a=s.requestParams||null,l=s.formData||null,c=null,d=new XMLHttpRequest,u=t.timeout||0;if(d.onreadystatechange=function(){4===d.readyState&&(200===d.status?n(d.responseText,d,e,t):0!==d.status&&n(null,d,e,t))},d.onerror=function(o){console.log(o),n(null,d,e,t)},d.ontimeout=function(){n(null,d,e,t)},a&&a.length)switch(r=a.map((function(e){return e.name+"="+e.value})).join("&"),i){case"GET":e=e.split("?")[0],e+="?"+r;break;case"POST":c=r}else l&&(c=l);return t.cacheBust&&(e=o(e,"t",Date.now())),d.open(i,e,!0),d.timeout=u,d.setRequestHeader("X-Requested-With","XMLHttpRequest"),d.setRequestHeader("X-PJAX","true"),d.setRequestHeader("X-PJAX-Selectors",JSON.stringify(t.selectors)),c&&"POST"===i&&!l&&d.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),d.send(c),d}},8830:(e,t,n)=>{var o=n(8025),r=n(7534);e.exports=function(e,t,n,s,i,a){var l=[];n.forEach((function(n){var c=s.querySelectorAll(n),d=i.querySelectorAll(n);if(this.log&&this.log("Pjax switch",n,c,d),c.length!==d.length)throw"DOM doesnât look the same on new loaded page: â"+n+"â - new "+c.length+", old "+d.length;o(c,(function(o,s){var i=d[s];this.log&&this.log("newEl",o,"oldEl",i);var c=e[n]?e[n].bind(this,i,o,a,t[n]):r.outerHTML.bind(this,i,o,a);l.push(c)}),this)}),this),this.state.numPendingSwitches=l.length,l.forEach((function(e){e()}))}},7534:(e,t,n)=>{var o=n(8053);e.exports={outerHTML:function(e,t){e.outerHTML=t.outerHTML,this.onSwitch()},innerHTML:function(e,t){e.innerHTML=t.innerHTML,""===t.className?e.removeAttribute("class"):e.className=t.className,this.onSwitch()},switchElementsAlt:function(e,t){if(e.innerHTML=t.innerHTML,t.hasAttributes())for(var n=t.attributes,o=0;o<n.length;o++)e.attributes.setNamedItem(n[o].cloneNode());this.onSwitch()},replaceNode:function(e,t){e.parentNode.replaceChild(t,e),this.onSwitch()},sideBySide:function(e,t,n,r){var s=Array.prototype.forEach,i=[],a=[],l=document.createDocumentFragment(),c="animationend webkitAnimationEnd MSAnimationEnd oanimationend",d=0,u=function(e){e.target===e.currentTarget&&--d<=0&&i&&(i.forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)})),a.forEach((function(e){e.className=e.className.replace(e.getAttribute("data-pjax-classes"),""),e.removeAttribute("data-pjax-classes")})),a=null,i=null,this.onSwitch())}.bind(this);r=r||{},s.call(e.childNodes,(function(e){i.push(e),e.classList&&!e.classList.contains("js-Pjax-remove")&&(e.hasAttribute("data-pjax-classes")&&(e.className=e.className.replace(e.getAttribute("data-pjax-classes"),""),e.removeAttribute("data-pjax-classes")),e.classList.add("js-Pjax-remove"),r.callbacks&&r.callbacks.removeElement&&r.callbacks.removeElement(e),r.classNames&&(e.className+=" "+r.classNames.remove+" "+(n.backward?r.classNames.backward:r.classNames.forward)),d++,o(e,c,u,!0))})),s.call(t.childNodes,(function(e){if(e.classList){var t="";r.classNames&&(t=" js-Pjax-add "+r.classNames.add+" "+(n.backward?r.classNames.forward:r.classNames.backward)),r.callbacks&&r.callbacks.addElement&&r.callbacks.addElement(e),e.className+=t,e.setAttribute("data-pjax-classes",t),a.push(e),l.appendChild(e),d++,o(e,c,u,!0)}})),e.className=t.className,e.appendChild(l)}}},5265:e=>{var t;e.exports=(t=0,function(){var e="pjax"+(new Date).getTime()+"_"+t;return t++,e})},4982:e=>{e.exports=function(e){if(null===e||"object"!=typeof e)return e;var t=e.constructor();for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}},1191:e=>{e.exports=function(e,t,n){for(var o=0;o<t.length;o++)for(var r=e.querySelectorAll(t[o]),s=0;s<r.length;s++)if(r[s].contains(n))return!0;return!1}},8666:e=>{e.exports=function(e){if(null==e)return null;for(var t=Object(e),n=1;n<arguments.length;n++){var o=arguments[n];if(null!=o)for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r])}return t}},2833:e=>{e.exports=function(){}},2680:e=>{e.exports=function(e,t,n){var o=new RegExp("([?&])"+t+"=.*?(&|$)","i"),r=-1!==e.indexOf("?")?"&":"?";return e.match(o)?e.replace(o,"$1"+t+"="+n+"$2"):e+r+t+"="+n}}},s={};function i(e){var t=s[e];if(void 0!==t)return t.exports;var n=s[e]={exports:{}};return r[e].call(n.exports,n,n.exports,i),n.exports}i.m=r,i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,i.t=function(n,o){if(1&o&&(n=this(n)),8&o)return n;if("object"==typeof n&&n){if(4&o&&n.__esModule)return n;if(16&o&&"function"==typeof n.then)return n}var r=Object.create(null);i.r(r);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&o&&n;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>n[e]));return s.default=()=>n,i.d(r,s),r},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((t,n)=>(i.f[n](e,t),t)),[])),i.u=e=>e+".js",i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},o="sakurairo-scripts:",i.l=(e,t,r,s)=>{if(n[e])n[e].push(t);else{var a,l;if(void 0!==r)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==o+r){a=u;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,i.nc&&a.setAttribute("nonce",i.nc),a.setAttribute("data-webpack",o+r),a.src=e),n[e]=[t];var m=(t,o)=>{a.onerror=a.onload=null,clearTimeout(h);var r=n[e];if(delete n[e],a.parentNode&&a.parentNode.removeChild(a),r&&r.forEach((e=>e(o))),t)return t(o)},h=setTimeout(m.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=m.bind(null,a.onerror),a.onload=m.bind(null,a.onload),l&&document.head.appendChild(a)}},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e})(),(()=>{var e={143:0};i.f.j=(t,n)=>{var o=i.o(e,t)?e[t]:void 0;if(0!==o)if(o)n.push(o[2]);else{var r=new Promise(((n,r)=>o=e[t]=[n,r]));n.push(o[2]=r);var s=i.p+i.u(t),a=new Error;i.l(s,(n=>{if(i.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var r=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+r+": "+s+")",a.name="ChunkLoadError",a.type=r,a.request=s,o[1](a)}}),"chunk-"+t,t)}};var t=(t,n)=>{var o,r,[s,a,l]=n,c=0;for(o in a)i.o(a,o)&&(i.m[o]=a[o]);if(l)l(i);for(t&&t(n);c<s.length;c++)r=s[c],i.o(e,r)&&e[r]&&e[r][0](),e[s[c]]=0},n=self.webpackChunksakurairo_scripts=self.webpackChunksakurairo_scripts||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{function e(e,t={},n=!0){const o=new URL(e),{searchParams:r}=o;for(const[e,n]of Object.entries(t))r.set(e,n);return n&&r.set("_wpnonce",Poi.nonce),o.toString()}var t;let n=null!==(t=mashiro_option.cookie_version_control)&&void 0!==t?t:"";function o(e,t,o){const r=o?"; expires="+new Date(Date.now()+24*o*60*60*1e3).toUTCString():"";document.cookie=e+n+"="+(t||"")+r+"; path=/"}function r(e){const t=e+n+"=",o=document.cookie.split(";");for(let e=0;e<o.length;e++){let n=o[e];for(;" "==n.charAt(0);)n=n.substring(1,n.length);if(0==n.indexOf(t))return n.substring(t.length,n.length)}return null}const s=["# åä¸è½¬è½½è¯·èç³»ä½èè·å¾ææï¼éåä¸è½¬è½½è¯·æ³¨æåºå¤ã","# For commercial use, please contact the author for authorization. For non-commercial use, please indicate the source.","# åè®®(License)ï¼ç½²å-éåä¸æ§ä½¿ç¨-ç¸åæ¹å¼å±äº« 4.0 å½é (CC BY-NC-SA 4.0)","# ä½è(Author)ï¼"+mashiro_option.author_name,"# é¾æ¥(URL)ï¼"+window.location.href,"# æ¥æº(Source)ï¼"+mashiro_option.site_name];function a(e){const t=window.getSelection();if(t){const n=t.toString();n.length>30&&(!function(e,t){e.preventDefault();const n=s.join("<br>")+"<br><br>"+t.replace(/\r\n/g,"<br>"),o=s.join("\n")+"\n\n"+t.toString().replace(/\r\n/g,"\n");if(e.clipboardData)e.clipboardData.setData("text/html",n),e.clipboardData.setData("text/plain",o);else if(window.clipboardData)window.clipboardData.setData("text",o)}(e,n),addComment.createButterbar("å¤å¶æåï¼<br>Copied to clipboard successfully!",1e3))}}function l(){mashiro_option.clipboardCopyright&&(document.body.removeEventListener("copy",a),document.body.addEventListener("copy",a))}var c=i(8487);const d={src:"data-src",srcset:"data-srcset",selector:".lazyload",root:null,rootMargin:"0px",threshold:0};class u{constructor(e,t){this.observer=null,this.settings=Object.assign(Object.assign({},d),t),this.images=e||document.querySelectorAll(this.settings.selector),this.init()}init(){if(!IntersectionObserver)return void this.loadImages();const e=this;let t={root:this.settings.root,rootMargin:this.settings.rootMargin,threshold:[this.settings.threshold]};this.observer=new IntersectionObserver((function(t){Array.prototype.forEach.call(t,(function(t){if(t.isIntersecting){e.observer.unobserve(t.target);let n=t.target.getAttribute(e.settings.src),o=t.target.getAttribute(e.settings.srcset);"img"===t.target.tagName.toLowerCase()?(n&&(t.target.src=n),o&&(t.target.srcset=o)):t.target.style.backgroundImage="url("+n+")"}}))}),t),this.images.forEach((t=>{e.observer.observe(t)}))}loadAndDestroy(){this.settings&&(this.loadImages(),this.destroy())}loadImages(){if(!this.settings)return;const e=this;Array.prototype.forEach.call(this.images,(function(t){let n=t.getAttribute(e.settings.src),o=t.getAttribute(e.settings.srcset);"img"===t.tagName.toLowerCase()?(n&&(t.src=n),o&&(t.srcset=o)):t.style.backgroundImage="url('"+n+"')"}))}destroy(){this.settings&&(this.observer.disconnect(),this.settings=null)}}const m=(e,t)=>new u(e,t);var h=i(4865),p=i.n(h),g=i(8842),f=i.n(g);const y=navigator.userAgent,v=-1!=y.indexOf("Chrome")?/(Chrome)\/(\d+)/i:/(Firefox|Chrome|Version|Opera)\/(\d+)/i,b=y.match(v);Poi.pjax=b&&parseInt(b[2])>={Firefox:84,Edg:88,Chrome:88,Opera:74,Version:9}[b[1]]&&Poi.pjax,0===document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp")&&o("su_webp","1",114514);const w=Poi.pjax&&new(f())({selectors:["#page","title",".footer-device"],elements:["a:not([target='_top']):not(.comment-reply-link):not(#pagination a):not(#comments-navi a):not(.user-menu-option a):not(.header-user-avatar a):not(.emoji-item):not(.no-pjax)",".search-form",".s-search"],timeout:8e3,history:!0,cacheBust:!1}),E={respondId:"",moveForm:function(e,t,n){const o=document.getElementById(e),r=document.getElementById(n),s=document.getElementById("cancel-comment-reply-link"),i=document.getElementById("comment_parent");if(this.respondId=n,!document.getElementById("wp-temp-form-div")){let e;e=document.createElement("div"),e.id="wp-temp-form-div",e.style.display="none",r.parentNode.insertBefore(e,r)}if(o)o.parentNode.insertBefore(r,o.nextSibling);else{const e=document.getElementById("wp-temp-form-div");document.getElementById("comment_parent").value="0",e.parentNode.insertBefore(r,e),e.remove()}const a=document.getElementById("respond");window.scrollTo({top:a.getBoundingClientRect().top+window.pageYOffset-a.clientTop-100,behavior:"smooth"}),i.value=t,s.style.display="",s.onclick=function(e){var t=E,n=document.getElementById("wp-temp-form-div"),o=document.getElementById(t.respondId);return document.getElementById("comment_parent").value="0",n&&o&&(n.parentNode.insertBefore(o,n),n.remove()),this.style.display="none",this.onclick=null,!1};try{document.getElementById("comment").focus()}catch(e){}return!1}};function S(){const e=document.getElementsByClassName("butterBar");if(e.length>0)for(let t=0;t<e.length;t++)e[t].remove()}function L(e,t){S(),document.body.insertAdjacentHTML("beforeend",'<div class="butterBar butterBar--center"><p class="butterBar-message">'+e+"</p></div>"),setTimeout((()=>{S()}),t>0?t:6e3)}const _=E;var x=i(2568),k=i.n(x);const T=[".bili",".menhera",".tieba"];window.addComment=_,window.imgError=function(e,t){switch(t){case 1:e.src="https://view.moezx.cc/images/2017/12/30/Transparent_Akkarin.th.jpg";break;case 2:e.src="https://sdn.geekzu.org/avatar/?s=80&d=mm&r=g";break;default:e.src="https://view.moezx.cc/images/2018/05/13/image-404.png"}},window.cmt_showPopup=function(e){let t=e.querySelector("#thePopup");t.classList.add("show"),e.querySelector("input").onblur=()=>{t.classList.remove("show")}},window.coverVideo=function(){let e=document.getElementById("coverVideo"),t=document.getElementById("coverVideo-btn");if(e.paused){e.play();try{t.innerHTML='<i class="fa fa-pause" aria-hidden="true"></i>'}catch{}}else{e.pause();try{t.innerHTML='<i class="fa fa-play" aria-hidden="true"></i>'}catch{}}},window.killCoverVideo=function(){var e=document.getElementById("coverVideo"),t=document.getElementById("coverVideo-btn");if(e.paused);else{e.pause();try{t.innerHTML='<i class="fa fa-play" aria-hidden="true"></i>'}catch(e){}}},window.mail_me=function(){var e="mailto:"+mashiro_option.email_name+"@"+mashiro_option.email_domain;window.open(e)},window.headertop_down=function(){let e=document.getElementById("content").getBoundingClientRect().top+window.pageYOffset;window.scrollTo({top:e,behavior:"smooth"})},window.motionSwitch=function(e){for(let e=0;e<T.length;e++)document.querySelector(T[e]+"-bar").classList.remove("on-hover"),document.querySelector(T[e]+"-container").style.display="none";document.querySelector(e+"-bar").classList.add("on-hover"),document.querySelector(e+"-container").style.display="block"},window.grin=function(e,t,n,o){let r;switch(t){case"custom":e=n+e+o;break;case"Img":e="[img]"+e+"[/img]";break;case"Math":e=" {{"+e+"}} ";break;case"tieba":e=" ::"+e+":: ";break;default:e=" :"+e+": "}if(!document.getElementById("comment")||"textarea"!=document.getElementById("comment").type)return!1;if(r=document.getElementById("comment"),document.selection)r.focus(),sel=document.selection.createRange(),sel.text=e,r.focus();else if(r.selectionStart||"0"==r.selectionStart){let t=r.selectionStart,n=r.selectionEnd,o=n;r.value=r.value.substring(0,t)+e+r.value.substring(n,r.value.length),o+=e.length,r.focus(),r.selectionStart=o,r.selectionEnd=o}else r.value+=e,r.focus()},window.get_gravatar=(e,t=80)=>"https://"+Poi.gravatar_url+"/"+k()(e)+".jpg?s="+t+"&d=mm";const q=window.matchMedia("(prefers-color-scheme:dark)");let B=!1;function I(e){console.log("å¤é´æ¨¡å¼"+(e?"å¼å¯":"å³é­")),e!==B&&(document.dispatchEvent(new CustomEvent("darkmode",{detail:e})),B=e)}function C(){localStorage.getItem("dark")||(q.matches&&mashiro_option.darkmode?A():j())}function N(e){e==M()?localStorage.removeItem("dark"):1==e?localStorage.setItem("dark","1"):localStorage.setItem("dark","0")}function A(e){document.documentElement.style.background="#333",document.getElementsByClassName("site-content")[0].style.backgroundColor="#333",document.body.classList.add("dark"),e&&N(!0),I(!0)}function j(e){document.documentElement.style.background="unset",document.getElementsByClassName("site-content")[0].style.backgroundColor="rgba(255, 255, 255, .8)",document.body.classList.remove("dark"),document.body.classList.remove("dynamic"),I(!1),e&&N(!1)}function P(){const e=new Date;return e.getHours()>21||e.getHours()<7}function M(){switch(mashiro_option.dm_strategy){case"time":return P();case"client":return q.matches;case"eien":return!0;default:return P()}}"client"===mashiro_option.dm_strategy&&(q.removeEventListener("change",C),q.addEventListener("change",C));var H=i(5213),O=i.n(H);const R=function(e){if("complete"===document.readyState)return e();document.addEventListener("DOMContentLoaded",e,!1)};mashiro_global.variables=new function(){this.has_hls=!1,this.skinSecter=!0},mashiro_global.ini=new function(){this.normalize=function(){m(),z(),te(),pe(),ee(),V(),document.body.clientWidth>860&&window.addEventListener("scroll",(()=>{let e,t=document.documentElement.scrollTop||document.body.scrollTop,n=document.documentElement.scrollHeight||document.body.scrollHeight,o=window.innerHeight,r=parseInt(t/(n-o)*100),s=document.getElementById("bar");switch(s.style.width=r+"%",!0){case r<=19:e="#cccccc";break;case r<=39:e="#50bcb6";break;case r<=59:e="#85c440";break;case r<=79:e="#f2b63c";break;case r<=99:e="#FF0000";break;case 100==r:e="#5aaadb";break;default:e="orange"}s.style.background=e;let i=document.querySelector(".toc-container"),a=document.querySelector(".site-content"),l=document.querySelector(".skin-menu");i&&a&&(i.style.height=a.getBoundingClientRect(outerHeight).height+"px"),l&&l.classList.remove("show")})),le(),re()},this.pjax=function(){oe(),z(),te(),pe(),ee(),V(),le(),re()}};const U=(()=>{var e,t;function n(e,t){const n={autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",contenteditable:"false",design:"by Mashiro"};if(!e.children[0])return;const o=e.children[0].className;let r=o.substr(0,o.indexOf(" ")).replace("language-","");"hljs"==r.toLowerCase()&&(r=t.className.replace("hljs","")?t.className.replace("hljs",""):"text"),e.classList.add("highlight-wrap");for(const t in n)e.setAttribute(t,n[t]);t.setAttribute("data-rel",r.toUpperCase())}async function o(e,t){try{await async function(){try{window.hljs||(window.hljs=await Promise.all([i.e(869),i.e(870),i.e(450),i.e(130),i.e(135),i.e(356),i.e(412),i.e(455),i.e(140),i.e(191),i.e(732),i.e(914)]).then(i.t.bind(i,7869,23)),await i.e(241).then(i.t.bind(i,5241,23)))}catch(e){console.warn(e)}}();for(let e=0;e<t.length;e++)hljs.highlightBlock(t[e]);for(let o=0;o<e.length;o++)n(e[o],t[o]);hljs.initLineNumbersOnLoad();const o=document.querySelector(".entry-content");o&&o.addEventListener("click",(function(e){e.target.classList.contains("highlight-wrap")&&(e.target.classList.toggle("code-block-fullscreen"),document.documentElement.classList.toggle("code-block-fullscreen-html-scroll"))}))}catch(e){console.warn(e)}}const r=null!==(e=null===(t=mashiro_option.code_highlight_prism)||void 0===t?void 0:t.autoload_path)&&void 0!==e?e:"https://cdn.jsdelivr.net/npm/prismjs@1.23.0/";let s;const a=(()=>{var e,t;const{light:n,dark:o}=null!==(e=null===(t=mashiro_option.code_highlight_prism)||void 0===t?void 0:t.theme)&&void 0!==e?e:{},s={light:null!=n?n:"themes/prism.min.css",dark:null!=o?o:"themes/prism-tomorrow.min.css"};for(const e in s)s[e]=new URL(s[e],r).toString();return s})();function l(e){const t=e?a.dark:a.light;if(s){if(s.href!==t){const e=(0,c.loadCSS)(t);e.addEventListener("load",(()=>{s.remove(),s=e}))}}else s=(0,c.loadCSS)(t)}async function d(){try{if(!window.Prism){const{default:e}=await i.e(660).then(i.t.bind(i,5660,23));window.Prism=e}await Promise.all([i.e(475).then(i.t.bind(i,3475,23)),i.e(470).then(i.t.bind(i,9470,23)),i.e(206).then(i.t.bind(i,5206,23)).then((()=>i.e(695).then(i.t.bind(i,2695,23))))]),(0,c.loadCSS)(new URL("plugins/toolbar/prism-toolbar.min.css",r).toString()),(0,c.loadCSS)(new URL("plugins/previewers/prism-previewers.min.css",r).toString()),Prism.plugins.autoloader.languages_path=new URL("components/",r).toString(),l(B),document.addEventListener("darkmode",(e=>{l(e.detail)}))}catch(e){console.warn(e)}}function u(){return(0,c.loadCSS)(new URL("plugins/line-numbers/prism-line-numbers.min.css",r).toString()),i.e(759).then(i.t.bind(i,8759,23))}return async function(){const e=document.getElementsByTagName("pre"),t=document.querySelectorAll("pre code");if(e.length)switch(mashiro_option.code_highlight){case"hljs":return o(e,t);case"prism":return async function(e){try{await d(),mashiro_option.code_highlight_prism.line_number_all&&(document.querySelector(".entry-content").classList.add("line-numbers"),await u()),e.forEach((async e=>{e.parentElement.classList.contains("line-numbers")&&await u(),e.classList.contains("match-braces")&&(await i.e(873).then(i.t.bind(i,7873,23)),(0,c.loadCSS)(new URL("plugins/match-braces/prism-match-braces.min.css",r).toString())),Prism.highlightElement(e)})),Prism.plugins.fileHighlight&&Prism.plugins.fileHighlight.highlight()}catch(e){console.warn(e)}}(t);case"custom":return;default:console.warn(`mashiro_option.code_highlightè¿åå¡«çæ¯ä¸ª${mashiro_option.code_highlight}åð¤`)}}})();function D(e,t=1e3,n="",o){let r=e;r.status=r.status||getComputedStyle(r,null).display;const s="none"!=r.status;1==s&&"show"==n||0==s&&"hide"==n||(r.status=s?"none":"block",r.style.transition="height "+t/1e3+"s",r.style.overflow="hidden",clearTimeout(r.tagTimer),r.tagTimer=r.tagTimer||null,r.style.display="block",r.tagHeight=r.tagHeight||r.clientHeight+"px",r.style.display="",r.style.height=s?r.tagHeight:"0px",setTimeout((()=>{r.style.height=s?"0px":r.tagHeight}),0),r.tagTimer=setTimeout((()=>{r.style.display=s?"none":"block",r.style.transition="",r.style.overflow="",r.style.height="",r.status=r.tagHeight=null}),t),o&&o())}function z(){if(document.querySelector("article")&&document.querySelector("article").classList.contains("post-list-thumb")){const e=new IntersectionObserver((t=>{t.forEach((t=>{window.IntersectionObserver?t.target.classList.contains("post-list-show")?(t.target.style.willChange="auto",e.unobserve(t.target)):t.isIntersecting&&(t.target.classList.add("post-list-show"),t.target.style.willChange="auto",e.unobserve(t.target)):(t.target.style.willChange="auto",!1===t.target.classList.contains("post-list-show")&&t.target.classList.add("post-list-show"))}))}),{root:null,threshold:[.66]}),t=document.getElementsByClassName("post-list-thumb");for(let n=0;n<t.length;n++)e.observe(t[n])}}function F(){const t=document.querySelector(".form-submit #submit");if(null==t)return;if(!mashiro_option.comment_upload_img)return void(t.style.width="100%");t.insertAdjacentHTML("afterend",'<div class="insert-image-tips popup"><i class="fa fa-picture-o" aria-hidden="true"></i><span class="insert-img-popuptext" id="uploadTipPopup">ä¸ä¼ å¾ç</span></div><input id="upload-img-file" type="file" accept="image/*" multiple="multiple" class="insert-image-button">'),function(){let t=document.getElementsByClassName("insert-image-tips")[0],n=document.getElementById("upload-img-file");n&&n.addEventListener("change",(function(){if(this.files.length>10)return L("æ¯æ¬¡ä¸ä¼ ä¸éä¸º10å¼ .<br>10 files max per request."),0;for(let e=0;e<this.files.length;e++)if(this.files[e].size>=5242880)return void alert("å¾çä¸ä¼ å¤§å°éå¶ä¸º5 MB.\n5 MB max per file.\n\nã"+this.files[e].name+"ã\n\nè¿å¼ å¾å¤ªå¤§å¦~è¯·éæ°ä¸ä¼ å¢ï¼\nThis image is too large~Please reupload!");for(let n=0;n<this.files.length;n++){let o=this.files[n],r=new FormData,s=new XMLHttpRequest;r.append("cmt_img_file",o),s.addEventListener("loadstart",(function(){t.innerHTML='<i class="fa fa-spinner rotating" aria-hidden="true"></i>',L("ä¸ä¼ ä¸­...<br>Uploading...")})),s.open("POST",e(Poi.api+"sakura/v1/image/upload"),!0),s.send(r),s.onreadystatechange=function(){if(4!=s.readyState||200!=s.status&&304!=s.status)4==s.readyState&&(t.innerHTML='<i class="fa fa-times" aria-hidden="true" style="color:red"></i>',alert("ä¸ä¼ å¤±è´¥ï¼è¯·éè¯.\nUpload failed, please try again."),setTimeout((function(){t.innerHTML='<i class="fa fa-picture-o" aria-hidden="true"></i>'}),1e3));else{t.innerHTML='<i class="fa fa-check" aria-hidden="true"></i>',setTimeout((function(){t.innerHTML='<i class="fa fa-picture-o" aria-hidden="true"></i>'}),1e3);let e=JSON.parse(s.responseText);if(200==e.status){let t=e.proxy;document.getElementById("upload-img-show").insertAdjacentHTML("afterend",'<img class="lazyload upload-image-preview" src="https://cdn.jsdelivr.net/gh/Fuukei/Public_Repository@latest/vision/theme/colorful/load/inload.svg" data-src="'+t+'" onclick="window.open(\''+t+'\')" onerror="imgError(this)" />'),m(),L("å¾çä¸ä¼ æå~<br>Uploaded successfully~"),grin(t,type="Img")}else L("ä¸ä¼ å¤±è´¥ï¼<br>Uploaded failed!<br> æä»¶å/Filename: "+o.name+"<br>code: "+e.status+"<br>"+e.message,3e3)}}}}))}();const n=document.getElementById("upload-img-file"),o=document.getElementsByClassName("insert-image-tips")[0],r=document.getElementById("uploadTipPopup");n&&(n.addEventListener("mouseenter",(function(){o.classList.toggle("insert-image-tips-hover"),r.classList.toggle("show")})),n.addEventListener("mouseleave",(function(){o.classList.toggle("insert-image-tips-hover"),r.classList.toggle("show")})))}function X(){document.getElementsByClassName("comment_inline_img").length&&document.getElementsByClassName("comments-main")[0].addEventListener("click",(function(e){e.target.classList.contains("comment_inline_img")&&window.open(e.target.src)}))}function W(){document.getElementsByClassName("emoji-item").length&&document.querySelector(".menhera-container").addEventListener("click",(function(e){e.target.classList.contains("emoji-item")&&grin(e.target.innerText,"custom","`","` ")}))}function V(){if(!1===mashiro_global.variables.skinSecter){const e=document.querySelector(".pattern-center"),t=document.querySelector(".headertop-bar");e&&(e.classList.remove("pattern-center"),e.classList.add("pattern-center-sakura")),t&&(t.classList.remove("headertop-bar"),t.classList.add("headertop-bar-sakura"))}else{const e=document.querySelector(".pattern-center-sakura"),t=document.querySelector(".headertop-bar-sakura");e&&(e.classList.remove("pattern-center-sakura"),e.classList.add("pattern-center")),t&&(t.classList.remove("headertop-bar-sakura"),t.classList.add("headertop-bar"))}}function Y(){const e=document.getElementById("primary");e&&e.addEventListener("contextmenu",(function(e){"img"==e.target.nodeName.toLowerCase()&&(e.preventDefault(),e.stopPropagation())}))}function $(e){let t;switch(mashiro_global.variables.skinSecter="white-bg"==e||"dark-bg"==e,V(),e){case"white-bg":t=mashiro_option.skin_bg0;break;case"diy1-bg":t=mashiro_option.skin_bg1;break;case"diy2-bg":t=mashiro_option.skin_bg2;break;case"diy3-bg":t=mashiro_option.skin_bg3;break;case"diy4-bg":t=mashiro_option.skin_bg4}document.body.style.backgroundImage=t?`url(${t})`:""}mashiro_global.font_control=new function(){const e=document.getElementsByClassName("control-btn-serif")[0],t=document.getElementsByClassName("control-btn-sans-serif")[0];this.change_font=function(){document.body.classList.contains("serif")?(document.body.classList.remove("serif"),e&&e.classList.remove("selected"),t&&t.classList.remove("selected"),o("font_family","sans-serif",30)):(document.body.classList.add("serif"),e&&e.classList.add("selected"),t&&t.classList.remove("selected"),o("font_family","serif",30),document.body.clientWidth<=860&&L("å°ä»ç½ç»å è½½å­ä½ï¼æµéè¯·æ³¨æ"))},this.ini=function(){document.body.clientWidth>860&&(r("font_family")&&"serif"!=r("font_family")||document.body.classList.add("serif")),"sans-serif"==r("font_family")&&(document.body.classList.remove("sans-serif"),e&&e.classList.remove("selected"),t&&t.classList.add("selected"))}},mashiro_global.font_control.ini(),U(),X(),W(),Y(),R((function(){function e(){document.querySelector(".skin-menu").classList.remove("show"),setTimeout((function(){null!=document.querySelector(".changeSkin-gear")&&(document.querySelector(".changeSkin-gear").style.visibility="visible")}),300)}!function(){const e=document.querySelector(".centerbg");if(e){const t=document.body.clientWidth<860&&1==mashiro_option.random_graphs_mts,n=new URL(mashiro_option.cover_api);t&&n.searchParams.set("type","mobile"),e.style.backgroundImage="url("+n.toString()+")"}}(),document.querySelectorAll(".menu-list li").forEach((t=>{t.addEventListener("click",(function(){const t=this.id;"dark-bg"==t?A(!0):(j(!0),$(t),localStorage.setItem("bgImgSetting",t)),e()}))})),function(){const e=localStorage.getItem("bgImgSetting");e&&$(e)}(),function(){const e=localStorage.getItem("dark");e?"1"==e?A():j():M()&&mashiro_option.darkmode?A():j()}();let t=document.querySelector("#changskin"),n=document.querySelector(".skin-menu #close-skinMenu");t&&t.addEventListener("click",(function(){document.querySelector(".skin-menu").classList.toggle("show")})),n&&n.addEventListener("click",(function(){e()})),F()}));let G=1;function J(){const e=new URL(mashiro_option.cover_api);document.body.clientWidth<860&&1==mashiro_option.random_graphs_mts?(e.searchParams.set("type","mobile"),document.querySelector(".centerbg").style.backgroundImage="url("+e.toString()+"&"+G+")"):document.querySelector(".centerbg").style.backgroundImage="url("+e.toString()+(""===e.search?"?":"&")+G+")"}function K(){const e=document.getElementById("bg-next"),t=document.getElementById("bg-pre");e&&(e.onclick=()=>{J(),G++}),t&&(t.onclick=()=>{G--,J()})}function Q(e){let t=document.getElementById("archives");if(null==t)return;let n=t.getElementsByClassName("al_mon");1==e?(t.addEventListener("click",(function(e){e.target.classList.contains("al_mon")&&(D(e.target.nextElementSibling,500),e.preventDefault())})),m()):function(){let e=document.getElementById("al_expand_collapse");e.style.cursor="s-resize";for(let e=0;e<n.length;e++){let t=n[e],o=t.nextElementSibling.getElementsByTagName("li").length;t.style.cursor="s-resize",t.querySelector("#post-num").textContent=o}let o=t.getElementsByClassName("al_post_list"),r=o[0];for(let e=0;e<o.length;e++)D(o[e],500,"hide",(function(){D(r,500,"show")}));if(t.addEventListener("click",(function(e){e.target.classList.contains("al_mon")&&(D(e.target.nextElementSibling,500),e.preventDefault())})),document.body.clientWidth>860){for(let e=0;e<o.length;e++){let t=o[e];t.parentNode.addEventListener("mouseover",(function(){return D(t,500,"show"),!1}))}0;let t=0;e.addEventListener("click",(function(){if(0==t){for(let e=0;e<o.length;e++){D(o[e],500,"show")}t++}else if(1==t){for(let e=0;e<o.length;e++){D(o[e],500,"hide")}t--}}))}}()}function Z(){const e=document.getElementById("coverVideo"),t=document.getElementById("coverVideo").getAttribute("data-src");if(Hls.isSupported()){const n=new Hls;n.loadSource(t),n.attachMedia(e),n.on(Hls.Events.MANIFEST_PARSED,(function(){e.play()}))}else e.canPlayType("application/vnd.apple.mpegurl")&&(e.src=t,e.addEventListener("loadedmetadata",(function(){e.play()})))}function ee(){let e=document.getElementsByTagName("video")[0];e&&e.classList.contains("hls")&&(mashiro_global.variables.has_hls?Z():i.e(631).then(i.t.bind(i,7631,23)).then((e=>{window.Hls=e.default,Z(),mashiro_global.variables.has_hls=!0})).catch((e=>console.warn("Hls load failed: ",e))))}function te(){const e=document.querySelectorAll("pre code");for(let t=0;t<e.length;t++)e[t].setAttribute("id","code-block-"+t),e[t].insertAdjacentHTML("afterend",'<a class="copy-code" href="javascript:" data-clipboard-target="#code-block-'+t+'" title="æ·è´ä»£ç "><i class="fa fa-clipboard" aria-hidden="true"></i>');i.e(152).then(i.t.bind(i,2152,23)).then((({default:e})=>{new e(".copy-code")}))}function ne(e){if(!(document.body.clientWidth<=1200))if(document.querySelector("div.have-toc")||document.querySelector("div.has-toc")){if(e){let e=1,t="sakura"==mashiro_option.entry_content_theme?document.querySelector("article.type-post")?document.querySelector("div.pattern-attachment-img")?-75:200:375:window.innerHeight/2,n=document.querySelectorAll(".entry-content,.links");for(let t=0;t<n.length;t++){let o=n[t].querySelectorAll("h1,h2,h3,h4,h5");for(let t=0;t<o.length;t++)o[t].id="toc-head-"+e,e++}i.e(866).then(i.t.bind(i,2866,23)).then((({default:e})=>{e.init({tocSelector:".toc",contentSelector:[".entry-content",".links"],headingSelector:"h1, h2, h3, h4, h5",headingsOffset:t-window.innerHeight/2})}))}}else{let e=document.getElementsByClassName("toc-container")[0];e&&(e.remove(),e=null)}}R(K),Q(),ne(!0);const oe=function(){F(),Y(),X(),W(),mashiro_global.font_control.ini();let e=document.getElementsByTagName("p");for(let t=0;t<e.length;t++)e[t].classList.remove("head-copyright");try{U()}catch(e){console.warn(e)}try{ae()}catch(e){console.warn(e)}m();let t=document.getElementsByTagName("div"),n=document.getElementById("to-load-aplayer");n&&n.addEventListener("click",(()=>{try{reloadHermit()}catch(e){}for(let e=0;e<t.length;e++)t[e].classList.remove("load-aplayer")}));for(let e=0;e<t.length;e++)if(t[e].classList.contains("aplayer"))try{reloadHermit()}catch{}let o=document.getElementsByClassName("iconflat");0!=o.length&&(o[0].style.width="50px",o[0].style.height="50px");let r=document.getElementsByClassName("openNav");0!=r.length&&(r[0].style.height="50px"),K(),ie(),Q(),l(),ne(!0)};function re(){let e=document.getElementsByClassName("sm"),t=document.querySelector(".comments-main");e.length&&("new"==Poi.reply_link_version&&t&&t.addEventListener("click",(function(e){if(e.target.classList.contains("comment-reply-link")){e.preventDefault(),e.stopPropagation();let t=e.target.getAttribute("data-commentid");addComment.moveForm("comment-"+t,t,"respond",this.getAttribute("data-postid"))}})),t&&t.addEventListener("click",(e=>{let t=e.target.parentNode;if(t.classList.contains("sm")){if(1==confirm("æ¨ççè¦è®¾ä¸ºç§å¯åï¼")){if(t.classList.contains("private_now"))return alert("æ¨ä¹åå·²è®¾è¿ç§å¯è¯è®º"),!1;{t.classList.add("private_now");let e=t.getAttribute("data-idp"),n=t.getAttribute("data-actionp"),o=t.getElementsByClassName("has_set_private")[0],r="action=siren_private&p_id="+e+"&p_action="+n,s=new XMLHttpRequest;return s.onreadystatechange=function(){4==this.readyState&&200==this.status&&(o.innerHTML=s.responseText)},s.open("POST","/wp-admin/admin-ajax.php",!0),s.setRequestHeader("Content-type","application/x-www-form-urlencoded"),s.send(r),!1}}alert("å·²åæ¶")}})))}let se=document.getElementsByClassName("comt-addsmilies");function ie(){let e=document.getElementById("emotion-toggle");e&&e.addEventListener("click",(function(){document.querySelector(".emotion-toggle-off").classList.toggle("emotion-hide"),document.querySelector(".emotion-toggle-on").classList.toggle("emotion-show"),document.querySelector(".emotion-box").classList.toggle("emotion-box-show")}))}function ae(){let t=!1;const n=document.querySelector("input#author"),o=document.querySelector("input#qq"),r=document.querySelector("input#email"),s=document.querySelector("input#url"),i=document.querySelector(".qq-check"),a=document.querySelector(".gravatar-check"),l=document.querySelector("div.comment-user-avatar img");if(null==n)return;localStorage.getItem("user_qq")||localStorage.getItem("user_qq_email")||localStorage.getItem("user_author")||(o.value=n.value=r.value=s.value=""),localStorage.getItem("user_avatar")&&localStorage.getItem("user_qq")&&localStorage.getItem("user_qq_email")&&(l.setAttribute("src",localStorage.getItem("user_avatar")),n.value=localStorage.getItem("user_author"),r.value=localStorage.getItem("user_qq")+"@qq.com",o.value=localStorage.getItem("user_qq"),mashiro_option.qzone_autocomplete&&(s.value="https://user.qzone.qq.com/"+localStorage.getItem("user_qq")),o.value&&(i.style.display="block",a.style.display="none"));let c=r.value;n.addEventListener("blur",(()=>{const d=n.value;if(/^[1-9]\d{4,9}$/.test(d)){const u=()=>{o.value="",i.style.display="none",a.style.display="block",l.setAttribute("src",get_gravatar(r.value,80)),localStorage.setItem("user_qq",""),localStorage.setItem("user_email",r.value),localStorage.setItem("user_avatar",get_gravatar(r.value,80))};fetch(e(mashiro_option.qq_api_url,{qq:d})).then((async e=>{if(e.ok)try{const u=await e.json();n.value=u.name,r.value=d.trim()+"@qq.com",mashiro_option.qzone_autocomplete&&(s.value="https://user.qzone.qq.com/"+d.trim()),l.setAttribute("src","https://q2.qlogo.cn/headimg_dl?dst_uin="+d+"&spec=100"),t=!0,o.value=d.trim(),o.value&&(i.style.display="block",a.style.display="none"),localStorage.setItem("user_author",u.name),localStorage.setItem("user_qq",d),localStorage.setItem("is_user_qq","yes"),localStorage.setItem("user_qq_email",d+"@qq.com"),localStorage.setItem("user_email",d+"@qq.com"),c=r.value,l.setAttribute("src",u.avatar),localStorage.setItem("user_avatar",u.avatar)}catch(e){console.warn(e),u()}else u()}))}})),localStorage.getItem("user_avatar")&&localStorage.getItem("user_email")&&"no"==localStorage.getItem("is_user_qq")&&!localStorage.getItem("user_qq_email")&&(l.setAttribute("src",localStorage.getItem("user_avatar")),r.value=localStorage.getItem("user_mail"),o.value="",o.value||(i.style.display="none",a.style.display="block")),r.addEventListener("blur",(function(){let e=r.value;0!=t&&c==e||""==e||(l.setAttribute("src",get_gravatar(e,80)),localStorage.setItem("user_avatar",get_gravatar(e,80)),localStorage.setItem("user_email",e),localStorage.setItem("user_qq_email",""),localStorage.setItem("is_user_qq","no"),o.value="",o.value||(i.style.display="none",a.style.display="block"))})),localStorage.getItem("user_url")&&(s.value=localStorage.getItem("user_url")),s.addEventListener("blur",(function(){let e=s.value;s.value=e,localStorage.setItem("user_url",e)})),localStorage.getItem("user_author")&&(n.value=localStorage.getItem("user_author")),n.addEventListener("blur",(function(){let e=n.value;n.value=e,localStorage.setItem("user_author",e)}))}function le(){const e=document.getElementsByTagName("section");let t=!1;for(let n=0;n<e.length;n++)if(e[n].classList.contains("bangumi")){t=!0;break}t&&document.addEventListener("click",(function(e){const t=e.target;if(t===document.querySelector("#bangumi-pagination a")){e.preventDefault(),e.stopPropagation(),t.classList.add("loading"),t.textContent="";const n=new XMLHttpRequest;n.open("POST",t.href+"&_wpnonce="+Poi.nonce,!0),n.onreadystatechange=function(){if(4==n.readyState&&200==n.status){let e=JSON.parse(n.responseText),t=document.getElementById("bangumi-pagination"),o=document.getElementsByClassName("row")[0];t.remove(),o.insertAdjacentHTML("beforeend",e)}else t.classList.remove("loading"),t.innerHTML='<i class="fa fa-exclamation-triangle" aria-hidden="true"></i> ERROR '},n.send()}}))}se.length>0&&Array.from(se,(e=>{e.addEventListener("click",(()=>{"block"==e.stlye.display?e.style.display="none":e.style.display="block"}))})),document.querySelectorAll(".comt-smilies a").forEach((e=>{e.addEventListener("click",(()=>{e.parentNode.style.display="none"}))})),ie(),l(),R((()=>{ae()})),mashiro_option.float_player_on&&document.body.clientWidth>860&&i.e(297).then(i.bind(i,3297)).then((({aplayerInit:e})=>e())),setTimeout((function(){!function(){let e=document.getElementById("secondary");if(document.body.clientWidth>860){let t=document.querySelector(".show-hide");t&&t.addEventListener("click",(function(){e&&e.classList.toggle("active")}))}else e&&e.remove()}()}),100),mashiro_global.ini.normalize(),(0,c.loadCSS)(mashiro_option.jsdelivr_css_src),(0,c.loadCSS)(mashiro_option.entry_content_style_src),(0,c.loadCSS)("https://at.alicdn.com/t/font_679578_qyt5qzzavdo39pb9.css");var ce=document.getElementById("bgvideo"),de={MN:function(){let e=document.querySelector(".iconflat");e&&e.addEventListener("click",(function(){document.body.classList.toggle("navOpen"),document.getElementById("main-container").classList.toggle("open"),document.getElementById("mo-nav").classList.toggle("open"),document.querySelector(".openNav").classList.toggle("open")}))},MNH:function(){document.body.classList.contains("navOpen")&&(document.body.classList.toggle("navOpen"),document.getElementById("main-container").classList.toggle("open"),document.getElementById("mo-nav").classList.toggle("open"),document.querySelector(".openNav").classList.toggle("open"))},splay:function(){let e=document.getElementById("video-btn");e&&(e.classList.add("video-pause"),e.classList.remove("video-play"),e.style.display="");try{if(document.querySelector(".video-stu").style.bottom="-100px",document.querySelector(".focusinfo").style.top="-999px",mashiro_option.float_player_on)return void i.e(297).then(i.bind(i,3297)).then((({destroyAllAplayer:e})=>{e(),ce.play()}))}catch(e){console.warn(e)}ce.play()},spause:function(){let e=document.getElementById("video-btn");e&&(e.classList.add("video-play"),e.classList.remove("video-pause"));try{document.querySelector(".focusinfo").style.top="49.3%"}catch{}ce.pause()},liveplay:function(){null!=ce.oncanplay&&document.querySelector(".haslive")&&document.querySelector(".videolive")&&de.splay()},livepause:function(){if(null!=ce.oncanplay&&document.querySelector(".haslive")){de.spause();let e=document.getElementsByClassName("video-stu")[0];e.style.bottom="0px",e.innerHTML="å·²æå ..."}},addsource:function(){let e=document.getElementsByClassName("video-stu")[0];e.innerHTML="æ­£å¨è½½å¥è§é¢ ...",e.style.bottom="0px";let t=Poi.movies.name.split(","),n=t[Math.floor(Math.random()*t.length)],o=document.getElementById("bgvideo");o.setAttribute("src",Poi.movies.url+"/"+n+".mp4"),o.setAttribute("video-name",n)},LV:function(){let e=document.getElementById("video-btn");e&&e.addEventListener("click",(function(){this.classList.contains("loadvideo")?(this.classList.add("video-pause"),this.classList.remove("loadvideo"),de.addsource(),ce.oncanplay=function(){de.splay(),document.getElementById("video-add").style.display="block",e.classList.add("videolive","haslive")}):this.classList.contains("video-pause")?(de.spause(),e.classList.remove("videolive"),document.getElementsByClassName("video-stu")[0].style.bottom="0px",document.getElementsByClassName("video-stu")[0].innerHTML="å·²æå ..."):(de.splay(),e.classList.add("videolive")),ce.onended=function(){ce.setAttribute("src",""),document.getElementById("video-add").style.display="none",e&&e.classList.add("loadvideo"),e&&e.classList.remove("video-pause","videolive","haslive"),document.querySelector(".focusinfo").style.top="49.3%"}}));const t=document.getElementById("video-add");t&&t.addEventListener("click",(function(){de.addsource()}))},AH:function(){if("auto"==Poi.windowheight){if(document.querySelector("h1.main-title")){const e=document.getElementById("centerbg"),t=document.getElementById("bgvideo");e&&(e.style.height="100vh"),t&&(t.style.minHeight="100vh")}}else document.querySelector(".headertop")&&document.querySelector(".headertop").classList.add("headertop-bar")},PE:function(){if(document.querySelector(".headertop")){let e=document.querySelector(".headertop"),t=document.querySelector(".blank");if(document.querySelector(".main-title")){try{t.style.paddingTop="0px"}catch(e){}e.style.height="auto",e.style.display="","open"==Poi.movies.live&&de.liveplay()}else{try{t.style.paddingTop="75px"}catch(e){}e.style.height="0px",e.style.display="none",de.livepause()}}},CE:function(){let t=document.querySelector(".comments-hidden"),n=document.querySelector(".comments-main");null!=t&&(t.style.display="block",n.style.display="none",t.addEventListener("click",(function(){D(n,500,"show"),t.style.display="none"})));let o=document.getElementsByClassName("archives");if(o.length>0){for(let e=0;e<o.length;e++)o[e].style.display="none";o[0].style.display="";let e=document.getElementById("archives-temp").getElementsByTagName("h3");for(let t=0;t<e.length;t++)e[t].addEventListener("click",(e=>{e.preventDefault(),e.stopPropagation(),D(e.target.nextElementSibling,300)}))}!function(){const e=document.getElementsByClassName("collapseButton");if(e.length>0){const t=e=>{D(e.target.parentNode.parentNode.parentNode.querySelector(".xContent"))};for(const n of e)n.addEventListener("click",t)}mashiro_option.baguetteBoxON?((0,c.loadCSS)("https://cdn.jsdelivr.net/npm/baguettebox.js@1.11.1/dist/baguetteBox.min.css"),i.e(731).then(i.t.bind(i,5731,23)).then((({default:e})=>{e.run(".entry-content",{captions:function(e){return e.getElementsByTagName("img")[0].alt},ignoreClass:"fancybox"})}))):mashiro_option.fancybox&&((0,c.loadCSS)("https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css"),i.e(755).then(i.t.bind(i,9755,23)).then((e=>{window.jQuery=e.default,window.$=e.default,i.e(155).then(i.t.bind(i,4155,23))})))}();const r=function(){if(document.getElementsByClassName("js-toggle-search")[0].classList.toggle("is-active"),document.getElementsByClassName("js-search")[0].classList.toggle("is-visible"),document.documentElement.style.overflowY="hidden",mashiro_option.live_search){var t=[];l=e(Poi.api+"sakura/v1/cache_search/json"),null!=sessionStorage.getItem("search")?(a(t=JSON.parse(sessionStorage.getItem("search")),document.getElementById("search-input").value,o),s()):fetch(l).then((async e=>{if(e.ok){const r=await e.text();""!=r&&(sessionStorage.setItem("search",r),a(t=JSON.parse(r),n.value,o),s())}else console.warn("HTTP "+e.status)})).catch((e=>console.warn(e)));var n=document.getElementById("search-input"),o=document.getElementById("PostlistBox").innerHTML,r=null;function s(){const e=document.querySelector(".search_close"),t=document.getElementById("Ty");for(const n of document.getElementsByClassName("ins-selectable"))n.addEventListener("click",(()=>{t.href=n.getAttribute("href"),t.click(),e.click()}))}function i(e,t,n,o,r,s,i){if(e){var a=e.trim().split(" "),l=o.indexOf(a[a.length-1]),c=i.indexOf(a[a.length-1]);o=(o=l<60?o.slice(0,80):o.slice(l-30,l+30)).replace(a[a.length-1],'<mark class="search-keyword"> '+a[a.length-1].toUpperCase()+" </mark>"),i=(i=c<60?i.slice(0,80):i.slice(c-30,c+30)).replace(a[a.length-1],'<mark class="search-keyword"> '+a[a.length-1].toUpperCase()+" </mark>")}return'<div class="ins-selectable ins-search-item" href="'+t+'"><header><i class="fa fa-'+n+'" aria-hidden="true"></i>'+o+'<i class="iconfont icon-'+r+'"> '+s+'</i></header><p class="ins-search-preview">'+i+"</p></div>"}function a(e,t,n){var o,r="",s="",a="",l="",c="",d="",u="",m='<section class="ins-section"><header class="ins-section-header">',h="</section>",p="</header>",g=function(e,t){for(let e=0;e<t.length;e++)-1!=[".","?","*"].indexOf(t[e])&&(t=t.slice(0,e)+"\\"+t.slice(e),e++);return t=t.replace(t,"^(?=.*?"+t+").+$").replace(/\s/g,")(?=.*?"),e.filter((e=>Object.values(e).some((e=>new RegExp(t+"").test(e)))))}(e,t.trim());for(o=0;o<Object.keys(g).length;o++)switch((u=g[o]).type){case"post":s+=i(t,u.link,"file",u.title,"mark",u.comments,u.text);break;case"tag":c+=i("",u.link,"tag",u.title,"none","","");break;case"category":l+=i("",u.link,"folder",u.title,"none","","");break;case"page":a+=i(t,u.link,"file",u.title,"mark",u.comments,u.text);break;case"comment":d+=i(t,u.link,"comment",u.title,"none","",u.text)}s&&(r=r+m+"æç« "+p+s+h),a&&(r=r+m+"é¡µé¢"+p+a+h),l&&(r=r+m+"åç±»"+p+l+h),c&&(r=r+m+"æ ç­¾"+p+c+h),d&&(r=r+m+"è¯è®º"+p+d+h),document.getElementById("PostlistBox").innerHTML=r}n.oninput=function(){null==r&&clearTimeout(r),r=setTimeout((function(){a(t,n.value,o),s()}),250)}}var l};for(const e of document.getElementsByClassName("js-toggle-search"))e.addEventListener("click",r);const s=document.querySelector(".search_close");s&&s.addEventListener("click",(function(){let e=document.getElementsByClassName("js-search")[0];e.classList.contains("is-visible")&&(document.getElementsByClassName("js-toggle-search")[0].classList.toggle("is-active"),e.classList.toggle("is-visible"),document.documentElement.style.overflowY="unset")}));try{let e=document.getElementById("show-nav");e.addEventListener("click",(function(){if(e.classList.contains("showNav")){e.classList.remove("showNav"),e.classList.add("hideNav");let t=document.querySelector(".site-top .lower nav");t&&t.classList.add("navbar")}else{e.classList.remove("hideNav"),e.classList.add("showNav");let t=document.querySelector(".site-top .lower nav");t&&t.classList.remove("navbar")}})),document.getElementById("loading").addEventListener("click",(function(){let e=document.getElementById("loading");e.classList.add("hide"),e.classList.remove("show")}))}catch(e){}},NH:function(){window.addEventListener("scroll",(()=>{let e=document.documentElement.scrollTop||window.pageYOffset,t=document.querySelector(".site-header");0==e&&t.classList.remove("yya"),e>0&&t.classList.add("yya")}))},XLS:function(){let e;function t(){const e=document.querySelector("#pagination a");return e.classList.add("loading"),e.innerText="",fetch(e.getAttribute("href")+"#main").then((e=>e.text())).then((t=>{const n=(new DOMParser).parseFromString(t,"text/html"),o=n.querySelectorAll("#main .post"),r=n.querySelector("#pagination a"),s=r&&r.innerText,i=r&&r.getAttribute("href");for(let e=0;e<o.length;e++){let t=o[e];document.getElementById("main").insertAdjacentHTML("beforeend",t.outerHTML)}Poi.pjax&&w.refresh(document.querySelector("#content"));const a=document.querySelector("#pagination a"),l=document.querySelector("#add_post span");if(a&&(a.classList.remove("loading"),a.innerText=s),l&&(l.classList.remove("loading"),l.innerText=""),m(),z(),null!=i){e.setAttribute("href",i);let t=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop;window.scrollTo({top:t+300,behavior:"smooth"})}else document.getElementById("pagination").innerHTML="<span>å¾é«å´ä½ ç¿»å°è¿éï¼ä½æ¯ççæ²¡æäº...</span>"})),!1}new IntersectionObserver((function(n){if(n[0].intersectionRatio<=0)return;const o=document.querySelector("#pagination a");if(o){const n=o.getAttribute("href"),r=document.getElementById("add_post_time");if(null!=n&&r){const n=document.getElementById("add_post_time").title;"233"!=n&&(console.log("%c èªå¨å è½½æ¶åè®¡æ¶ %c","background:#9a9da2; color:#ffffff; border-radius:4px;","","",n),e=setTimeout((function(){t()}),1e3*n))}}})).observe(document.querySelector(".footer-device")),document.body.addEventListener("click",(function(n){n.target==document.querySelector("#pagination a")&&(n.preventDefault(),n.stopPropagation(),clearTimeout(e),t())}))},XCS:function(){const e="commentwrap",t=document.getElementById("commentform");t&&t.addEventListener("submit",(function(){L("æäº¤ä¸­(Commiting)....");const t=new FormData(this);return t.append("action","ajax_comment"),fetch(Poi.ajaxurl,{method:this.attributes.method.value,body:t}).then((async t=>{const n=await t.text();if(t.ok){Array.from(document.getElementsByTagName("textarea")).forEach((e=>e.value=""));const t=document.getElementById("cancel-comment-reply-link"),o=document.getElementById("wp-temp-form-div"),r=document.getElementById(addComment.respondId);"0"!=document.getElementById("comment_parent").value?document.getElementById("respond").insertAdjacentHTML("beforebegin",'<ol class="children">'+n+"</ol>"):document.getElementsByClassName(e).length?"asc"==Poi.order?document.getElementsByClassName("commentwrap")[1].insertAdjacentHTML("beforeend",n):document.getElementsByClassName("commentwrap")[1].insertAdjacentHTML("afterbegin",n):"bottom"==Poi.formpostion?document.getElementById("respond").insertAdjacentHTML("beforebegin",'<ol class="'+e+'">'+n+"</ol>"):document.getElementById("respond").insertAdjacentHTML("afterend",'<ol class="'+e+'">'+n+"</ol>"),L("æäº¤æå(Succeed)"),m(),U(),X(),document.getElementById("upload-img-show").innerHTML="",t.style.display="none",t.onclick=null,document.getElementById("comment_parent").value="0",o&&r&&(o.parentNode.insertBefore(r,o),o.remove())}else L(null!=n?n:"HTTP"+t.status+":"+t.statusText)})).catch((e=>{L(e)})),!1}))},XCP:function(){document.body.addEventListener("click",(function(e){if(e.target.parentNode==document.getElementById("comments-navi")&&"a"==e.target.nodeName.toLowerCase()){e.preventDefault(),e.stopPropagation();let t=e.target,n=t.pathname,o=new XMLHttpRequest;o.open("GET",t.getAttribute("href"),!0),o.responseType="document",o.onloadstart=()=>{let e=document.getElementById("comments-navi"),t=document.querySelector("ul.commentwrap"),n=document.getElementById("loading-comments"),o=document.getElementById("comments-list-title");e.remove(),t.remove(),n.style.display="block",D(n,500,"show"),window.scrollTo({top:o.getBoundingClientRect().top+window.pageYOffset-o.clientTop-65,behavior:"smooth"})},o.onreadystatechange=function(){if(4==o.readyState&&200==o.status){let e=o.response,t=e.querySelector("ul.commentwrap"),r=e.getElementById("comments-navi");D(document.getElementById("loading-comments"),200,"hide"),document.getElementById("loading-comments").insertAdjacentHTML("afterend",t.outerHTML),document.querySelector("ul.commentwrap").insertAdjacentHTML("afterend",r.outerHTML),m(),window.gtag&&gtag("config",Poi.google_analytics_id,{page_path:n}),U(),X();let s=document.querySelector("ul.commentwrap");window.scrollTo({top:s&&s.getBoundingClientRect().top+window.pageYOffset-s.clientTop-200,behavior:"smooth"})}},o.send()}}))},IA:function(){O().colorful=!0,O().shake=!1,document.body.addEventListener("input",O())},GT:function(){let e=document.querySelector("#moblieGoTop"),t=document.querySelector("#changskin");window.addEventListener("scroll",(()=>{(document.documentElement.scrollTop||document.body.scrollTop)>20?(e.style.transform="scale(1)",t.style.transform="scale(1)"):(e.style.transform="scale(0)",t.style.transform="scale(0)")})),e.onclick=function(){window.scrollTo({top:0,behavior:"smooth"})}}};Poi.pjax&&(document.addEventListener("pjax:send",(()=>{for(const e of document.getElementsByClassName("normal-cover-video"))e.pause(),e.src="",e.load="";document.getElementById("bar").style.width="0%",mashiro_option.NProgressON&&p().start(),de.MNH()})),document.addEventListener("pjax:complete",(function(){de.AH(),de.PE(),de.CE(),mashiro_option.NProgressON&&p().done(),mashiro_global.ini.pjax();let e=document.getElementById("loading");e&&(e.classList.add("hide"),e.classList.remove("show")),document.querySelector(".js-search.is-visible")&&(document.getElementsByClassName("js-toggle-search")[0].classList.toggle("is-active"),document.getElementsByClassName("js-search")[0].classList.toggle("is-visible"),document.documentElement.style.overflowY="unset")})),document.addEventListener("pjax:success",(function(){window.gtag&&gtag("config",Poi.google_analytics_id,{page_path:window.location.pathname})})),window.addEventListener("popstate",(function(e){de.AH(),de.PE(),de.CE(),re(),Q(!0),z()}),!1)),R((function(){de.AH(),de.PE(),de.NH(),de.GT(),de.XLS(),de.XCS(),de.XCP(),de.CE(),de.MN(),de.IA(),de.LV(),console.log("%c Mashiro %c","background:#24272A; color:#ffffff","","https://2heng.xin/"),console.log("%c Github %c","background:#24272A; color:#ffffff","","https://github.com/mashirozx")}));let ue=navigator.userAgent.toLowerCase().indexOf("webkit")>-1,me=navigator.userAgent.toLowerCase().indexOf("opera")>-1,he=navigator.userAgent.toLowerCase().indexOf("msie")>-1;function pe(){mashiro_option.audio&&R((()=>{window.AudioContext=window.AudioContext||window.webkitAudioContext,function(){if(window.AudioContext){let e,t=new AudioContext,n="880 987 1046 987 1046 1318 987 659 659 880 784 880 1046 784 659 659 698 659 698 1046 659 1046 1046 1046 987 698 698 987 987 880 987 1046 987 1046 1318 987 659 659 880 784 880 1046 784 659 698 1046 987 1046 1174 1174 1174 1046 1046 880 987 784 880 1046 1174 1318 1174 1318 1567 1046 987 1046 1318 1318 1174 784 784 880 1046 987 1174 1046 784 784 1396 1318 1174 659 1318 1046 1318 1760 1567 1567 1318 1174 1046 1046 1174 1046 1174 1567 1318 1318 1760 1567 1318 1174 1046 1046 1174 1046 1174 987 880 880 987 880".split(" "),o=0,r=1,s="âª â© â« â¬ â­ â¬ Â§ Â¶ â¯".split(" ");document.querySelectorAll(".site-title, #moblieGoTop, .site-branding, .searchbox, .changeSkin-gear, .menu-list li").forEach((i=>{i.addEventListener("mouseenter",(i=>{if(e)return;let a=n[o];a||(o=0,a=n[o]),o+=r;const l=t.createOscillator(),c=t.createGain();l.connect(c),c.connect(t.destination),l.type="sine",l.frequency.value=a,c.gain.setValueAtTime(0,t.currentTime),c.gain.linearRampToValueAtTime(1,t.currentTime+.01),l.start(t.currentTime),c.gain.exponentialRampToValueAtTime(.001,t.currentTime+1),l.stop(t.currentTime+1);const d=Math.round(7*Math.random()),u=i.pageX,m=i.pageY-5;e=document.createElement("b"),e.textContent=s[d],e.style.zIndex="99999",e.style.top=m-100+"px",e.style.left=u+"px",e.style.position="absolute",e.style.color="#FF6EB4",document.body.appendChild(e),e.animate([{top:m+"px"},{opacity:0}],{duration:500}),setTimeout((()=>{e.remove(),e=null}),500),i.stopPropagation()}))}))}}()}))}(ue||me||he)&&document.getElementById&&window.addEventListener&&window.addEventListener("hashchange",(function(){let e,t=location.hash.substring(1);/^[A-z0-9_-]+$/.test(t)&&(e=document.getElementById(t),e&&(/^(?:a|select|input|button|textarea)$/i.test(e.tagName)||(e.tabIndex=-1),e.focus()))}),!1),window.addEventListener("load",(()=>{const e=document.getElementById("preload");e&&(document.documentElement.style.overflowY="unset",0==mashiro_option.preload_blur?(e.classList.add("hide"),e.classList.remove("show"),setTimeout((()=>e.remove()),233)):e.animate([{filter:"blur(0px)",backdropFilter:"blur(10px)",opacity:1},{backdropFilter:"blur(0px)grayscale(0)",opacity:.1},{opacity:0,filter:"blur(100px)"}],{duration:mashiro_option.preload_blur,fill:"forwards",easing:"ease"}).onfinish=()=>{e.remove()})}))})()})();
//# sourceMappingURL=app.js.map