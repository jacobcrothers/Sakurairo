/*! For license information please see app.js.LICENSE.txt */
(()=>{var e,t,n,o,s={323:(e,t,n)=>{"use strict";var o=document.createElement("canvas");o.width=window.innerWidth,o.height=window.innerHeight,o.style.cssText="position:fixed;top:0;left:0;pointer-events:none;z-index:999999",window.addEventListener("resize",(function(){o.width=window.innerWidth,o.height=window.innerHeight})),document.body.appendChild(o);var i=o.getContext("2d"),s=[],r=0,a=!1;function l(e,t){return Math.random()*(t-e)+e}function c(e){if(u.colorful){var t=l(0,360);return"hsla("+l(t-10,t+10)+", 100%, "+l(50,80)+"%, 1)"}return window.getComputedStyle(e).color}function d(e,t,n){return{x:e,y:t,alpha:1,color:n,velocity:{x:2*Math.random()-1,y:2*Math.random()-3.5}}}function u(){for(var e=function(){var e,t=document.activeElement;if("TEXTAREA"===t.tagName||"INPUT"===t.tagName&&"text"===t.getAttribute("type")){var o=n(969)(t,t.selectionEnd);return e=t.getBoundingClientRect(),{x:o.left+e.left,y:o.top+e.top,color:c(t)}}var i=window.getSelection();if(i.rangeCount){var s=i.getRangeAt(0),r=s.startContainer;return r.nodeType===document.TEXT_NODE&&(r=r.parentNode),{x:(e=s.getBoundingClientRect()).left,y:e.top,color:c(r)}}return{x:0,y:0,color:"transparent"}}(),t=5+Math.round(10*Math.random());t--;)s[r]=d(e.x,e.y,e.color),r=(r+1)%500;if(u.shake){var o=1+2*Math.random(),i=o*(Math.random()>.5?-1:1),l=o*(Math.random()>.5?-1:1);document.body.style.marginLeft=i+"px",document.body.style.marginTop=l+"px",setTimeout((function(){document.body.style.marginLeft="",document.body.style.marginTop=""}),75)}a||requestAnimationFrame(m)}function m(){a=!0,i.clearRect(0,0,o.width,o.height);for(var e=!1,t=o.getBoundingClientRect(),n=0;n<s.length;++n){var r=s[n];r.alpha<=.1||(r.velocity.y+=.075,r.x+=r.velocity.x,r.y+=r.velocity.y,r.alpha*=.96,i.globalAlpha=r.alpha,i.fillStyle=r.color,i.fillRect(Math.round(r.x-1.5)-t.left,Math.round(r.y-1.5)-t.top,3,3),e=!0)}e?requestAnimationFrame(m):a=!1}u.shake=!0,u.colorful=!1,e.exports=u},790:(e,t,n)=>{const o=[".bili",".menhera",".tieba"];const i=n(225);window.get_avatar=i,window.imgError=function(e,t){switch(t){case 1:e.src="https://view.moezx.cc/images/2017/12/30/Transparent_Akkarin.th.jpg";break;case 2:e.src="https://sdn.geekzu.org/avatar/?s=80&d=mm&r=g";break;default:e.src="https://view.moezx.cc/images/2018/05/13/image-404.png"}},window.cmt_showPopup=function(e){let t=e.querySelector("#thePopup");t.classList.add("show"),e.querySelector("input").onblur=()=>{t.classList.remove("show")}},window.coverVideo=function(){let e=document.getElementById("coverVideo"),t=document.getElementById("coverVideo-btn");if(e.paused){e.play();try{t.innerHTML='<i class="fa fa-pause" aria-hidden="true"></i>'}catch{}}else{e.pause();try{t.innerHTML='<i class="fa fa-play" aria-hidden="true"></i>'}catch{}}},window.killCoverVideo=function(){var e=document.getElementById("coverVideo"),t=document.getElementById("coverVideo-btn");if(e.paused);else{e.pause();try{t.innerHTML='<i class="fa fa-play" aria-hidden="true"></i>'}catch(e){}}},window.mail_me=function(){var e="mailto:"+mashiro_option.email_name+"@"+mashiro_option.email_domain;window.open(e)},window.headertop_down=function(){let e=document.getElementById("content").getBoundingClientRect().top+window.pageYOffset;window.scrollTo({top:e,behavior:"smooth"})},window.motionSwitch=function(e){for(let e=0;e<o.length;e++)document.querySelector(o[e]+"-bar").classList.remove("on-hover"),document.querySelector(o[e]+"-container").style.display="none";document.querySelector(e+"-bar").classList.add("on-hover"),document.querySelector(e+"-container").style.display="block"}},683:e=>{var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=t},12:e=>{var t,n;t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,o=0;n<e.length;n++,o+=8)t[o>>>5]|=e[n]<<24-o%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],o=0;o<e.length;o+=3)for(var i=e[o]<<16|e[o+1]<<8|e[o+2],s=0;s<4;s++)8*o+6*s<=8*e.length?n.push(t.charAt(i>>>6*(3-s)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],o=0,i=0;o<e.length;i=++o%4)0!=i&&n.push((t.indexOf(e.charAt(o-1))&Math.pow(2,-2*i+8)-1)<<2*i|t.indexOf(e.charAt(o))>>>6-2*i);return n}},e.exports=n},487:function(e,t,n){!function(e){"use strict";t.loadCSS=function(t,n,o,i){var s,r=e.document,a=r.createElement("link");if(n)s=n;else{var l=(r.body||r.getElementsByTagName("head")[0]).childNodes;s=l[l.length-1]}var c=r.styleSheets;if(i)for(var d in i)i.hasOwnProperty(d)&&a.setAttribute(d,i[d]);a.rel="stylesheet",a.href=t,a.media="only x",function e(t){if(r.body)return t();setTimeout((function(){e(t)}))}((function(){s.parentNode.insertBefore(a,n?s:s.nextSibling)}));var u=function(e){for(var t=a.href,n=c.length;n--;)if(c[n].href===t)return e();setTimeout((function(){u(e)}))};function m(){a.addEventListener&&a.removeEventListener("load",m),a.media=o||"all"}return a.addEventListener&&a.addEventListener("load",m),a.onloadcssdefined=u,u(m),a}}(void 0!==n.g?n.g:this)},738:e=>{function t(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(t(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&t(e.slice(0,0))}(e)||!!e._isBuffer)}},568:(e,t,n)=>{var o,i,s,r,a;o=n(12),i=n(683).utf8,s=n(738),r=n(683).bin,(a=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?r.stringToBytes(e):i.stringToBytes(e):s(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var n=o.bytesToWords(e),l=8*e.length,c=1732584193,d=-271733879,u=-1732584194,m=271733878,g=0;g<n.length;g++)n[g]=16711935&(n[g]<<8|n[g]>>>24)|4278255360&(n[g]<<24|n[g]>>>8);n[l>>>5]|=128<<l%32,n[14+(l+64>>>9<<4)]=l;var f=a._ff,p=a._gg,h=a._hh,y=a._ii;for(g=0;g<n.length;g+=16){var v=c,b=d,E=u,L=m;c=f(c,d,u,m,n[g+0],7,-680876936),m=f(m,c,d,u,n[g+1],12,-389564586),u=f(u,m,c,d,n[g+2],17,606105819),d=f(d,u,m,c,n[g+3],22,-1044525330),c=f(c,d,u,m,n[g+4],7,-176418897),m=f(m,c,d,u,n[g+5],12,1200080426),u=f(u,m,c,d,n[g+6],17,-1473231341),d=f(d,u,m,c,n[g+7],22,-45705983),c=f(c,d,u,m,n[g+8],7,1770035416),m=f(m,c,d,u,n[g+9],12,-1958414417),u=f(u,m,c,d,n[g+10],17,-42063),d=f(d,u,m,c,n[g+11],22,-1990404162),c=f(c,d,u,m,n[g+12],7,1804603682),m=f(m,c,d,u,n[g+13],12,-40341101),u=f(u,m,c,d,n[g+14],17,-1502002290),c=p(c,d=f(d,u,m,c,n[g+15],22,1236535329),u,m,n[g+1],5,-165796510),m=p(m,c,d,u,n[g+6],9,-1069501632),u=p(u,m,c,d,n[g+11],14,643717713),d=p(d,u,m,c,n[g+0],20,-373897302),c=p(c,d,u,m,n[g+5],5,-701558691),m=p(m,c,d,u,n[g+10],9,38016083),u=p(u,m,c,d,n[g+15],14,-660478335),d=p(d,u,m,c,n[g+4],20,-405537848),c=p(c,d,u,m,n[g+9],5,568446438),m=p(m,c,d,u,n[g+14],9,-1019803690),u=p(u,m,c,d,n[g+3],14,-187363961),d=p(d,u,m,c,n[g+8],20,1163531501),c=p(c,d,u,m,n[g+13],5,-1444681467),m=p(m,c,d,u,n[g+2],9,-51403784),u=p(u,m,c,d,n[g+7],14,1735328473),c=h(c,d=p(d,u,m,c,n[g+12],20,-1926607734),u,m,n[g+5],4,-378558),m=h(m,c,d,u,n[g+8],11,-2022574463),u=h(u,m,c,d,n[g+11],16,1839030562),d=h(d,u,m,c,n[g+14],23,-35309556),c=h(c,d,u,m,n[g+1],4,-1530992060),m=h(m,c,d,u,n[g+4],11,1272893353),u=h(u,m,c,d,n[g+7],16,-155497632),d=h(d,u,m,c,n[g+10],23,-1094730640),c=h(c,d,u,m,n[g+13],4,681279174),m=h(m,c,d,u,n[g+0],11,-358537222),u=h(u,m,c,d,n[g+3],16,-722521979),d=h(d,u,m,c,n[g+6],23,76029189),c=h(c,d,u,m,n[g+9],4,-640364487),m=h(m,c,d,u,n[g+12],11,-421815835),u=h(u,m,c,d,n[g+15],16,530742520),c=y(c,d=h(d,u,m,c,n[g+2],23,-995338651),u,m,n[g+0],6,-198630844),m=y(m,c,d,u,n[g+7],10,1126891415),u=y(u,m,c,d,n[g+14],15,-1416354905),d=y(d,u,m,c,n[g+5],21,-57434055),c=y(c,d,u,m,n[g+12],6,1700485571),m=y(m,c,d,u,n[g+3],10,-1894986606),u=y(u,m,c,d,n[g+10],15,-1051523),d=y(d,u,m,c,n[g+1],21,-2054922799),c=y(c,d,u,m,n[g+8],6,1873313359),m=y(m,c,d,u,n[g+15],10,-30611744),u=y(u,m,c,d,n[g+6],15,-1560198380),d=y(d,u,m,c,n[g+13],21,1309151649),c=y(c,d,u,m,n[g+4],6,-145523070),m=y(m,c,d,u,n[g+11],10,-1120210379),u=y(u,m,c,d,n[g+2],15,718787259),d=y(d,u,m,c,n[g+9],21,-343485551),c=c+v>>>0,d=d+b>>>0,u=u+E>>>0,m=m+L>>>0}return o.endian([c,d,u,m])})._ff=function(e,t,n,o,i,s,r){var a=e+(t&n|~t&o)+(i>>>0)+r;return(a<<s|a>>>32-s)+t},a._gg=function(e,t,n,o,i,s,r){var a=e+(t&o|n&~o)+(i>>>0)+r;return(a<<s|a>>>32-s)+t},a._hh=function(e,t,n,o,i,s,r){var a=e+(t^n^o)+(i>>>0)+r;return(a<<s|a>>>32-s)+t},a._ii=function(e,t,n,o,i,s,r){var a=e+(n^(t|~o))+(i>>>0)+r;return(a<<s|a>>>32-s)+t},a._blocksize=16,a._digestsize=16,e.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);var n=o.wordsToBytes(a(e,t));return t&&t.asBytes?n:t&&t.asString?r.bytesToString(n):o.bytesToHex(n)}},969:e=>{var t=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing"];function n(e){var n=this;this.element=e,this.div=document.createElement("div"),e.parentNode.insertBefore(this.div,e);var o=this.div.style;this.computed=window.getComputedStyle?getComputedStyle(e):e.currentStyle,o.whiteSpace="pre-wrap","INPUT"!==e.nodeName&&(o.wordWrap="break-word"),o.position="absolute",o.visibility="hidden",t.forEach((function(e){o[e]=n.computed[e]})),o.overflow="hidden",this.divText=document.createTextNode(""),this.div.appendChild(this.divText),this.span=document.createElement("span"),this.spanText=document.createTextNode(""),this.span.appendChild(this.spanText),this.div.appendChild(this.span),window.addEventListener("resize",(function(){o.width=n.computed.width}))}n.prototype.get=function(e,t){this.divText.nodeValue=this.element.value.substring(0,e),"INPUT"===this.element.nodeName&&(this.divText.nodeValue=this.divText.nodeValue.replace(/\s/g," ")),this.spanText.nodeValue=this.element.value.substring(e)||".";var n=this.span.offsetLeft+parseInt(this.computed.borderLeftWidth,10);this.divText.nodeValue=this.element.value.substring(0,t),"INPUT"===this.element.nodeName&&(this.divText.nodeValue=this.divText.nodeValue.replace(/\s/g," ")),this.spanText.nodeValue=this.element.value.substring(t)||".";var o=this.span.offsetLeft+parseInt(this.computed.borderLeftWidth,10);return o<=n&&(o=this.div.offsetWidth+parseInt(this.computed.borderLeftWidth,10)),{top:this.span.offsetTop+parseInt(this.computed.borderTopWidth,10),left:n,right:o}},e.exports=n},557:e=>{e.exports=function(e){var t=[].forEach,n=[].some,o=document.body,i=!0,s=" ";function r(n,o){var i=o.appendChild(function(n){var o=document.createElement("li"),i=document.createElement("a");e.listItemClass&&o.setAttribute("class",e.listItemClass);e.onClick&&(i.onclick=e.onClick);e.includeHtml&&n.childNodes.length?t.call(n.childNodes,(function(e){i.appendChild(e.cloneNode(!0))})):i.textContent=n.textContent;return i.setAttribute("href",e.basePath+"#"+n.id),i.setAttribute("class",e.linkClass+s+"node-name--"+n.nodeName+s+e.extraLinkClasses),o.appendChild(i),o}(n));if(n.children.length){var l=a(n.isCollapsed);n.children.forEach((function(e){r(e,l)})),i.appendChild(l)}}function a(t){var n=e.orderedList?"ol":"ul",o=document.createElement(n),i=e.listClass+s+e.extraListClasses;return t&&(i+=s+e.collapsibleClass,i+=s+e.isCollapsedClass),o.setAttribute("class",i),o}function l(t){var n=0;return t!==document.querySelector(e.contentSelector&&null!=t)&&(n=t.offsetTop,e.hasInnerContainers&&(n+=l(t.offsetParent))),n}function c(t){return-1!==t.className.indexOf(e.collapsibleClass)&&-1!==t.className.indexOf(e.isCollapsedClass)?(t.className=t.className.split(s+e.isCollapsedClass).join(""),c(t.parentNode.parentNode)):t}return{enableTocAnimation:function(){i=!0},disableTocAnimation:function(t){var n=t.target||t.srcElement;"string"==typeof n.className&&-1!==n.className.indexOf(e.linkClass)&&(i=!1)},render:function(e,t){var n=a(!1);t.forEach((function(e){r(e,n)}));var o=document.querySelector(e);if(null!==o)return o.firstChild&&o.removeChild(o.firstChild),0===t.length?o:o.appendChild(n)},updateToc:function(r){var a;a=e.scrollContainer&&document.querySelector(e.scrollContainer)?document.querySelector(e.scrollContainer).scrollTop:document.documentElement.scrollTop||o.scrollTop,e.positionFixedSelector&&function(){var t;t=e.scrollContainer&&document.querySelector(e.scrollContainer)?document.querySelector(e.scrollContainer).scrollTop:document.documentElement.scrollTop||o.scrollTop;var n=document.querySelector(e.positionFixedSelector);"auto"===e.fixedSidebarOffset&&(e.fixedSidebarOffset=document.querySelector(e.tocSelector).offsetTop),t>e.fixedSidebarOffset?-1===n.className.indexOf(e.positionFixedClass)&&(n.className+=s+e.positionFixedClass):n.className=n.className.split(s+e.positionFixedClass).join("")}();var d,u=r;if(i&&null!==document.querySelector(e.tocSelector)&&u.length>0){n.call(u,(function(t,n){return l(t)>a+e.headingsOffset+10?(d=u[0===n?n:n-1],!0):n===u.length-1?(d=u[u.length-1],!0):void 0}));var m=document.querySelector(e.tocSelector).querySelectorAll("."+e.linkClass);t.call(m,(function(t){t.className=t.className.split(s+e.activeLinkClass).join("")}));var g=document.querySelector(e.tocSelector).querySelectorAll("."+e.listItemClass);t.call(g,(function(t){t.className=t.className.split(s+e.activeListItemClass).join("")}));var f=document.querySelector(e.tocSelector).querySelector("."+e.linkClass+".node-name--"+d.nodeName+'[href="'+e.basePath+"#"+d.id.replace(/([ #;&,.+*~':"!^$[\]()=>|/@])/g,"\\$1")+'"]');-1===f.className.indexOf(e.activeLinkClass)&&(f.className+=s+e.activeLinkClass);var p=f.parentNode;p&&-1===p.className.indexOf(e.activeListItemClass)&&(p.className+=s+e.activeListItemClass);var h=document.querySelector(e.tocSelector).querySelectorAll("."+e.listClass+"."+e.collapsibleClass);t.call(h,(function(t){-1===t.className.indexOf(e.isCollapsedClass)&&(t.className+=s+e.isCollapsedClass)})),f.nextSibling&&-1!==f.nextSibling.className.indexOf(e.isCollapsedClass)&&(f.nextSibling.className=f.nextSibling.className.split(s+e.isCollapsedClass).join("")),c(f.parentNode.parentNode)}}}}},340:e=>{e.exports={tocSelector:".js-toc",contentSelector:".js-toc-content",headingSelector:"h1, h2, h3",ignoreSelector:".js-toc-ignore",hasInnerContainers:!1,linkClass:"toc-link",extraLinkClasses:"",activeLinkClass:"is-active-link",listClass:"toc-list",extraListClasses:"",isCollapsedClass:"is-collapsed",collapsibleClass:"is-collapsible",listItemClass:"toc-list-item",activeListItemClass:"is-active-li",collapseDepth:0,scrollSmooth:!0,scrollSmoothDuration:420,scrollSmoothOffset:0,scrollEndCallback:function(e){},headingsOffset:1,throttleTimeout:50,positionFixedSelector:null,positionFixedClass:"is-position-fixed",fixedSidebarOffset:"auto",includeHtml:!1,onClick:function(e){},orderedList:!0,scrollContainer:null,skipRendering:!1,headingLabelCallback:!1,ignoreHiddenElements:!1,headingObjectCallback:null,basePath:"",disableTocScrollSync:!1}},866:function(e,t,n){var o,i,s,r;r=void 0!==n.g?n.g:this.window||this.global,i=[],o=function(e){"use strict";var t,o,i,s=n(340),r={},a={},l=n(557),c=n(620),d=n(693),u=!!(e&&e.document&&e.document.querySelector&&e.addEventListener);if("undefined"!=typeof window||u){var m=Object.prototype.hasOwnProperty;return a.destroy=function(){if(!r.skipRendering)try{document.querySelector(r.tocSelector).innerHTML=""}catch(e){console.warn("Element not found: "+r.tocSelector)}r.scrollContainer&&document.querySelector(r.scrollContainer)?(document.querySelector(r.scrollContainer).removeEventListener("scroll",this._scrollListener,!1),document.querySelector(r.scrollContainer).removeEventListener("resize",this._scrollListener,!1),t&&document.querySelector(r.scrollContainer).removeEventListener("click",this._clickListener,!1)):(document.removeEventListener("scroll",this._scrollListener,!1),document.removeEventListener("resize",this._scrollListener,!1),t&&document.removeEventListener("click",this._clickListener,!1))},a.init=function(e){if(u&&(r=g(s,e||{}),this.options=r,this.state={},r.scrollSmooth&&(r.duration=r.scrollSmoothDuration,r.offset=r.scrollSmoothOffset,a.scrollSmooth=n(764).initSmoothScrolling(r)),t=l(r),o=c(r),this._buildHtml=t,this._parseContent=o,a.destroy(),null!==(i=o.selectHeadings(r.contentSelector,r.headingSelector)))){var m=o.nestHeadingsArray(i).nest;r.skipRendering||t.render(r.tocSelector,m),this._scrollListener=f((function(e){t.updateToc(i),!r.disableTocScrollSync&&d(r);var n=e&&e.target&&e.target.scrollingElement&&0===e.target.scrollingElement.scrollTop;(e&&(0===e.eventPhase||null===e.currentTarget)||n)&&(t.updateToc(i),r.scrollEndCallback&&r.scrollEndCallback(e))}),r.throttleTimeout),this._scrollListener(),r.scrollContainer&&document.querySelector(r.scrollContainer)?(document.querySelector(r.scrollContainer).addEventListener("scroll",this._scrollListener,!1),document.querySelector(r.scrollContainer).addEventListener("resize",this._scrollListener,!1)):(document.addEventListener("scroll",this._scrollListener,!1),document.addEventListener("resize",this._scrollListener,!1));var p=null;return this._clickListener=f((function(e){r.scrollSmooth&&t.disableTocAnimation(e),t.updateToc(i),p&&clearTimeout(p),p=setTimeout((function(){t.enableTocAnimation()}),r.scrollSmoothDuration)}),r.throttleTimeout),r.scrollContainer&&document.querySelector(r.scrollContainer)?document.querySelector(r.scrollContainer).addEventListener("click",this._clickListener,!1):document.addEventListener("click",this._clickListener,!1),this}},a.refresh=function(e){a.destroy(),a.init(e||this.options)},e.tocbot=a,a}function g(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var o in n)m.call(n,o)&&(e[o]=n[o])}return e}function f(e,t,n){var o,i;return t||(t=250),function(){var s=n||this,r=+new Date,a=arguments;o&&r<o+t?(clearTimeout(i),i=setTimeout((function(){o=r,e.apply(s,a)}),t)):(o=r,e.apply(s,a))}}}(r),void 0===(s="function"==typeof o?o.apply(t,i):o)||(e.exports=s)},620:e=>{e.exports=function(e){var t=[].reduce;function n(e){return e[e.length-1]}function o(e){return+e.nodeName.split("H").join("")}function i(t){if(!(t instanceof window.HTMLElement))return t;if(e.ignoreHiddenElements&&(!t.offsetHeight||!t.offsetParent))return null;var n={id:t.id,children:[],nodeName:t.nodeName,headingLevel:o(t),textContent:e.headingLabelCallback?String(e.headingLabelCallback(t.textContent)):t.textContent.trim()};return e.includeHtml&&(n.childNodes=t.childNodes),e.headingObjectCallback?e.headingObjectCallback(n,t):n}return{nestHeadingsArray:function(o){return t.call(o,(function(t,o){var s=i(o);return s&&function(t,o){for(var s=i(t),r=s.headingLevel,a=o,l=n(a),c=r-(l?l.headingLevel:0);c>0;)(l=n(a))&&void 0!==l.children&&(a=l.children),c--;r>=e.collapseDepth&&(s.isCollapsed=!0),a.push(s)}(s,t.nest),t}),{nest:[]})},selectHeadings:function(t,n){var o=n;e.ignoreSelector&&(o=n.split(",").map((function(t){return t.trim()+":not("+e.ignoreSelector+")"})));try{return document.querySelector(t).querySelectorAll(o)}catch(e){return console.warn("Element not found: "+t),null}}}}},764:(e,t)=>{t.initSmoothScrolling=function(e){document.documentElement.style;var t=e.duration,n=e.offset,o=location.hash?i(location.href):location.href;function i(e){return e.slice(0,e.lastIndexOf("#"))}document.body.addEventListener("click",(function(s){var r;"a"!==(r=s.target).tagName.toLowerCase()||!(r.hash.length>0||"#"===r.href.charAt(r.href.length-1))||i(r.href)!==o&&i(r.href)+"#"!==o||s.target.className.indexOf("no-smooth-scroll")>-1||"#"===s.target.href.charAt(s.target.href.length-2)&&"!"===s.target.href.charAt(s.target.href.length-1)||-1===s.target.className.indexOf(e.linkClass)||function(e,t){var n,o,i=window.pageYOffset,s={duration:t.duration,offset:t.offset||0,callback:t.callback,easing:t.easing||u},r=document.querySelector('[id="'+decodeURI(e).split("#").join("")+'"]'),a="string"==typeof e?s.offset+(e?r&&r.getBoundingClientRect().top||0:-(document.documentElement.scrollTop||document.body.scrollTop)):e,l="function"==typeof s.duration?s.duration(a):s.duration;function c(e){o=e-n,window.scrollTo(0,s.easing(o,i,a,l)),o<l?requestAnimationFrame(c):d()}function d(){window.scrollTo(0,i+a),"function"==typeof s.callback&&s.callback()}function u(e,t,n,o){return(e/=o/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t}requestAnimationFrame((function(e){n=e,c(e)}))}(s.target.hash,{duration:t,offset:n,callback:function(){var e,t;e=s.target.hash,(t=document.getElementById(e.substring(1)))&&(/^(?:a|select|input|button|textarea)$/i.test(t.tagName)||(t.tabIndex=-1),t.focus())}})}),!1)}},693:e=>{e.exports=function(e){var t=document.querySelector(e.tocSelector);if(t&&t.scrollHeight>t.clientHeight){var n=t.querySelector("."+e.activeListItemClass);n&&(t.scrollTop=n.offsetTop)}}},713:(e,t)=>{"use strict";const n={respondId:"",moveForm:function(e,t,o){const i=document.getElementById(e),s=document.getElementById(o),r=document.getElementById("cancel-comment-reply-link"),a=document.getElementById("comment_parent");let l;if(this.respondId=o,document.getElementById("wp-temp-form-div")||(l=document.createElement("div"),l.id="wp-temp-form-div",l.style.display="none",s.parentNode.insertBefore(l,s)),i)i.parentNode.insertBefore(s,i.nextSibling);else{const e=document.getElementById("wp-temp-form-div");document.getElementById("comment_parent").value="0",e.parentNode.insertBefore(s,e),e.remove()}const c=document.getElementById("respond");window.scrollTo({top:c.getBoundingClientRect().top+window.pageYOffset-c.clientTop-100,behavior:"smooth"}),a.value=t,r.style.display="",r.onclick=function(e){var t=n,o=document.getElementById("wp-temp-form-div"),i=document.getElementById(t.respondId);return document.getElementById("comment_parent").value="0",o&&i&&(o.parentNode.insertBefore(i,o),o.remove()),this.style.display="none",this.onclick=null,!1};try{document.getElementById("comment").focus()}catch(e){}return!1},clearButterbar:function(){const e=document.getElementsByClassName("butterBar");if(e.length>0)for(let t=0;t<e.length;t++)e[t].remove()},createButterbar:function(e,t){const n=this;n.clearButterbar(),document.body.insertAdjacentHTML("beforeend",'<div class="butterBar butterBar--center"><p class="butterBar-message">'+e+"</p></div>"),setTimeout((()=>{n.clearButterbar()}),t>0?t:6e3)}};t.Z=n},990:(e,t)=>{"use strict";t.Z=function(e,t={},n=!0){const o=new URL(e),{searchParams:i}=o;for(const[e,n]of Object.entries(t))i.set(e,n);return n&&i.set("_wpnonce",Poi.nonce),o.toString()}},37:(e,t)=>{"use strict";const n=["# 商业转载请联系作者获得授权，非商业转载请注明出处。","# For commercial use, please contact the author for authorization. For non-commercial use, please indicate the source.","# 协议(License)：署名-非商业性使用-相同方式共享 4.0 国际 (CC BY-NC-SA 4.0)","# 作者(Author)："+mashiro_option.author_name,"# 链接(URL)："+window.location.href,"# 来源(Source)："+mashiro_option.site_name];function o(e){const t=window.getSelection();if(t){const o=t.toString();o.length>30&&(!function(e,t){e.preventDefault();const o=n.join("<br>")+"<br><br>"+t.replace(/\r\n/g,"<br>"),i=n.join("\n")+"\n\n"+t.toString().replace(/\r\n/g,"\n");if(e.clipboardData)e.clipboardData.setData("text/html",o),e.clipboardData.setData("text/plain",i);else if(window.clipboardData)window.clipboardData.setData("text",i)}(e,o),addComment.createButterbar("复制成功！<br>Copied to clipboard successfully!",1e3))}}t.Z=function(){mashiro_option.clipboardCopyright&&(document.body.removeEventListener("copy",o),document.body.addEventListener("copy",o))}},520:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkDarkModeCookie=t.ifDarkmodeShouldOn=t.turnOffDarkMode=t.turnOnDarkMode=void 0;const o=n(458),i=window.matchMedia("(prefers-color-scheme:dark)");function s(){o.getCookie("dark")||(i.matches&&mashiro_option.darkmode?r():a())}function r(e){document.documentElement.style.background="#333333",document.getElementsByClassName("site-content")[0].style.backgroundColor="#333333",document.body.classList.add("dark"),e&&(o.setCookie("dark","1",.33),o.setCookie("bgImgSetting","white-bg",30)),console.log("夜间模式开启")}function a(e){const t=o.getCookie("bgImgSetting");if(e||!t||"white-bg"===t){if(document.body.clientWidth>860)setTimeout((function(){document.documentElement.style.background="unset",document.getElementsByClassName("site-content")[0].style.backgroundColor="rgba(255, 255, 255, .8)",document.body.classList.remove("dark"),e&&o.setCookie("dark","0",.33),o.setCookie("bgImgSetting","white-bg",30),document.body.classList.remove("dynamic"),document.body.style.backgroundImage=`url(${mashiro_option.skin_bg0})`,console.log("夜间模式关闭")}),100);else{document.documentElement.style.background="unset",document.body.classList.remove("dark");const e=document.getElementById("moblieDarkLight");e?e.innerHTML='<i class="fa fa-moon-o" aria-hidden="true"></i>':console.warn("#moblieDarkLight not found")}e&&o.setCookie("dark","0",.33)}}function l(){const e=new Date;return e.getHours()>21||e.getHours()<7}function c(){switch(mashiro_option.dm_strategy){case"time":return l();case"client":return i.matches;case"eien":return!0;default:return l()}}"client"===mashiro_option.dm_strategy&&(i.removeEventListener("change",s),i.addEventListener("change",s)),t.turnOnDarkMode=r,t.turnOffDarkMode=a,t.ifDarkmodeShouldOn=c,t.checkDarkModeCookie=function(){const e=o.getCookie("dark"),t=c();e?"1"==e&&t&&mashiro_option.darkmode?r():"0"!=e&&t||a():t&&mashiro_option.darkmode?r():a()}},225:function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=o(n(568));t.default=function(e,t){return t=t||80,"https://"+Poi.gravatar_url+"/"+i.default(e)+".jpg?s="+t+"&d=mm"}},458:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeCookie=t.getCookie=t.setCookie=void 0;let n=mashiro_option.cookie_version_control??"";t.setCookie=function(e,t,o){const i=o?"; expires="+new Date(Date.now()+24*o*60*60*1e3).toUTCString():"";document.cookie=e+n+"="+(t||"")+i+"; path=/"},t.getCookie=function(e){const t=e+n+"=",o=document.cookie.split(";");for(let e=0;e<o.length;e++){let n=o[e];for(;" "==n.charAt(0);)n=n.substring(1,n.length);if(0==n.indexOf(t))return n.substring(t.length,n.length)}return null},t.removeCookie=function(e){document.cookie=e+n+"=; Max-Age=-99999999;"}}},r={};function a(e){var t=r[e];if(void 0!==t)return t.exports;var n=r[e]={exports:{}};return s[e].call(n.exports,n,n.exports,a),n.exports}a.m=s,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,a.t=function(n,o){if(1&o&&(n=this(n)),8&o)return n;if("object"==typeof n&&n){if(4&o&&n.__esModule)return n;if(16&o&&"function"==typeof n.then)return n}var i=Object.create(null);a.r(i);var s={};e=e||[null,t({}),t([]),t(t)];for(var r=2&o&&n;"object"==typeof r&&!~e.indexOf(r);r=t(r))Object.getOwnPropertyNames(r).forEach((e=>s[e]=()=>n[e]));return s.default=()=>n,a.d(i,s),i},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((t,n)=>(a.f[n](e,t),t)),[])),a.u=e=>e+".js",a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},o="sakurairo-scripts:",a.l=(e,t,i,s)=>{if(n[e])n[e].push(t);else{var r,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==o+i){r=u;break}}r||(l=!0,(r=document.createElement("script")).charset="utf-8",r.timeout=120,a.nc&&r.setAttribute("nonce",a.nc),r.setAttribute("data-webpack",o+i),r.src=e),n[e]=[t];var m=(t,o)=>{r.onerror=r.onload=null,clearTimeout(g);var i=n[e];if(delete n[e],r.parentNode&&r.parentNode.removeChild(r),i&&i.forEach((e=>e(o))),t)return t(o)},g=setTimeout(m.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=m.bind(null,r.onerror),r.onload=m.bind(null,r.onload),l&&document.head.appendChild(r)}},a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;a.g.importScripts&&(e=a.g.location+"");var t=a.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=e})(),(()=>{var e={143:0};a.f.j=(t,n)=>{var o=a.o(e,t)?e[t]:void 0;if(0!==o)if(o)n.push(o[2]);else{var i=new Promise(((n,i)=>o=e[t]=[n,i]));n.push(o[2]=i);var s=a.p+a.u(t),r=new Error;a.l(s,(n=>{if(a.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var i=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;r.message="Loading chunk "+t+" failed.\n("+i+": "+s+")",r.name="ChunkLoadError",r.type=i,r.request=s,o[1](r)}}),"chunk-"+t,t)}};var t=(t,n)=>{var o,i,[s,r,l]=n,c=0;for(o in r)a.o(r,o)&&(a.m[o]=r[o]);for(l&&l(a),t&&t(n);c<s.length;c++)i=s[c],a.o(e,i)&&e[i]&&e[i][0](),e[s[c]]=0},n=self.webpackChunksakurairo_scripts=self.webpackChunksakurairo_scripts||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{const e=a(37).Z,{loadCSS:t}=a(487);(()=>{const e=navigator.userAgent;let t;t=-1!=e.indexOf("Chrome")?/(Chrome)\/(\d+)/i:/(Firefox|Chrome|Version|Opera)\/(\d+)/i;const n=e.match(t);Poi.pjax=n&&n[2]>={Firefox:84,Edg:88,Chrome:88,Opera:74,Version:9}[n[1]]&&Poi.pjax})(),mashiro_global.variables=new function(){this.has_hls=!1,this.skinSecter=!0},mashiro_global.ini=new function(){this.normalize=function(){lazyload(),c(),q(),V(),x(),y(),document.body.clientWidth>860&&window.addEventListener("scroll",(()=>{let e,t=document.documentElement.scrollTop||document.body.scrollTop,n=document.documentElement.scrollHeight||document.body.scrollHeight,o=window.innerHeight,i=parseInt(t/(n-o)*100),s=document.getElementById("bar");switch(s.style.width=i+"%",!0){case i<=19:e="#cccccc";break;case i<=39:e="#50bcb6";break;case i<=59:e="#85c440";break;case i<=79:e="#f2b63c";break;case i<=99:e="#FF0000";break;case 100==i:e="#5aaadb";break;default:e="orange"}s.style.background=e;let r=document.querySelector(".toc-container"),a=document.querySelector(".site-content"),l=document.querySelector(".skin-menu");r&&a&&(r.style.height=a.getBoundingClientRect(outerHeight).height+"px"),l&&l.classList.remove("show")})),M(),I()},this.pjax=function(){N(),c(),q(),V(),x(),y(),M(),I()}};const n=a(990).Z,{setCookie:o,getCookie:s,removeCookie:r}=a(458);function l(e,t=1e3,n="",o){let i=e;i.status=i.status||getComputedStyle(i,null).display;const s="none"!=i.status;1==s&&"show"==n||0==s&&"hide"==n||(i.status=s?"none":"block",i.style.transition="height "+t/1e3+"s",i.style.overflow="hidden",clearTimeout(i.tagTimer),i.tagTimer=i.tagTimer||null,i.style.display="block",i.tagHeight=i.tagHeight||i.clientHeight+"px",i.style.display="",i.style.height=s?i.tagHeight:"0px",setTimeout((()=>{i.style.height=s?"0px":i.tagHeight}),0),i.tagTimer=setTimeout((()=>{i.style.display=s?"none":"block",i.style.transition="",i.style.overflow="",i.style.height="",i.status=i.tagHeight=null}),t),o&&o())}function c(){if(document.querySelector("article")&&document.querySelector("article").classList.contains("post-list-thumb")){const e=new IntersectionObserver((t=>{t.forEach((t=>{window.IntersectionObserver?t.target.classList.contains("post-list-show")?(t.target.style.willChange="auto",e.unobserve(t.target)):t.isIntersecting&&(t.target.classList.add("post-list-show"),t.target.style.willChange="auto",e.unobserve(t.target)):(t.target.style.willChange="auto",!1===t.target.classList.contains("post-list-show")&&t.target.classList.add("post-list-show"))}))}),{root:null,threshold:[.66]}),t=document.getElementsByClassName("post-list-thumb");for(let n=0;n<t.length;n++)e.observe(t[n])}}function d(){const e=document.getElementsByTagName("pre"),t=document.querySelectorAll("pre code");if(!e.length)return;function n(n){let o={autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",contenteditable:"false",design:"by Mashiro"},i=e[n].children[0].className,s=i.substr(0,i.indexOf(" ")).replace("language-",""),r=t[n];"hljs"==s.toLowerCase()&&(s=r.className.replace("hljs","")?r.className.replace("hljs",""):"text"),e[n].classList.add("highlight-wrap");for(let t in o)e[n].setAttribute(t,o[t]);r.setAttribute("data-rel",s.toUpperCase())}for(let e=0;e<t.length;e++)hljs.highlightBlock(t[e]);for(let t=0;t<e.length;t++)n(t);hljs.initLineNumbersOnLoad();const o=document.querySelector(".entry-content");o&&o.addEventListener("click",(function(e){e.target.classList.contains("highlight-wrap")&&(e.target.classList.toggle("code-block-fullscreen"),document.documentElement.classList.toggle("code-block-fullscreen-html-scroll"))}))}mashiro_global.font_control=new function(){const e=document.getElementsByClassName("control-btn-serif")[0],t=document.getElementsByClassName("control-btn-sans-serif")[0];this.change_font=function(){document.body.classList.contains("serif")?(document.body.classList.remove("serif"),e&&e.classList.remove("selected"),t&&t.classList.remove("selected"),o("font_family","sans-serif",30)):(document.body.classList.add("serif"),e&&e.classList.add("selected"),t&&t.classList.remove("selected"),o("font_family","serif",30),document.body.clientWidth<=860&&addComment.createButterbar("将从网络加载字体，流量请注意"))},this.ini=function(){document.body.clientWidth>860&&(s("font_family")&&"serif"!=s("font_family")||document.body.classList.add("serif")),"sans-serif"==s("font_family")&&(document.body.classList.remove("sans-serif"),e&&e.classList.remove("selected"),t&&t.classList.add("selected"))}},mashiro_global.font_control.ini();try{d()}catch(e){}const u=function(e){if("complete"===document.readyState)return e();document.addEventListener("DOMContentLoaded",e,!1)};function m(){let e=document.querySelector(".form-submit #submit");if(null==e)return;e.insertAdjacentHTML("afterend",'<div class="insert-image-tips popup"><i class="fa fa-picture-o" aria-hidden="true"></i><span class="insert-img-popuptext" id="uploadTipPopup">上传图片</span></div><input id="upload-img-file" type="file" accept="image/*" multiple="multiple" class="insert-image-button">'),function(){let e=document.getElementsByClassName("insert-image-tips")[0],t=document.getElementById("upload-img-file");t&&t.addEventListener("change",(function(){if(this.files.length>10)return addComment.createButterbar("每次上传上限为10张.<br>10 files max per request."),0;for(let e=0;e<this.files.length;e++)if(this.files[e].size>=5242880)return void alert("图片上传大小限制为5 MB.\n5 MB max per file.\n\n「"+this.files[e].name+"」\n\n这张图太大啦~请重新上传噢！\nThis image is too large~Please reupload!");for(let t=0;t<this.files.length;t++){let o=this.files[t],i=new FormData,s=new XMLHttpRequest;i.append("cmt_img_file",o),s.addEventListener("loadstart",(function(){e.innerHTML='<i class="fa fa-spinner rotating" aria-hidden="true"></i>',addComment.createButterbar("上传中...<br>Uploading...")})),s.open("POST",n(Poi.api+"sakura/v1/image/upload"),!0),s.send(i),s.onreadystatechange=function(){if(4!=s.readyState||200!=s.status&&304!=s.status)4==s.readyState&&(e.innerHTML='<i class="fa fa-times" aria-hidden="true" style="color:red"></i>',alert("上传失败，请重试.\nUpload failed, please try again."),setTimeout((function(){e.innerHTML='<i class="fa fa-picture-o" aria-hidden="true"></i>'}),1e3));else{e.innerHTML='<i class="fa fa-check" aria-hidden="true"></i>',setTimeout((function(){e.innerHTML='<i class="fa fa-picture-o" aria-hidden="true"></i>'}),1e3);let t=JSON.parse(s.responseText);if(200==t.status){let e=t.proxy;document.getElementById("upload-img-show").insertAdjacentHTML("afterend",'<img class="lazyload upload-image-preview" src="https://cdn.jsdelivr.net/gh/Fuukei/Public_Repository@latest/vision/theme/colorful/load/inload.svg" data-src="'+e+'" onclick="window.open(\''+e+'\')" onerror="imgError(this)" />'),lazyload(),addComment.createButterbar("图片上传成功~<br>Uploaded successfully~"),O(e,type="Img")}else addComment.createButterbar("上传失败！<br>Uploaded failed!<br> 文件名/Filename: "+o.name+"<br>code: "+t.status+"<br>"+t.message,3e3)}}}}))}();let t=document.getElementById("upload-img-file"),o=document.getElementsByClassName("insert-image-tips")[0],i=document.getElementById("uploadTipPopup");t&&(t.addEventListener("mouseenter",(function(){o.classList.toggle("insert-image-tips-hover"),i.classList.toggle("show")})),t.addEventListener("mouseleave",(function(){o.classList.toggle("insert-image-tips-hover"),i.classList.toggle("show")})))}function g(){document.getElementsByClassName("comment_inline_img").length&&document.getElementsByClassName("comments-main")[0].addEventListener("click",(function(e){e.target.classList.contains("comment_inline_img")&&window.open(e.target.src)}))}function f(){document.getElementsByClassName("emoji-item").length&&document.querySelector(".menhera-container").addEventListener("click",(function(e){e.target.classList.contains("emoji-item")&&O(e.target.innerText,"custom","`","` ")}))}function y(){if(!1===mashiro_global.variables.skinSecter){const e=document.querySelector(".pattern-center"),t=document.querySelector(".headertop-bar");e&&(e.classList.remove("pattern-center"),e.classList.add("pattern-center-sakura")),t&&(t.classList.remove("headertop-bar"),t.classList.add("headertop-bar-sakura"))}else{const e=document.querySelector(".pattern-center-sakura"),t=document.querySelector(".headertop-bar-sakura");e&&(e.classList.remove("pattern-center-sakura"),e.classList.add("pattern-center")),t&&(t.classList.remove("headertop-bar-sakura"),t.classList.add("headertop-bar"))}}g(),f();const{checkDarkModeCookie:v,ifDarkmodeShouldOn:b,turnOnDarkMode:E,turnOffDarkMode:L}=a(520);function w(){const e=document.getElementById("primary");e&&e.addEventListener("contextmenu",(function(e){"img"==e.target.nodeName.toLowerCase()&&(e.preventDefault(),e.stopPropagation())}))}w(),u((function(){!function(){const e=document.querySelector(".centerbg");if(e){const t=document.body.clientWidth<860&&1==mashiro_option.random_graphs_mts,n=new URL(mashiro_option.cover_api);t&&n.searchParams.set("type","mobile"),e.style.backgroundImage="url("+n.toString()+")"}}();function e(){document.querySelector(".skin-menu").classList.remove("show"),setTimeout((function(){null!=document.querySelector(".changeSkin-gear")&&(document.querySelector(".changeSkin-gear").style.visibility="visible")}),300)}document.querySelectorAll(".menu-list li").forEach((t=>{t.addEventListener("click",(function(){const t=this.id;if(mashiro_global.variables.skinSecter="white-bg"==t||"dark-bg"==t,y(),"dark-bg"==t)E(!0);else if("white-bg"==t)L(!0);else{let e;switch(document.documentElement.style.background="unset",document.getElementsByClassName("site-content")[0].style.backgroundColor="rgba(255, 255, 255, .8)",document.body.classList.remove("dark"),o("dark","0",.33),o("bgImgSetting",t,30),t){case"diy1-bg":e=mashiro_option.skin_bg1;break;case"diy2-bg":e=mashiro_option.skin_bg2;break;case"diy3-bg":e=mashiro_option.skin_bg3;break;case"diy4-bg":e=mashiro_option.skin_bg4}document.body.style.backgroundImage=`url(${e})`}e()}))})),function(){const e=s("bgImgSetting");e&&"white-bg"!==e&&document.getElementById(e).click()}(),!s("darkcache")&&b&&(r("dark"),o("darkcache","cached",.4)),setTimeout((function(){v()}),100);let t=document.querySelector("#changskin"),n=document.querySelector(".skin-menu #close-skinMenu");t&&t.addEventListener("click",(function(){document.querySelector(".skin-menu").classList.toggle("show")})),n&&n.addEventListener("click",(function(){e()})),m()}));let k=1;function S(){const e=new URL(mashiro_option.cover_api);document.body.clientWidth<860&&1==mashiro_option.random_graphs_mts?(e.searchParams.set("type","mobile"),document.querySelector(".centerbg").style.backgroundImage="url("+e.toString()+"&"+k+")"):document.querySelector(".centerbg").style.backgroundImage="url("+e.toString()+(""===e.search?"?"+k:"&"+k)+")"}function C(){const e=document.getElementById("bg-next"),t=document.getElementById("bg-pre");e&&(e.onclick=()=>{S(),k++}),t&&(t.onclick=()=>{k--,S()})}function _(e){let t=document.getElementById("archives");if(null==t)return;let n=t.getElementsByClassName("al_mon");1==e?(t.addEventListener("click",(function(e){e.target.classList.contains("al_mon")&&(l(e.target.nextElementSibling,500),e.preventDefault())})),lazyload()):function(){let e=document.getElementById("al_expand_collapse");e.style.cursor="s-resize";for(let e=0;e<n.length;e++){let t=n[e],o=t.nextElementSibling.getElementsByTagName("li").length;t.style.cursor="s-resize",t.querySelector("#post-num").textContent=o}let o=t.getElementsByClassName("al_post_list"),i=o[0];for(let e=0;e<o.length;e++)l(o[e],500,"hide",(function(){l(i,500,"show")}));if(t.addEventListener("click",(function(e){e.target.classList.contains("al_mon")&&(l(e.target.nextElementSibling,500),e.preventDefault())})),document.body.clientWidth>860){for(let e=0;e<o.length;e++){let t=o[e];t.parentNode.addEventListener("mouseover",(function(){return l(t,500,"show"),!1}))}0;let t=0;e.addEventListener("click",(function(){if(0==t){for(let e=0;e<o.length;e++){l(o[e],500,"show")}t++}else if(1==t){for(let e=0;e<o.length;e++){l(o[e],500,"hide")}t--}}))}}()}function T(){const e=document.getElementById("coverVideo"),t=document.getElementById("coverVideo").getAttribute("data-src");if(Hls.isSupported()){const n=new Hls;n.loadSource(t),n.attachMedia(e),n.on(Hls.Events.MANIFEST_PARSED,(function(){e.play()}))}else e.canPlayType("application/vnd.apple.mpegurl")&&(e.src=t,e.addEventListener("loadedmetadata",(function(){e.play()})))}function x(){let e=document.getElementsByTagName("video")[0];e&&e.classList.contains("hls")&&(mashiro_global.variables.has_hls?T():a.e(631).then(a.t.bind(a,631,23)).then((e=>{window.Hls=e.default,T(),mashiro_global.variables.has_hls=!0})).catch((e=>console.warn("Hls load failed: ",e))))}function q(){let e=document.querySelectorAll("pre code");for(let t=0;t<e.length;t++)e[t].setAttribute("id","hljs-"+t),e[t].insertAdjacentHTML("afterend",'<a class="copy-code" href="javascript:" data-clipboard-target="#hljs-'+t+'" title="拷贝代码"><i class="fa fa-clipboard" aria-hidden="true"></i>');new ClipboardJS(".copy-code")}function B(e){if(!(document.body.clientWidth<=1200))if(document.querySelector("div.have-toc")||document.querySelector("div.has-toc")){if(e){let e=1,t="sakura"==mashiro_option.entry_content_theme?document.querySelector("article.type-post")?document.querySelector("div.pattern-attachment-img")?-75:200:375:window.innerHeight/2,n=document.querySelectorAll(".entry-content,.links");for(let t=0;t<n.length;t++){let o=n[t].querySelectorAll("h1,h2,h3,h4,h5");for(let t=0;t<o.length;t++)o[t].id="toc-head-"+e,e++}a(866).init({tocSelector:".toc",contentSelector:[".entry-content",".links"],headingSelector:"h1, h2, h3, h4, h5",headingsOffset:t-window.innerHeight/2})}}else{let e=document.getElementsByClassName("toc-container")[0];e&&(e.remove(),e=null)}}u(C),_(),B(!0);const N=function(){m(),w(),g(),f(),mashiro_global.font_control.ini();let t=document.getElementsByTagName("p");for(let e=0;e<t.length;e++)t[e].classList.remove("head-copyright");try{d()}catch{}try{H()}catch{}lazyload();let n=document.getElementsByTagName("div"),o=document.getElementById("to-load-aplayer");o&&o.addEventListener("click",(()=>{try{reloadHermit()}catch(e){}for(let e=0;e<n.length;e++)n[e].classList.remove("load-aplayer")}));for(let e=0;e<n.length;e++)if(n[e].classList.contains("aplayer"))try{reloadHermit()}catch{}let i=document.getElementsByClassName("iconflat");0!=i.length&&(i[0].style.width="50px",i[0].style.height="50px");let s=document.getElementsByClassName("openNav");0!=s.length&&(s[0].style.height="50px"),C(),j(),_(),e(),B(!0)};function I(){let e=document.getElementsByClassName("sm"),t=document.querySelector(".comments-main");e.length&&("new"==Poi.reply_link_version&&t&&t.addEventListener("click",(function(e){if(e.target.classList.contains("comment-reply-link")){e.preventDefault(),e.stopPropagation();let t=e.target.getAttribute("data-commentid");addComment.moveForm("comment-"+t,t,"respond",this.getAttribute("data-postid"))}})),t&&t.addEventListener("click",(e=>{let t=e.target.parentNode;if(t.classList.contains("sm")){if(1==confirm("您真的要设为私密吗？")){if(t.classList.contains("private_now"))return alert("您之前已设过私密评论"),!1;{t.classList.add("private_now");let e=t.getAttribute("data-idp"),n=t.getAttribute("data-actionp"),o=t.getElementsByClassName("has_set_private")[0],i="action=siren_private&p_id="+e+"&p_action="+n,s=new XMLHttpRequest;return s.onreadystatechange=function(){4==this.readyState&&200==this.status&&(o.innerHTML=s.responseText)},s.open("POST","/wp-admin/admin-ajax.php",!0),s.setRequestHeader("Content-type","application/x-www-form-urlencoded"),s.send(i),!1}}alert("已取消")}})))}let A=document.getElementsByClassName("comt-addsmilies");function j(){let e=document.getElementById("emotion-toggle");e&&e.addEventListener("click",(function(){document.querySelector(".emotion-toggle-off").classList.toggle("emotion-hide"),document.querySelector(".emotion-toggle-on").classList.toggle("emotion-show"),document.querySelector(".emotion-box").classList.toggle("emotion-box-show")}))}function O(e,t,n,o){let i;switch(t){case"custom":e=n+e+o;break;case"Img":e="[img]"+e+"[/img]";break;case"Math":e=" {{"+e+"}} ";break;case"tieba":e=" ::"+e+":: ";break;default:e=" :"+e+": "}if(!document.getElementById("comment")||"textarea"!=document.getElementById("comment").type)return!1;if(i=document.getElementById("comment"),document.selection)i.focus(),sel=document.selection.createRange(),sel.text=e,i.focus();else if(i.selectionStart||"0"==i.selectionStart){let t=i.selectionStart,n=i.selectionEnd,o=n;i.value=i.value.substring(0,t)+e+i.value.substring(n,i.value.length),o+=e.length,i.focus(),i.selectionStart=o,i.selectionEnd=o}else i.value+=e,i.focus()}function H(){let e=!1;const t=document.querySelector("input#author"),i=document.querySelector("input#qq"),r=document.querySelector("input#email"),a=document.querySelector("input#url"),l=document.querySelector(".qq-check"),c=document.querySelector(".gravatar-check"),d=document.querySelector("div.comment-user-avatar img");if(null==t)return;s("user_qq")||s("user_qq_email")||s("user_author")||(i.value=t.value=r.value=a.value=""),s("user_avatar")&&s("user_qq")&&s("user_qq_email")&&(d.setAttribute("src",s("user_avatar")),t.value=s("user_author"),r.value=s("user_qq")+"@qq.com",i.value=s("user_qq"),mashiro_option.qzone_autocomplete&&(a.value="https://user.qzone.qq.com/"+s("user_qq")),i.value&&(l.style.display="block",c.style.display="none"));let u=r.value;t.addEventListener("blur",(()=>{let i=t.value;/^[1-9]\d{4,9}$/.test(i)&&$.ajax({type:"get",url:n(mashiro_option.qq_api_url,{qq:i}),dataType:"json",success:function(n){t.value=n.name,r.value=i.trim()+"@qq.com",mashiro_option.qzone_autocomplete&&(a.value="https://user.qzone.qq.com/"+i.trim()),d.setAttribute("src","https://q2.qlogo.cn/headimg_dl?dst_uin="+i+"&spec=100"),e=!0,i.value=i.trim(),i.value&&(l.style.display="block",c.style.display="none"),o("user_author",n.name,30),o("user_qq",i,30),o("is_user_qq","yes",30),o("user_qq_email",i+"@qq.com",30),o("user_email",i+"@qq.com",30),u=r.value(),d.setAttribute("src",n.avatar),o("user_avatar",n.avatar,30)},error:function(){i.value="",l.style.display="none",c.style.display="block",d.setAttribute("src",get_gravatar(r.value,80)),o("user_qq","",30),o("user_email",r.value,30),o("user_avatar",get_gravatar(r.value,80),30),i.value=r.value=a.value="",i.value||(l.style.display="none",c.style.display="block",o("user_qq","",30),d.setAttribute("src",get_gravatar(r.value,80)),o("user_avatar",get_gravatar(r.value,80),30))}})})),s("user_avatar")&&s("user_email")&&"no"==s("is_user_qq")&&!s("user_qq_email")&&(d.setAttribute("src",s("user_avatar")),r.value=s("user_mail"),i.value="",i.value||(l.style.display="none",c.style.display="block")),r.addEventListener("blur",(function(){let t=r.value;0!=e&&u==t||""==t||(d.setAttribute("src",get_gravatar(t,80)),o("user_avatar",get_gravatar(t,80),30),o("user_email",t,30),o("user_qq_email","",30),o("is_user_qq","no",30),i.value="",i.value||(l.style.display="none",c.style.display="block"))})),s("user_url")&&(a.value=s("user_url")),a.addEventListener("blur",(function(){let e=a.value;a.value=e,o("user_url",e,30)})),s("user_author")&&(t.value=s("user_author")),t.addEventListener("blur",(function(){let e=t.value;t.value=e,o("user_author",e,30)}))}function M(){const e=document.getElementsByTagName("section");let t=!1;for(let n=0;n<e.length;n++)if(e[n].classList.contains("bangumi")){t=!0;break}t&&document.addEventListener("click",(function(e){const t=e.target;if(t===document.querySelector("#bangumi-pagination a")){e.preventDefault(),e.stopPropagation(),t.classList.add("loading"),t.textContent="";const n=new XMLHttpRequest;n.open("POST",t.href+"&_wpnonce="+Poi.nonce,!0),n.onreadystatechange=function(){if(4==n.readyState&&200==n.status){let e=JSON.parse(n.responseText),t=document.getElementById("bangumi-pagination"),o=document.getElementsByClassName("row")[0];t.remove(),o.insertAdjacentHTML("beforeend",e)}else t.classList.remove("loading"),t.innerHTML='<i class="fa fa-exclamation-triangle" aria-hidden="true"></i> ERROR '},n.send()}}))}A.length>0&&Array.from(A,(e=>{e.addEventListener("click",(()=>{"block"==e.stlye.display?e.style.display="none":e.style.display="block"}))})),document.querySelectorAll(".comt-smilies a").forEach((e=>{e.addEventListener("click",(()=>{e.parentNode.style.display="none"}))})),j(),e(),u((()=>{H()})),mashiro_option.float_player_on&&document.body.clientWidth>860&&Promise.all([a.e(373),a.e(350)]).then(a.t.bind(a,350,23)).then((({aplayerInit:e})=>e())),setTimeout((function(){!function(){let e=document.getElementById("secondary");if(document.body.clientWidth>860){let t=document.querySelector(".show-hide");t&&t.addEventListener("click",(function(){e&&e.classList.toggle("active")}))}else e&&e.remove()}()}),100),mashiro_global.ini.normalize(),t(mashiro_option.jsdelivr_css_src),t(mashiro_option.entry_content_style_src),t("https://at.alicdn.com/t/font_679578_qyt5qzzavdo39pb9.css");const P=a(323);var D=document.getElementById("bgvideo"),R={MN:function(){let e=document.querySelector(".iconflat");e&&e.addEventListener("click",(function(){document.body.classList.toggle("navOpen"),document.getElementById("main-container").classList.toggle("open"),document.getElementById("mo-nav").classList.toggle("open"),document.querySelector(".openNav").classList.toggle("open")}))},MNH:function(){document.body.classList.contains("navOpen")&&(document.body.classList.toggle("navOpen"),document.getElementById("main-container").classList.toggle("open"),document.getElementById("mo-nav").classList.toggle("open"),document.querySelector(".openNav").classList.toggle("open"))},splay:function(){let e=document.getElementById("video-btn");e&&(e.classList.add("video-pause"),e.classList.remove("video-play"));try{e.style.display="",document.querySelector(".video-stu").style.bottom="-100px",document.querySelector(".focusinfo").style.top="-999px"}catch{}try{for(let e=0;e<ap.length;e++)try{ap[e].destroy()}catch{}}catch{}try{hermitInit()}catch{}D.play()},spause:function(){let e=document.getElementById("video-btn");e&&(e.classList.add("video-play"),e.classList.remove("video-pause"));try{document.querySelector(".focusinfo").style.top="49.3%"}catch{}D.pause()},liveplay:function(){null!=D.oncanplay&&document.querySelector(".haslive")&&document.querySelector(".videolive")&&R.splay()},livepause:function(){if(null!=D.oncanplay&&document.querySelector(".haslive")){R.spause();let e=document.getElementsByClassName("video-stu")[0];e.style.bottom="0px",e.innerHTML="已暂停 ..."}},addsource:function(){let e=document.getElementsByClassName("video-stu")[0];e.innerHTML="正在载入视频 ...",e.style.bottom="0px";let t=Poi.movies.name.split(","),n=t[Math.floor(Math.random()*t.length)],o=document.getElementById("bgvideo");o.setAttribute("src",Poi.movies.url+"/"+n+".mp4"),o.setAttribute("video-name",n)},LV:function(){let e=document.getElementById("video-btn");e&&e.addEventListener("click",(function(){this.classList.contains("loadvideo")?(this.classList.add("video-pause"),this.classList.remove("loadvideo"),R.addsource(),D.oncanplay=function(){R.splay(),document.getElementById("video-add").style.display="block",e.classList.add("videolive","haslive")}):this.classList.contains("video-pause")?(R.spause(),e.classList.remove("videolive"),document.getElementsByClassName("video-stu")[0].style.bottom="0px",document.getElementsByClassName("video-stu")[0].innerHTML="已暂停 ..."):(R.splay(),e.classList.add("videolive")),D.onended=function(){D.setAttribute("src",""),document.getElementById("video-add").style.display="none",e&&e.classList.add("loadvideo"),e&&e.classList.remove("video-pause","videolive","haslive"),document.querySelector(".focusinfo").style.top="49.3%"}}));const t=document.getElementById("video-add");t&&t.addEventListener("click",(function(){R.addsource()}))},AH:function(){if("auto"==Poi.windowheight){if(document.querySelector("h1.main-title")){const e=document.getElementById("centerbg"),t=document.getElementById("bgvideo");e&&(e.style.height="100vh"),t&&(t.style.minHeight="100vh")}}else document.querySelector(".headertop")&&document.querySelector(".headertop").classList.add("headertop-bar")},PE:function(){if(document.querySelector(".headertop")){let e=document.querySelector(".headertop"),t=document.querySelector(".blank");if(document.querySelector(".main-title")){try{t.style.paddingTop="0px"}catch(e){}e.style.height="auto",e.style.display="","open"==Poi.movies.live&&R.liveplay()}else{try{t.style.paddingTop="75px"}catch(e){}e.style.height="0px",e.style.display="none",R.livepause()}}},CE:function(){let e=document.querySelector(".comments-hidden"),t=document.querySelector(".comments-main");null!=e&&(e.style.display="block",t.style.display="none",e.addEventListener("click",(function(){l(t,500,"show"),e.style.display="none"})));let o=document.getElementsByClassName("archives");if(o.length>0){for(let e=0;e<o.length;e++)o[e].style.display="none";o[0].style.display="";let e=document.getElementById("archives-temp").getElementsByTagName("h3");for(let t=0;t<e.length;t++)e[t].addEventListener("click",(e=>{e.preventDefault(),e.stopPropagation(),l(e.target.nextElementSibling,300)}))}const s=function(){if(document.getElementsByClassName("js-toggle-search")[0].classList.toggle("is-active"),document.getElementsByClassName("js-search")[0].classList.toggle("is-visible"),document.documentElement.style.overflowY="hidden",mashiro_option.live_search){var e=[];!function(n){if(null!=sessionStorage.getItem("search"))l(e=JSON.parse(sessionStorage.getItem("search")),document.getElementById("search-input").value,o),r();else{var i=new XMLHttpRequest;i.open("GET",n,!0),i.send(),i.onreadystatechange=function(){4==i.readyState&&200==i.status&&(json=i.responseText,""!=json&&(sessionStorage.setItem("search",json),l(e=JSON.parse(json),t.value,o),r()))}}}(n(Poi.api+"sakura/v1/cache_search/json"));var t=document.getElementById("search-input"),o=document.getElementById("PostlistBox").innerHTML,s=null;function r(){const e=document.querySelector(".search_close"),t=document.getElementById("Ty");for(const n of document.getElementsByClassName("ins-selectable"))n.addEventListener("click",(()=>{t.href=n.getAttribute("href"),t.click(),e.click()}))}function a(e,t,n,o,i,s,r){if(e){var a=e.trim().split(" "),l=o.indexOf(a[a.length-1]),c=r.indexOf(a[a.length-1]);o=(o=l<60?o.slice(0,80):o.slice(l-30,l+30)).replace(a[a.length-1],'<mark class="search-keyword"> '+a[a.length-1].toUpperCase()+" </mark>"),r=(r=c<60?r.slice(0,80):r.slice(c-30,c+30)).replace(a[a.length-1],'<mark class="search-keyword"> '+a[a.length-1].toUpperCase()+" </mark>")}return'<div class="ins-selectable ins-search-item" href="'+t+'"><header><i class="fa fa-'+n+'" aria-hidden="true"></i>'+o+'<i class="iconfont icon-'+i+'"> '+s+'</i></header><p class="ins-search-preview">'+r+"</p></div>"}function l(e,t,n){var o,s,r,l="",c="",d="",u="",m="",g="",f="",p='<section class="ins-section"><header class="ins-section-header">',h="</section>",y="</header>",v=(s=e,r=(r=t.trim()).replace(r,"^(?=.*?"+r+").+$").replace(/\s/g,")(?=.*?"),i=s.filter((e=>Object.values(e).some((e=>new RegExp(r+"").test(e))))),i);for(o=0;o<Object.keys(v).length;o++)switch((f=v[o]).type){case"post":c+=a(t,f.link,"file",f.title,"mark",f.comments,f.text);break;case"tag":m+=a("",f.link,"tag",f.title,"none","","");break;case"category":u+=a("",f.link,"folder",f.title,"none","","");break;case"page":d+=a(t,f.link,"file",f.title,"mark",f.comments,f.text);break;case"comment":g+=a(t,f.link,"comment",f.title,"none","",f.text)}c&&(l=l+p+"文章"+y+c+h),d&&(l=l+p+"页面"+y+d+h),u&&(l=l+p+"分类"+y+u+h),m&&(l=l+p+"标签"+y+m+h),g&&(l=l+p+"评论"+y+g+h),document.getElementById("PostlistBox").innerHTML=l}t.oninput=function(){null==s&&clearTimeout(s),s=setTimeout((function(){l(e,t.value,o),r()}),250)},Object.values||(Object.values=function(e){if(e!==Object(e))throw new TypeError("Object.values called on a non-object");var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(e[t]);return n})}};for(const e of document.getElementsByClassName("js-toggle-search"))e.addEventListener("click",s);const r=document.querySelector(".search_close");r&&r.addEventListener("click",(function(){let e=document.getElementsByClassName("js-search")[0];e.classList.contains("is-visible")&&(document.getElementsByClassName("js-toggle-search")[0].classList.toggle("is-active"),e.classList.toggle("is-visible"),document.documentElement.style.overflowY="unset")}));try{let e=document.getElementById("show-nav");e.addEventListener("click",(function(){if(e.classList.contains("showNav")){e.classList.remove("showNav"),e.classList.add("hideNav");let t=document.querySelector(".site-top .lower nav");t&&t.classList.add("navbar")}else{e.classList.remove("hideNav"),e.classList.add("showNav");let t=document.querySelector(".site-top .lower nav");t&&t.classList.remove("navbar")}})),document.getElementById("loading").addEventListener("click",(function(){let e=document.getElementById("loading");e.classList.add("hide"),e.classList.remove("show")}))}catch(e){}},NH:function(){window.addEventListener("scroll",(()=>{let e=document.documentElement.scrollTop||window.pageYOffset,t=document.querySelector(".site-header");0==e&&t.classList.remove("yya"),e>0&&t.classList.add("yya")}))},XLS:function(){let e;function t(){const e=document.querySelector("#pagination a");return e.classList.add("loading"),e.innerText="",fetch(e.getAttribute("href")+"#main").then((e=>e.text())).then((t=>{const n=(new DOMParser).parseFromString(t,"text/html"),o=n.querySelectorAll("#main .post"),i=n.querySelector("#pagination a"),s=i&&i.getAttribute("href");for(let e=0;e<o.length;e++){let t=o[e];document.getElementById("main").insertAdjacentHTML("beforeend",t.outerHTML)}Poi.pjax&&Pjax.refresh(document.querySelector("#content"));const r=document.querySelector("#pagination a"),a=document.querySelector("#add_post span");if(r&&(r.classList.remove("loading"),r.innerText="Previous"),a&&(a.classList.remove("loading"),a.innerText=""),lazyload(),c(),null!=s){e.setAttribute("href",s);let t=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop;window.scrollTo({top:t+300,behavior:"smooth"})}else document.getElementById("pagination").innerHTML="<span>很高兴你翻到这里，但是真的没有了...</span>"})),!1}new IntersectionObserver((function(n){if(n[0].intersectionRatio<=0)return;const o=document.querySelector("#pagination a");if(o){const n=o.getAttribute("href"),i=document.getElementById("add_post_time");if(null!=n&&i){const n=document.getElementById("add_post_time").title;"233"!=n&&(console.log("%c 自动加载时倒计时 %c","background:#9a9da2; color:#ffffff; border-radius:4px;","","",n),e=setTimeout((function(){t()}),1e3*n))}}})).observe(document.querySelector(".footer-device")),document.body.addEventListener("click",(function(n){n.target==document.querySelector("#pagination a")&&(n.preventDefault(),n.stopPropagation(),clearTimeout(e),t())}))},XCS:function(){const e="commentwrap",t=document.getElementById("commentform");t&&t.addEventListener("submit",(function(){addComment.createButterbar("提交中(Commiting)....");const t=new FormData(this);return t.append("action","ajax_comment"),fetch(Poi.ajaxurl,{method:this.attributes.method.value,body:t}).then((async t=>{const n=await t.text();if(t.ok){Array.from(document.getElementsByTagName("textarea")).forEach((e=>e.value=""));const t=document.getElementById("cancel-comment-reply-link"),o=document.getElementById("wp-temp-form-div"),i=document.getElementById(addComment.respondId);"0"!=document.getElementById("comment_parent").value?document.getElementById("respond").insertAdjacentHTML("beforebegin",'<ol class="children">'+n+"</ol>"):document.getElementsByClassName(e).length?"asc"==Poi.order?document.getElementsByClassName("commentwrap")[1].insertAdjacentHTML("beforeend",n):document.getElementsByClassName("commentwrap")[1].insertAdjacentHTML("afterbegin",n):"bottom"==Poi.formpostion?document.getElementById("respond").insertAdjacentHTML("beforebegin",'<ol class="'+e+'">'+n+"</ol>"):document.getElementById("respond").insertAdjacentHTML("afterend",'<ol class="'+e+'">'+n+"</ol>"),addComment.createButterbar("提交成功(Succeed)"),lazyload(),d(),g(),document.getElementById("upload-img-show").innerHTML="",t.style.display="none",t.onclick=null,document.getElementById("comment_parent").value="0",o&&i&&(o.parentNode.insertBefore(i,o),o.remove())}else addComment.createButterbar(null!=n?n:"HTTP"+t.status+":"+t.statusText)})).catch((e=>{addComment.createButterbar(e)})),!1})),window.addComment=a(713).Z},XCP:function(){document.body.addEventListener("click",(function(e){if(e.target.parentNode==document.getElementById("comments-navi")&&"a"==e.target.nodeName.toLowerCase()){e.preventDefault(),e.stopPropagation();let t=e.target,n=t.pathname,o=new XMLHttpRequest;o.open("GET",t.getAttribute("href"),!0),o.responseType="document",o.onloadstart=()=>{let e=document.getElementById("comments-navi"),t=document.querySelector("ul.commentwrap"),n=document.getElementById("loading-comments"),o=document.getElementById("comments-list-title");e.remove(),t.remove(),n.style.display="block",l(n,500,"show"),window.scrollTo({top:o.getBoundingClientRect().top+window.pageYOffset-o.clientTop-65,behavior:"smooth"})},o.onreadystatechange=function(){if(4==o.readyState&&200==o.status){let e=o.response,t=e.querySelector("ul.commentwrap"),i=e.getElementById("comments-navi");l(document.getElementById("loading-comments"),200,"hide"),document.getElementById("loading-comments").insertAdjacentHTML("afterend",t.outerHTML),document.querySelector("ul.commentwrap").insertAdjacentHTML("afterend",i.outerHTML),lazyload(),window.gtag&&gtag("config",Poi.google_analytics_id,{page_path:n}),d(),g();let s=document.querySelector("ul.commentwrap");window.scrollTo({top:s&&s.getBoundingClientRect().top+window.pageYOffset-s.clientTop-200,behavior:"smooth"})}},o.send()}}))},IA:function(){P.colorful=!0,P.shake=!1,document.body.addEventListener("input",P)},GT:function(){let e=document.querySelector("#moblieGoTop"),t=document.querySelector("#changskin");window.addEventListener("scroll",(()=>{(document.documentElement.scrollTop||document.body.scrollTop)>20?(e.style.transform="scale(1)",t.style.transform="scale(1)"):(e.style.transform="scale(0)",t.style.transform="scale(0)")})),e.onclick=function(){window.scrollTo({top:0,behavior:"smooth"})}}};Poi.pjax&&(new Pjax({selectors:["#page","title",".footer-device"],elements:["a:not([target='_top']):not(.comment-reply-link):not(#pagination a):not(#comments-navi a):not(.user-menu-option a):not(.header-user-avatar a):not(.emoji-item)",".search-form",".s-search"],timeout:8e3,history:!0,cacheBust:!1}),document.addEventListener("pjax:send",(()=>{for(const e of document.getElementsByClassName("normal-cover-video"))e.pause(),e.src="",e.load="";document.getElementById("bar").style.width="0%",mashiro_option.NProgressON&&NProgress.start(),R.MNH()})),document.addEventListener("pjax:complete",(function(){R.AH(),R.PE(),R.CE(),mashiro_option.NProgressON&&NProgress.done(),mashiro_global.ini.pjax();let e=document.getElementById("loading");e&&(e.classList.add("hide"),e.classList.remove("show")),"open"==Poi.codelamp&&self.Prism.highlightAll(event),document.querySelector(".js-search.is-visible")&&(document.getElementsByClassName("js-toggle-search")[0].classList.toggle("is-active"),document.getElementsByClassName("js-search")[0].classList.toggle("is-visible"),document.documentElement.style.overflowY="unset")})),document.addEventListener("pjax:success",(function(){window.gtag&&gtag("config",Poi.google_analytics_id,{page_path:window.location.pathname})})),window.addEventListener("popstate",(function(e){R.AH(),R.PE(),R.CE(),I(),_(!0),c()}),!1)),u((function(){R.AH(),R.PE(),R.NH(),R.GT(),R.XLS(),R.XCS(),R.XCP(),R.CE(),R.MN(),R.IA(),R.LV(),console.log("%c Mashiro %c","background:#24272A; color:#ffffff","","https://2heng.xin/"),console.log("%c Github %c","background:#24272A; color:#ffffff","","https://github.com/mashirozx")}));let z=navigator.userAgent.toLowerCase().indexOf("webkit")>-1,F=navigator.userAgent.toLowerCase().indexOf("opera")>-1,W=navigator.userAgent.toLowerCase().indexOf("msie")>-1;function V(){mashiro_option.audio&&u((()=>{window.AudioContext=window.AudioContext||window.webkitAudioContext,function(){if(window.AudioContext){let e,t=new AudioContext,n="880 987 1046 987 1046 1318 987 659 659 880 784 880 1046 784 659 659 698 659 698 1046 659 1046 1046 1046 987 698 698 987 987 880 987 1046 987 1046 1318 987 659 659 880 784 880 1046 784 659 698 1046 987 1046 1174 1174 1174 1046 1046 880 987 784 880 1046 1174 1318 1174 1318 1567 1046 987 1046 1318 1318 1174 784 784 880 1046 987 1174 1046 784 784 1396 1318 1174 659 1318 1046 1318 1760 1567 1567 1318 1174 1046 1046 1174 1046 1174 1567 1318 1318 1760 1567 1318 1174 1046 1046 1174 1046 1174 987 880 880 987 880".split(" "),o=0,i=1,s="♪ ♩ ♫ ♬ ♭ € § ¶ ♯".split(" "),r=!1;document.querySelectorAll(".site-title, #moblieGoTop, .site-branding, .searchbox, .changeSkin-gear, .menu-list li").forEach((a=>{a.addEventListener("mouseenter",(a=>{if(e)return;let l=n[o];l||(o=0,l=n[o]),o+=i;let c=t.createOscillator(),d=t.createGain();if(c.connect(d),d.connect(t.destination),c.type="sine",c.frequency.value=l,d.gain.setValueAtTime(0,t.currentTime),d.gain.linearRampToValueAtTime(1,t.currentTime+.01),c.start(t.currentTime),d.gain.exponentialRampToValueAtTime(.001,t.currentTime+1),c.stop(t.currentTime+1),r=!0){let t=Math.round(7*Math.random());e=document.createElement("b"),e.textContent=s[t],h=a.pageX,p=a.pageY-5,e.style.zIndex="99999",e.style.top=p-100+"px",e.style.left=h+"px",e.style.position="absolute",e.style.color="#FF6EB4",document.body.appendChild(e),e.animate([{top:p+"px"},{opacity:0}],{duration:500}),setTimeout((()=>{e.remove(),e=null}),500),a.stopPropagation()}r=!1}))}))}}()}))}(z||F||W)&&document.getElementById&&window.addEventListener&&window.addEventListener("hashchange",(function(){let e,t=location.hash.substring(1);/^[A-z0-9_-]+$/.test(t)&&(e=document.getElementById(t),e&&(/^(?:a|select|input|button|textarea)$/i.test(e.tagName)||(e.tabIndex=-1),e.focus()))}),!1),window.addEventListener("load",(()=>{const e=document.getElementById("preload");e&&(document.documentElement.style.overflowY="unset",0==mashiro_option.preload_blur?(e.classList.add("hide"),e.classList.remove("show"),setTimeout((()=>e.remove()),233)):e.animate([{filter:"blur(0px)",backdropFilter:"blur(10px)",opacity:1},{backdropFilter:"blur(0px)grayscale(0)",opacity:.1},{opacity:0,filter:"blur(100px)"}],{duration:mashiro_option.preload_blur,fill:"forwards",easing:"ease"}).onfinish=()=>{e.remove()})})),a(790)})()})();
//# sourceMappingURL=app.js.map