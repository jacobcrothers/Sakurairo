{"version":3,"sources":["webpack://sakurairo-scripts/./node_modules/activate-power-mode/dist/activate-power-mode.js"],"names":["factory","modules","installedModules","moduleId","exports","module","id","loaded","call","m","c","p","canvas","document","createElement","width","window","innerWidth","height","innerHeight","style","cssText","addEventListener","body","appendChild","context","getContext","particles","particlePointer","rendering","getRandom","min","max","Math","random","getColor","el","POWERMODE","colorful","u","getComputedStyle","color","createParticle","x","y","alpha","velocity","caret","bcr","activeElement","tagName","getAttribute","offset","selectionEnd","getBoundingClientRect","left","top","selection","getSelection","rangeCount","range","getRangeAt","startNode","startContainer","nodeType","TEXT_NODE","parentNode","getCaret","numParticles","round","shake","intensity","marginLeft","marginTop","setTimeout","requestAnimationFrame","loop","clearRect","rendered","rect","i","length","particle","globalAlpha","fillStyle","fillRect","properties","isFirefox","mozInnerScreenX","getCaretCoordinates","element","position","options","debug","querySelector","removeChild","div","computed","currentStyle","whiteSpace","nodeName","wordWrap","visibility","forEach","prop","scrollHeight","parseInt","overflowY","overflow","textContent","value","substring","replace","span","coordinates","offsetTop","offsetLeft","backgroundColor"],"mappings":"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","file":"213.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"POWERMODE\"] = factory();\n\telse\n\t\troot[\"POWERMODE\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n\n\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar canvas = document.createElement('canvas');\n\tcanvas.width = window.innerWidth;\n\tcanvas.height = window.innerHeight;\n\tcanvas.style.cssText = 'position:fixed;top:0;left:0;pointer-events:none;z-index:999999';\n\twindow.addEventListener('resize', function () {\n\t    canvas.width = window.innerWidth;\n\t    canvas.height = window.innerHeight;\n\t});\n\tdocument.body.appendChild(canvas);\n\tvar context = canvas.getContext('2d');\n\tvar particles = [];\n\tvar particlePointer = 0;\n\tvar rendering = false;\n\n\tPOWERMODE.shake = true;\n\n\tfunction getRandom(min, max) {\n\t    return Math.random() * (max - min) + min;\n\t}\n\n\tfunction getColor(el) {\n\t    if (POWERMODE.colorful) {\n\t        var u = getRandom(0, 360);\n\t        return 'hsla(' + getRandom(u - 10, u + 10) + ', 100%, ' + getRandom(50, 80) + '%, ' + 1 + ')';\n\t    } else {\n\t        return window.getComputedStyle(el).color;\n\t    }\n\t}\n\n\tfunction getCaret() {\n\t    var el = document.activeElement;\n\t    var bcr;\n\t    if (el.tagName === 'TEXTAREA' ||\n\t        (el.tagName === 'INPUT' && el.getAttribute('type') === 'text')) {\n\t        var offset = __webpack_require__(1)(el, el.selectionEnd);\n\t        bcr = el.getBoundingClientRect();\n\t        return {\n\t            x: offset.left + bcr.left,\n\t            y: offset.top + bcr.top,\n\t            color: getColor(el)\n\t        };\n\t    }\n\t    var selection = window.getSelection();\n\t    if (selection.rangeCount) {\n\t        var range = selection.getRangeAt(0);\n\t        var startNode = range.startContainer;\n\t        if (startNode.nodeType === document.TEXT_NODE) {\n\t            startNode = startNode.parentNode;\n\t        }\n\t        bcr = range.getBoundingClientRect();\n\t        return {\n\t            x: bcr.left,\n\t            y: bcr.top,\n\t            color: getColor(startNode)\n\t        };\n\t    }\n\t    return { x: 0, y: 0, color: 'transparent' };\n\t}\n\n\tfunction createParticle(x, y, color) {\n\t    return {\n\t        x: x,\n\t        y: y,\n\t        alpha: 1,\n\t        color: color,\n\t        velocity: {\n\t            x: -1 + Math.random() * 2,\n\t            y: -3.5 + Math.random() * 2\n\t        }\n\t    };\n\t}\n\n\tfunction POWERMODE() {\n\t    { // spawn particles\n\t        var caret = getCaret();\n\t        var numParticles = 5 + Math.round(Math.random() * 10);\n\t        while (numParticles--) {\n\t            particles[particlePointer] = createParticle(caret.x, caret.y, caret.color);\n\t            particlePointer = (particlePointer + 1) % 500;\n\t        }\n\t    }\n\t    { // shake screen\n\t        if (POWERMODE.shake) {\n\t            var intensity = 1 + 2 * Math.random();\n\t            var x = intensity * (Math.random() > 0.5 ? -1 : 1);\n\t            var y = intensity * (Math.random() > 0.5 ? -1 : 1);\n\t            document.body.style.marginLeft = x + 'px';\n\t            document.body.style.marginTop = y + 'px';\n\t            setTimeout(function() {\n\t                document.body.style.marginLeft = '';\n\t                document.body.style.marginTop = '';\n\t            }, 75);\n\t        }\n\t    }\n\t    if(!rendering){\n\t        requestAnimationFrame(loop);\n\t    }\n\t};\n\tPOWERMODE.colorful = false;\n\n\tfunction loop() {\n\t    rendering = true;\n\t    context.clearRect(0, 0, canvas.width, canvas.height);\n\t    var rendered = false;\n\t    var rect = canvas.getBoundingClientRect();\n\t    for (var i = 0; i < particles.length; ++i) {\n\t        var particle = particles[i];\n\t        if (particle.alpha <= 0.1) continue;\n\t        particle.velocity.y += 0.075;\n\t        particle.x += particle.velocity.x;\n\t        particle.y += particle.velocity.y;\n\t        particle.alpha *= 0.96;\n\t        context.globalAlpha = particle.alpha;\n\t        context.fillStyle = particle.color;\n\t        context.fillRect(\n\t            Math.round(particle.x - 1.5) - rect.left,\n\t            Math.round(particle.y - 1.5) - rect.top,\n\t            3, 3\n\t        );\n\t        rendered = true;\n\t    }\n\t    if(rendered){\n\t        requestAnimationFrame(loop);\n\t    }else{\n\t        rendering = false;\n\t    }\n\t}\n\n\tmodule.exports = POWERMODE;\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\n\t/* jshint browser: true */\n\n\t(function () {\n\n\t// The properties that we copy into a mirrored div.\n\t// Note that some browsers, such as Firefox,\n\t// do not concatenate properties, i.e. padding-top, bottom etc. -> padding,\n\t// so we have to do every single property specifically.\n\tvar properties = [\n\t  'direction',  // RTL support\n\t  'boxSizing',\n\t  'width',  // on Chrome and IE, exclude the scrollbar, so the mirror div wraps exactly as the textarea does\n\t  'height',\n\t  'overflowX',\n\t  'overflowY',  // copy the scrollbar for IE\n\n\t  'borderTopWidth',\n\t  'borderRightWidth',\n\t  'borderBottomWidth',\n\t  'borderLeftWidth',\n\t  'borderStyle',\n\n\t  'paddingTop',\n\t  'paddingRight',\n\t  'paddingBottom',\n\t  'paddingLeft',\n\n\t  // https://developer.mozilla.org/en-US/docs/Web/CSS/font\n\t  'fontStyle',\n\t  'fontVariant',\n\t  'fontWeight',\n\t  'fontStretch',\n\t  'fontSize',\n\t  'fontSizeAdjust',\n\t  'lineHeight',\n\t  'fontFamily',\n\n\t  'textAlign',\n\t  'textTransform',\n\t  'textIndent',\n\t  'textDecoration',  // might not make a difference, but better be safe\n\n\t  'letterSpacing',\n\t  'wordSpacing',\n\n\t  'tabSize',\n\t  'MozTabSize'\n\n\t];\n\n\tvar isFirefox = window.mozInnerScreenX != null;\n\n\tfunction getCaretCoordinates(element, position, options) {\n\n\t  var debug = options && options.debug || false;\n\t  if (debug) {\n\t    var el = document.querySelector('#input-textarea-caret-position-mirror-div');\n\t    if ( el ) { el.parentNode.removeChild(el); }\n\t  }\n\n\t  // mirrored div\n\t  var div = document.createElement('div');\n\t  div.id = 'input-textarea-caret-position-mirror-div';\n\t  document.body.appendChild(div);\n\n\t  var style = div.style;\n\t  var computed = window.getComputedStyle? getComputedStyle(element) : element.currentStyle;  // currentStyle for IE < 9\n\n\t  // default textarea styles\n\t  style.whiteSpace = 'pre-wrap';\n\t  if (element.nodeName !== 'INPUT')\n\t    style.wordWrap = 'break-word';  // only for textarea-s\n\n\t  // position off-screen\n\t  style.position = 'absolute';  // required to return coordinates properly\n\t  if (!debug)\n\t    style.visibility = 'hidden';  // not 'display: none' because we want rendering\n\n\t  // transfer the element's properties to the div\n\t  properties.forEach(function (prop) {\n\t    style[prop] = computed[prop];\n\t  });\n\n\t  if (isFirefox) {\n\t    // Firefox lies about the overflow property for textareas: https://bugzilla.mozilla.org/show_bug.cgi?id=984275\n\t    if (element.scrollHeight > parseInt(computed.height))\n\t      style.overflowY = 'scroll';\n\t  } else {\n\t    style.overflow = 'hidden';  // for Chrome to not render a scrollbar; IE keeps overflowY = 'scroll'\n\t  }\n\n\t  div.textContent = element.value.substring(0, position);\n\t  // the second special handling for input type=\"text\" vs textarea: spaces need to be replaced with non-breaking spaces - http://stackoverflow.com/a/13402035/1269037\n\t  if (element.nodeName === 'INPUT')\n\t    div.textContent = div.textContent.replace(/\\s/g, \"\\u00a0\");\n\n\t  var span = document.createElement('span');\n\t  // Wrapping must be replicated *exactly*, including when a long word gets\n\t  // onto the next line, with whitespace at the end of the line before (#7).\n\t  // The  *only* reliable way to do that is to copy the *entire* rest of the\n\t  // textarea's content into the <span> created at the caret position.\n\t  // for inputs, just '.' would be enough, but why bother?\n\t  span.textContent = element.value.substring(position) || '.';  // || because a completely empty faux span doesn't render at all\n\t  div.appendChild(span);\n\n\t  var coordinates = {\n\t    top: span.offsetTop + parseInt(computed['borderTopWidth']),\n\t    left: span.offsetLeft + parseInt(computed['borderLeftWidth'])\n\t  };\n\n\t  if (debug) {\n\t    span.style.backgroundColor = '#aaa';\n\t  } else {\n\t    document.body.removeChild(div);\n\t  }\n\n\t  return coordinates;\n\t}\n\n\tif (typeof module != \"undefined\" && typeof module.exports != \"undefined\") {\n\t  module.exports = getCaretCoordinates;\n\t} else {\n\t  window.getCaretCoordinates = getCaretCoordinates;\n\t}\n\n\t}());\n\n/***/ })\n/******/ ])\n});\n;"],"sourceRoot":""}